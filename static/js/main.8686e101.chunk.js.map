{"version":3,"sources":["res/images/logo.svg","components/app/nav-bar/nav-bar.jsx","utils/ControlBuilder.js","utils/Colors.js","utils/Utils.js","components/visualizer/controlBar/controlBar.jsx","animation/AnimatedObjects/AnimatedObject.js","animation/AnimatedObjects/AttractedDraggableObject.js","animation/AnimatedObjects/AttractedHighlightableObject.js","animation/Animator.js","animation/Visualization.js","animation/Visualizations/DataStructure/List/ArrayList/ArrayList.js","animation/Visualizations/DataStructure/List/LinkedList/SinglyLinkedList/SinglyLinkedList.js","animation/Visualizations/DataStructure/List/LinkedList/DoublyLinkedList/DoublyLinkedList.js","animation/Visualizations/DataStructure/List/LinkedList/CircularSinglyLinkedList/CircularSinglyLinkedList.js","animation/Visualizations/DataStructure/Stack-Queue-Deque/Stack/StackArray/StackArray.js","animation/Visualizations/DataStructure/Stack-Queue-Deque/Stack/StackLinkedList/StackLinkedList.js","animation/Visualizations/DataStructure/Stack-Queue-Deque/Queue/QueueArray/QueueArray.js","animation/Visualizations/DataStructure/Stack-Queue-Deque/Queue/QueueLinkedList/QueueLinkedList.js","animation/Visualizations/DataStructure/Stack-Queue-Deque/Deque/DequeArray/DequeArray.js","animation/Visualizations/DataStructure/Stack-Queue-Deque/Deque/DequeLinkedList/DequeLinkedList.js","animation/Visualizations/DataStructure/Tree-SkipList/BinaryTree/BST/BST.js","animation/Visualizations/DataStructure/Tree-SkipList/BinaryTree/Heap/Heap.js","animation/Visualizations/DataStructure/Tree-SkipList/BinaryTree/AVL/AVL.js","animation/Visualizations/DataStructure/Tree-SkipList/BinaryTree/SplayTree/SplayTree.js","animation/Visualizations/DataStructure/Tree-SkipList/BTree/BTree.js","animation/Visualizations/DataStructure/Tree-SkipList/SkipList/SkipList.js","animation/Visualizations/DataStructure/HashMap/HashMapProbing/HashMapProbing.js","animation/Visualizations/DataStructure/HashMap/HashMapChaining/HashMapChaining.js","animation/Visualizations/Algorithm/Sorting-QuickSelect/BubbleSort/BubbleSort.js","animation/Visualizations/Algorithm/Sorting-QuickSelect/CocktailShakerSort/CocktailShakerSort.js","animation/Visualizations/Algorithm/Sorting-QuickSelect/InsertionSort/InsertionSort.js","animation/Visualizations/Algorithm/Sorting-QuickSelect/SelectionSort/SelectionSort.js","animation/Visualizations/Algorithm/Sorting-QuickSelect/QuickSort/QuickSort.js","animation/Visualizations/Algorithm/Sorting-QuickSelect/QuickSelect/QuickSelect.js","animation/Visualizations/Algorithm/Sorting-QuickSelect/MergeSort/MergeSort.js","animation/Visualizations/Algorithm/Sorting-QuickSelect/LSDRadixSort/LSDRadixSort.js","animation/Visualizations/Algorithm/StringSearching/BruteForce/BruteForce.js","animation/Visualizations/Algorithm/StringSearching/BoyerMoore/BoyerMoore.js","animation/Visualizations/Algorithm/StringSearching/KMP/KMP.js","animation/Visualizations/Algorithm/StringSearching/RabinKarp/RabinKarp.js","animation/Visualizations/Algorithm/GraphAlgorithms/BFS/BFS.js","animation/Visualizations/Algorithm/GraphAlgorithms/DFS/DFS.js","animation/Visualizations/Algorithm/GraphAlgorithms/Dijkstras/Dijkstras.js","animation/Visualizations/Algorithm/GraphAlgorithms/Prims/Prims.js","animation/Visualizations/Algorithm/GraphAlgorithms/Kruskals/Kruskals.js","animation/Visualizations/Algorithm/DynamicProgramming/LCS/LCS.js","animation/Visualizations/Algorithm/DynamicProgramming/FloydWarshall/FloydWarshall.js","components/visualizer/visualizer.jsx","components/lists/list-ADT.jsx","components/lists/arraylist/arraylist.jsx","components/lists/singly-linked-list/singly-linked-list.jsx","components/lists/doubly-linked-list/doubly-linked-list.jsx","components/lists/circular-singly-linked-list/circular-singly-linked-list.jsx","components/stacks-queues-deques/stack-ADT.jsx","components/stacks-queues-deques/queue-ADT.jsx","components/stacks-queues-deques/deque-ADT.jsx","components/stacks-queues-deques/stack-array/stack-array.jsx","components/stacks-queues-deques/stack-linked-list/stack-linked-list.jsx","components/stacks-queues-deques/queue-array/queue-array.jsx","components/stacks-queues-deques/queue-linked-list/queue-linked-list.jsx","components/stacks-queues-deques/deque-array/deque-array.jsx","components/stacks-queues-deques/deque-linked-list/deque-linked-list.jsx","components/trees-skiplist/tree-ADT.jsx","components/trees-skiplist/binary-searching-tree-ADT.jsx","components/trees-skiplist/heap-ADT.jsx","components/trees-skiplist/skiplist-ADT.jsx","components/trees-skiplist/bst/bst.jsx","components/trees-skiplist/heap/heap.jsx","components/trees-skiplist/avl/avl.jsx","components/trees-skiplist/splaytree/splaytree.jsx","components/trees-skiplist/btree/btree.jsx","components/trees-skiplist/skiplist/skiplist.jsx","components/hashmaps/hashmap-ADT.jsx","components/hashmaps/probing-ADT.jsx","components/hashmaps/hashmap-probing/hashmap-probing.jsx","components/hashmaps/hashmap-chaining/hashmap-chaining.jsx","components/sorting-quickselect/sort-ADT.jsx","components/sorting-quickselect/bubbling-ADT.jsx","components/sorting-quickselect/quick-ADT.jsx","components/sorting-quickselect/select-ADT.jsx","components/sorting-quickselect/bubble-sort/bubble-sort.jsx","components/sorting-quickselect/cocktail-shaker-sort/cocktail-shaker-sort.jsx","components/sorting-quickselect/insertion-sort/insertion-sort.jsx","components/sorting-quickselect/selection-sort/selection-sort.jsx","components/sorting-quickselect/quick-sort/quick-sort.jsx","components/sorting-quickselect/quick-select/quick-select.jsx","components/sorting-quickselect/merge-sort/merge-sort.jsx","components/sorting-quickselect/lsd-radix-sort/lsd-radix-sort.jsx","components/string-searching/search-ADT.jsx","components/string-searching/with-table-ADT.jsx","components/string-searching/brute-force/brute-force.jsx","components/string-searching/boyer-moore/boyer-moore.jsx","components/string-searching/kmp/kmp.jsx","components/string-searching/rabin-karp/rabin-karp.jsx","components/graph-algorithms/graph-ADT.jsx","components/graph-visualizer-controls/graph-visualizer-controls.jsx","components/graph-visualizer-controls/index.js","components/graph-algorithms/bfs/bfs.jsx","components/graph-algorithms/dfs/dfs.jsx","components/graph-algorithms/dijkstras/dijkstras.jsx","components/graph-algorithms/prims/prims.jsx","components/graph-algorithms/kruskals/kruskals.jsx","components/dynamic-programming/lcs/lcs.jsx","components/dynamic-programming/floyd-warshall/floyd-warshall.jsx","utils/SiteMap.js","components/app/app-header/app-header.jsx","components/app/app-footer/app-footer.jsx","components/visualizer-group/visualizer-type/visualizer-title/index.js","components/visualizer-group/visualizer-type/visualizer-title/visualizer-title.jsx","components/visualizer-group/visualizer-type/index.js","components/visualizer-group/visualizer-type/visualizer-type.jsx","components/visualizer-group/index.js","components/visualizer-group/visualizer-group.jsx","components/main/index.js","components/main/main.jsx","components/about/about.jsx","serviceWorker.js","index.js","components/app/app.jsx"],"names":["module","exports","NavBar","props","state","responsive","selfRef","React","createRef","handleDocumentClick","bind","clear","document","body","scrollTop","documentElement","this","setState","addEventListener","removeEventListener","event","current","contains","target","scrollToTop","id","className","ref","to","window","location","href","substring","indexOf","length","src","logo","alt","nav_items","map","nav_item","key","link","content","container","onClick","toggleResponsiveNav","Component","NavBarItem","icon","title_text","drop_down_items","types","showDropDown","show","setShowDropDown","parentRef","parent","items","parentRoute","NavBarItemTitle","parentNavItem","onMouseDown","containingNavItemRef","e","nativeEvent","which","hash","NavBarDropDown","drop_down_item","NavBarDropDownItem","side_pane_items","visualizers","showSidePane","toggleShowSidePane","setShowSidePane","NavBarDropDownItemTitle","parentDropDownItem","containingDropDownItemRef","NavBarSidePane","side_pane_item","NavBarSideItem","newEmptyControl","emptyControl","createElement","applyStyle","createControl","type","value","newControl","classList","add","setAttribute","createButton","label","addButtonSubmit","button","callback","fields","undefined","args","forEach","field","parse","push","f","clearOnSuccess","focus","console","log","applyNewCallbackButton","visualizer","name","longName","applyResetButton","prompt","fieldToFocus","property","endsWith","constructor","HTMLInputElement","createField","validators","inputValidators","parsers","validator","parser","i","validatorIntOnly","match","reduce","sum","char","val","parseInt","isNaN","validatorPositiveIntOnly","Math","abs","validatorIntList","numLength","maxNums","cursorPos","selectionStart","replace","lastIndexOf","selectionEnd","values","ints","num","pow","intStr","arr","first","second","slice","validatorMaxLength","maxLength","String","validatorSkipListHeads","addFieldSubmit","secondaryRequired","secondary","isFirstParam","success","secondaryValue","applyFieldWithOptions","classes","defaultArgs","size","createLabel","text","control","newLabel","innerHTML","createSlider","min","max","defaultValue","step","slider","createRadioButton","longText","buttonContainer","radioButton","appendChild","click","createRadio","radioContainer","options","option","radioButtonContainer","childNodes","checked","addRadioSubmit","createCheckButton","checkButton","createCheckBox","checkBoxContainer","checkButtonContainer","addCheckBoxSubmit","max1Checked","checkedButton","checkedValues","checkButtonBox","createControlGroup","controlGroup","controls","setTabControl","nextControl","shifted","preventDefault","blur","styleType","style","RED","GREEN","BLUE","BLACK","WHITE","addArray","array","newArr","arrays","item","isDev","process","unfoldUndoRedo","object","properties","Set","currObj","Object","getOwnPropertyNames","getPrototypeOf","functions","keys","filter","includes","undo","redo","ControlBar","defaultContainer","defaults","mainContainer","controlBar","defaultsLabel","forceUpdate","mainLabel","all1","querySelectorAll","transformed","getBoundingClientRect","width","parseFloat","getComputedStyle","getPropertyValue","remove","testCenterControls","testSize","PureComponent","AnimatedObject","xProgress","yProgress","direction","animationSpeed","inPosition","sign","AttractedDraggableObject","x","y","currentX","currentY","desiredX","desiredY","vx","vy","frozen","onStop","pinnedToMouse","mouseOffsetX","mouseOffsetY","sqrt","shift","mouseX","mouseY","CAN_DRAG","p5","deltaX","deltaY","floor","Visualizer","maxAnimationSpeed","stop","angle","atan","PI","magnitude","ATTRACTION","prevAngle","cos","sin","MIN_DISTANCE","AttractedHighlightableObject","highlighted","highlightColor","Colors","highlightShape","HIGHLIGHT_CIRCLE","entries","Utils","oldX","oldY","color","shape","unhighlight","highlight","stroke","noFill","strokeWeight","HIGHTLIGHT_WIDTH","diameter","highlightInnerRadius","highlightOuterRadius","circle","HIGHLIGHT_SQUARE","square","pop","textAlign","CENTER","fill","radius","toString","drawHighlight","drawValue","Animator","events","Visualization","animator","SUPPORTS_TEXT","showText","updateText","SUPPORTS_NO_LOOP","beginDrawLoop","endDrawLoop","SUPPORTS_ANIMATION_CONTROL","paused","playPause","play","pause","SUPPORTS_STOP_ID","stopID","animationHistory","runningAnimation","animationQueue","animating","displayText","displayTextColor","stopDrawing","emit","disable","isPauseTrigger","unshift","method","setPaused","noAnim","apply","enable","canStepBack","canSkipBack","canStepForward","canSkipForward","explanation","j","params","textAnimation","getLastTextAnimation","previousAnimation","doDraw","scope","undoMethod","undoData","LOG_UNDO_REDO","undoText","customUndoEnd","ensureDrawn","isAnimationStep","isBackStep","undoAnimation","unAnimate","popHistoryToRunningAnimation","stepBack","nextAnimation","retVal","redoData","isAnimEnd","isAnimStart","isEndDrawLoopTrigger","explanationUsesReturn","customRedoEnd","isForwardStep","redoAnimation","reAnimate","skipBack","stepForward","previousAnimationSequence","TypeError","animation","time","setTimeout","callForward","SET_BOUNDS","height","popAnimation","LOG_ANIMATIONS","returnValue","returnsUndoData","returnsRedoData","SUPPORTS_CUSTOM_END","noAnimation","customEnd","doneAnimating","MAX_ANIM_TIME","quick","loop","drawing","force","noLoop","LOG_DRAW","textSize","LEFT","TOP","numScrollbars","maxY","windowWidth","querySelector","resizeCanvas","ArrayList","reset","backingArray","INITIAL_CAPACITY","ArrayElement","index","data","doubleSize","shiftForIndex","setIndex","sizeIncr","addAnimation","addAtIndex","element","shiftIntoIndex","sizeDecr","removeFromIndex","resetElement","incrLength","shiftElement","shiftElementMovement","shiftElementIndex","ELEMENT_SIZE","update","foundAnimElement","maxPerRow","rows","ceil","translate","row","numElements","noStroke","rect","block","line","nextX","nextY","draw","USE_CANVAS","toX","toY","posX","posY","SinglyLinkedList","head","nodes","tempNode","pinnedNode","node","nextNode","moveHighlight","next","makeNode","setTempNodeBefore","setTempNodePrev","shiftForNode","insertTempNode","prev","toDelete","markNodeForDeletion","unmakeNode","shiftIntoNode","skipTempNode","SinglyLinkedListNode","splice","getNodePosition","fromNode","toNode","unHighlight","nodeToDelete","markForDeletion","addOnStop","shiftNode","ELEMENT_HEIGHT","containsPos","pin","unpin","markBroken","highlightForDeletion","updateNode","ELEMENT_WIDTH","pressedNode","getNodeAtPos","POINTER_WIDTH","ITEM_WIDTH","SPACING","MAX_DIST_REMOVE","handBroken","displacement","dist","DoublyLinkedList","tail","skipTempNodePrev","skipTempNodeNext","DoublyLinkedListNode","ELEMENT_PADDED_WIDTH","CircularSinglyLinkedList","changeHeadData","customNodeShift","resetHead","CircularSinglyLinkedListNode","unfreeze","pointsToHead","curveTightness","beginShape","curveVertex","endShape","StackArray","made","Array","copyArray","tempElement","topPointerValue","topPointerHighlighter","TOP_LOCATION_X","TOP_LOCATION_Y","resizing","createCopyArray","makeElement","useTopPointer","highlightTemp","insertElement","updateTopPointer","extractElement","unmakeElement","initCopyArray","addItemToCopy","useCopyArr","pos","getElementPosition","StackArrayElement","customEndingElementShift","assignCopyArray","shiftElementToBackingArray","immediateHighlight","highlightForMovement","moveTopTracker","goTo","copy","changeTopPointerValue","moving","updateElement","allInPosition","StackLinkedList","skipDraw","maxNode","curr","setTempNodeBeforeHead","shiftHeadForNode","shiftHead","markHeadForDeletion","unmakeHead","StackLinkedListNode","temp","oldData","QueueArray","headPointerValue","headPointerHighlighter","HEAD_LOCATION_X","HEAD_LOCATION_Y","tailPointerValue","tailPointerHighlighter","TAIL_LOCATION_X","TAIL_LOCATION_Y","furthestObject","useTailPointer","updateTailPointer","useHeadPointer","updateHeadPointer","arrIndex","QueueArrayElement","shiftElementToCopyArray","el","noAction","oldBacking","moveTailTracker","moveHeadTracker","oldTemp","newHead","changeHeadPointerValue","oldHead","newTail","changeTailPointerValue","oldTail","QueueLinkedList","setTempNodeAfterTail","shiftTail","QueueLinkedListNode","newTemp","HEAD_TAIL_SIZE","HEAD_TAIL_X","tailY","getTailY","shiftTemp","DequeArray","frontPointerValue","frontPointerHighlighter","FRONT_LOCATION_X","FRONT_LOCATION_Y","sizePointerHighlighter","SIZE_LOCATION_X","SIZE_LOCATION_Y","front","useFrontPointer","useFrontDecrementPointer","useFrontSizePointer","updateFrontPointer","updateSizePointer","getIndex","DequeArrayElement","moveSizeTracker","end","moveFrontTracker","offset","fromSize","changeFrontPointerValue","oldFront","changeSizePointerValue","oldSize","DequeLinkedList","setHeadAfterTempNode","setTailBeforeTempNode","shiftNewHead","shiftNewTail","DequeLinkedListNode","atHead","furthest","BST","Heap","HeapElement","AVL","SplayTree","BTree","SkipList","HashMapProbing","HashMapChaining","BubbleSort","CocktailShakerSort","InsertionSort","SelectionSort","QuickSort","QuickSelect","MergeSort","LSDRadixSort","BruteForce","BoyerMoore","KMP","RabinKarp","BFS","DFS","Dijkstras","Prims","Kruskals","LCS","FloydWarshall","ADT_NAME","currConstructor","VISUALIZATION_METHODS","methodName","__proto__","setup","mousePressed","touchMoved","mouseReleased","windowResized","controlBarRef","controlGroups","defaultControlGroups","onAnimStart","onAnimEnd","focusedElement","Proxy","get","propertyName","receiver","param","on","addControlLabel","NAME","addControls","addDefaultControls","MAX_SPEED","SPEED_SLIDER_DEGREE","speedSlider","ControlBuilder","INITIAL_SPEED","sliderLabel","speedSliderGroup","extraGroups","VISUALIZATION_CLASS","skipBackButton","visualization","disabled","stepBackButton","playPauseButton","stepForwardButton","skipForwardButton","skipForward","animationControls","tagName","registerControlGroup","child","disableUI","enableUI","activeElement","vis","setMainLabel","setDefaultsLabel","defaultGroup","addDefaultGroup","addControlGroup","mounted","prevProps","prevState","canvasParentRef","mobile","ontouchstart","createCanvas","background","controlWidth","from","labelWidth","left","DIV_CLASS","touchStarted","touchEnded","ListVisualizer","valueField","addToBack","indexField","addToFrontButton","removeFromBackButton","addAtIndexButton","resetButton","addFrontBackGroup","addToBackButton","removeFrontBackGroup","removeFromFrontButton","valueFrontBackGroup","indexGroup","removeFromIndexButton","resetGroup","ArrayListVisualizer","SinglyLinkedListVisualizer","DoublyLinkedListVisualizer","CircularSinglyLinkedListVisualizer","StackVisualizer","interactionButtonGroup","pushButton","popButton","mainControlGroup","QueueVisualizer","enqueueButton","dequeueButton","DequeVisualizer","addButtonGroup","addFirstButton","addLastButton","removeButtonGroup","removeFirstButton","removeLastButton","interactionGroup","StackArrayVisualizer","StackLinkedListVisualizer","QueueArrayVisualizer","QueueLinkedListVisualizer","DequeArrayVisualizer","DequeLinkedListVisualizer","TreeVisualizer","insertField","deleteField","findField","insertGroup","insertButton","deleteGroup","deleteButton","findGroup","findButton","printGroup","printButton","BinarySearchingTreeVisualizer","togglePredecessorSuccessorRadio","togglePredecessorSuccessor","togglePredecessorSuccessorGroup","HeapVisualizer","buildHeapField","toggleMinMaxRadio","toggleMinMax","buildHeapGroup","buildHeapButton","toggleMinMaxGroup","SkipListADTVisualizer","addRandomly","headsField","addWithHeads","removeField","getField","addRandomlyGroup","addRandomlyButton","addWithHeadsGroup","addWithHeadsButton","removeGroup","removeButton","getGroup","getButton","BSTVisualizer","HeapPQVisualizer","AVLVisualizer","SplayTreeVisualizer","BTreeVisualizer","SkipListVisualizer","HashMapVisualizer","ProbingVisualizer","toggleProbingModeRadio","toggleProbingMode","toggleProbingModeGroup","HashMapProbingVisualizer","HashMapChainingVisualizer","SortVisualizer","sortField","sortFieldGroup","sortButtonGroup","sortButton","BubblingVisualizer","toggleLastSwapOptimizationCheckBox","toggleLastSwapOptimization","toggleLastSwapOptimizationGroup","QuickVisualizer","toggleSelectPivotElementCheckBox","toggleSelectPivotElement","toggleSelectPivotElementGroup","SelectVisualizer","listField","select","kthField","listFieldGroup","kthFieldGroup","selectButtonGroup","selectButton","BubbleSortVisualizer","CocktailShakerSortVisualizer","InsertionSortVisualizer","SelectionSortVisualizer","QuickSortVisualizer","QuickSelectVisualizer","MergeSortVisualizer","LSDRadixSortVisualizer","SearchVisualizer","offerTable","searchTextField","search","patternField","buildTable","searchTextFieldGroup","patternFieldGroup","searchButtonGroup","searchButton","buildTableGroup","buildTableButton","SearchWithTableVisualizer","TABLE_NAME","BruteForceVisualizer","BoyerMooreVisualizer","KMPVisualizer","RabinKarpVisualizer","GraphVisualizer","addStartVertexField_and_runButton","startVertexField","runGroup","runButton","addControlGroups","addRunButton","runButtonGroup","addDFStypeRadio","toggleDFStypeRadio","toggleDFStype","dfsTypeRadioGroup","addNewGraphButtons","newGraphButtonsGroup","newSmallGraphButton","newLargeGraphButton","addDirectedUndirectedRadio","toggleUndirectedDirectedRadio","toggleUndirectedDirected","directedUndirectedRadioGroup","addRepresentationRadio","toggleRepresentationRadio","toggleRepresentation","representationRadioGroup","GraphVisualizerControls","BFSVisualizer","GraphControls","DFSVisualizer","DijkstrasVisualizer","PrimsVisualizer","KruskalsVisualizer","LCSVisualizer","firstStringField","findLCS","secondStringField","findLCSButton","stringFieldGroup","lcsButtonGroup","FloydWarshallVisualizer","SiteMap","component","AppHeader","AppFooter","VisualizerTitle","group","title","VisualizerType","useRouteMatch","path","useEffect","VisualizerComponent","visualizerClass","VisualizerGroup","visualizerType","Main","visualizerGroup","About","Boolean","hostname","ReactDOM","render","basename","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.8686e101.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.2d46fc74.svg\";","import React, { Component } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport './nav-bar.scss';\r\n\r\nimport logo from 'res/images/logo.svg';\r\n\r\n\r\nexport default class NavBar extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            responsive: false,\r\n        };\r\n\r\n        this.selfRef = React.createRef();\r\n        this.handleDocumentClick = this.handleDocumentClick.bind(this);\r\n        this.clear = this.clear.bind(this);\r\n    }\r\n\r\n    scrollToTop() {\r\n        document.body.scrollTop = 0; // For Safari\r\n        document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera\r\n        // console.log(\"scrolltotop\");\r\n    }\r\n\r\n    toggleResponsiveNav() {\r\n        this.setState((state) => {\r\n                return {\r\n                    responsive: !state.responsive,\r\n                };\r\n            });\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        document.addEventListener(\"mousedown\", this.handleDocumentClick);\r\n        // console.log(this.state.parentNavItem);\r\n    }\r\n    componentWillUnmount() {\r\n        document.removeEventListener(\"mousedown\", this.handleDocumentClick);\r\n    }\r\n    handleDocumentClick(event) {\r\n        // console.log(\"doc clicked nav title\");\r\n        // console.log(this.state.containingNavItemRef);\r\n        // console.log(this.state.containingNavItemRef.current);\r\n        if (this.selfRef.current && !this.selfRef.current.contains(event.target)) {\r\n            // console.log(\"outside nav title\");\r\n            this.clear();\r\n        }\r\n    }\r\n\r\n    clear() {\r\n        this.setState({responsive: false});\r\n        this.scrollToTop();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div id=\"top-nav\" className={`nav-bar ${this.state.responsive ? \"responsive\" : \"\"} nav-container`} ref={this.selfRef}>\r\n                    <Link className=\"not-a-button\" id=\"nav-logo\" to={window.location.href.substring(window.location.href.indexOf(\"/#/\")).length > 0 ? \"/\" : \"\" }><img src={logo} className=\"app-logo\" alt=\"logo\" /></Link>\r\n                    {this.props.nav_items.map( (nav_item) => {\r\n                        return (\r\n                                <NavBarItem key={`nav-${nav_item.link}`} content={nav_item} container={this}/>\r\n                            );\r\n                    })}\r\n                    <button className=\"not-a-button nav-bar-item nav-item nav-item-title\" id=\"top-nav-menu\" onClick={() => this.toggleResponsiveNav()}><i className=\"fa fa-bars\"></i></button>\r\n                </div>\r\n            );\r\n    }\r\n}\r\n\r\nclass NavBarItem extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            link: this.props.content.link,\r\n            icon: this.props.content.icon,\r\n            title_text: this.props.content.title_text,\r\n            drop_down_items: this.props.content.types,\r\n        };\r\n\r\n        this.selfRef = React.createRef();\r\n\r\n        if (this.state.drop_down_items) {\r\n            this.state.showDropDown = false;\r\n        }\r\n\r\n\r\n        this.clear = this.clear.bind(this);\r\n    }\r\n\r\n    setShowDropDown(show) {\r\n        if (this.state.drop_down_items) {\r\n            this.setState( (state) => {\r\n                return {\r\n                    showDropDown: show,\r\n                }\r\n            }, () => {\r\n\r\n            });\r\n        }\r\n    }\r\n\r\n    toggleShowDropDown(show) {\r\n        if (this.state.drop_down_items) {\r\n            this.setState( (state) => {\r\n                return {\r\n                    showDropDown: !state.showDropDown,\r\n                }\r\n            }, () => {\r\n\r\n            });\r\n        }\r\n    }\r\n\r\n    clear() {\r\n        this.setShowDropDown(false);\r\n        this.props.container.clear();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div className={`nav-bar-item nav-item ${this.state.drop_down_items && this.state.showDropDown ? \"active\" : \"\"}`} ref={this.selfRef}>\r\n                    <NavBarItemTitle link={this.state.link} icon={this.state.icon} title_text={this.state.title_text} parentRef={this.selfRef} parent={this} />\r\n                    {this.state.drop_down_items && this.state.showDropDown ?\r\n                        <NavBarDropDown items={this.state.drop_down_items} parentRoute={`/${this.state.link}`} parent={this} />\r\n                    :\r\n                        null\r\n                    }\r\n                </div>\r\n            );\r\n    }\r\n\r\n}\r\n\r\nclass NavBarItemTitle extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n\r\n        this.state = {\r\n            link: this.props.link,\r\n            icon: this.props.icon,\r\n            title_text: this.props.title_text,\r\n            parentNavItem: this.props.parent,\r\n        };\r\n\r\n        this.handleDocumentClick = this.handleDocumentClick.bind(this);\r\n        this.onMouseDown = this.onMouseDown.bind(this);\r\n        this.clear = this.clear.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({containingNavItemRef: this.props.parentRef}, () => {\r\n            // console.log(this.state.containingNavItemRef);\r\n        });\r\n        document.addEventListener(\"mousedown\", this.handleDocumentClick);\r\n        // console.log(this.state.parentNavItem);\r\n    }\r\n    componentWillUnmount() {\r\n        document.removeEventListener(\"mousedown\", this.handleDocumentClick);\r\n    }\r\n    handleDocumentClick(event) {\r\n        // console.log(\"doc clicked nav title\");\r\n        // console.log(this.state.containingNavItemRef);\r\n        // console.log(this.state.containingNavItemRef.current);\r\n        if (this.state.containingNavItemRef.current && !this.state.containingNavItemRef.current.contains(event.target)) {\r\n            // console.log(\"outside nav title\");\r\n            this.state.parentNavItem.setShowDropDown(false);\r\n        }\r\n    }\r\n\r\n    onMouseDown(e) {\r\n        if (e.nativeEvent.which === 1) {\r\n            if (this.state.parentNavItem.state.showDropDown || !this.state.parentNavItem.state.drop_down_items) {\r\n                window.location.hash = `#/${this.state.parentNavItem.state.link}`;\r\n                this.clear();\r\n            } else {\r\n                this.state.parentNavItem.setShowDropDown(true);\r\n            }\r\n        }\r\n    }\r\n\r\n    clear() {\r\n        this.state.parentNavItem.clear();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                this.state.parentNavItem.state.drop_down_items ?\r\n                    <div onMouseDown={this.onMouseDown} className=\"nav-bar-item-title nav-item-title\" id={`nav-${this.state.link}`}><i className={`fa fa-fw fa-${this.state.icon}`}></i> {this.state.title_text}</div>\r\n                :\r\n                    <Link onMouseDown={this.onMouseDown} className=\"nav-bar-item-title nav-item-title\" id={`nav-${this.state.link}`} to={`/${this.state.link}`}><i className={`fa fa-fw fa-${this.state.icon}`}></i> {this.state.title_text}</Link>\r\n            );\r\n    }\r\n}\r\n\r\nclass NavBarDropDown extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            drop_down_items: this.props.items,\r\n            parentNavItem: this.props.parent,\r\n        };\r\n\r\n        this.clear = this.clear.bind(this);\r\n    }\r\n\r\n    clear() {\r\n        this.state.parentNavItem.clear();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div className=\"nav-bar-drop-down nav-container\"> {\r\n                    this.state.drop_down_items.map( (drop_down_item) => {\r\n                    return (\r\n                            <NavBarDropDownItem key={`nav-${drop_down_item.link}`} content={drop_down_item} parent={this} parentRoute={this.props.parentRoute} />\r\n                        );\r\n                })} </div>\r\n            );\r\n    }\r\n}\r\n\r\nclass NavBarDropDownItem extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n\r\n        this.state = {\r\n            link: this.props.content.link,\r\n            title_text: this.props.content.title_text,\r\n            side_pane_items: this.props.content.visualizers,\r\n            parentRoute: this.props.parentRoute,\r\n            parent: this.props.parent,\r\n        };\r\n\r\n        this.selfRef = React.createRef();\r\n\r\n        if (this.state.side_pane_items) {\r\n            this.state.showSidePane = false;\r\n        }\r\n\r\n        this.clear = this.clear.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    setShowSidePane(show) {\r\n        if (this.state.side_pane_items) {\r\n            this.setState( (state) => {\r\n                return {\r\n                    showSidePane: show,\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    toggleShowSidePane(show) {\r\n        if (this.state.side_pane_items) {\r\n            this.setState( (state) => {\r\n                return {\r\n                    showSidePane: !state.showSidePane,\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    onMouseDown() {\r\n        this.toggleShowSidePane();\r\n    }\r\n\r\n    clear() {\r\n        this.setShowSidePane(false);\r\n        this.state.parent.clear();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div className={`nav-bar-drop-down-item nav-item ${this.state.side_pane_items && this.state.showSidePane ? \"active\": \"\"}`} ref={this.selfRef}>\r\n                    <NavBarDropDownItemTitle link={this.state.link} parentRoute={this.state.parentRoute} title_text={this.state.title_text} parentRef={this.selfRef} parent={this} />\r\n                    {this.state.side_pane_items && this.state.showSidePane ?\r\n                        <NavBarSidePane items={this.state.side_pane_items} parentRoute={`${this.props.parentRoute}/${this.state.link}`} parent={this}></NavBarSidePane>\r\n                    :\r\n                        null\r\n                    }\r\n                </div>\r\n            );\r\n    }\r\n\r\n}\r\n\r\nclass NavBarDropDownItemTitle extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n\r\n        this.state = {\r\n            link: this.props.link,\r\n            parentRoute: this.props.parentRoute,\r\n            title_text: this.props.title_text,\r\n            // containingDropDownItemRef: this.props.parentRef,\r\n            parentDropDownItem: this.props.parent,\r\n        };\r\n\r\n        this.handleDocumentClick = this.handleDocumentClick.bind(this);\r\n        this.onMouseDown = this.onMouseDown.bind(this);\r\n        this.clear = this.clear.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({containingDropDownItemRef: this.props.parentRef}, () => {\r\n            // console.log(this.state.containingDropDownItemRef);\r\n        });\r\n        document.addEventListener(\"mousedown\", this.handleDocumentClick);\r\n        // console.log(this.state.parentDropDownItem);\r\n    }\r\n    componentWillUnmount() {\r\n        document.removeEventListener(\"mousedown\", this.handleDocumentClick);\r\n    }\r\n    handleDocumentClick(event) {\r\n        // console.log(\"doc clicked nav title\");\r\n        // console.log(this.state.containingDropDownItemRef);\r\n        // console.log(this.state.containingDropDownItemRef.current);\r\n        if (this.state.containingDropDownItemRef.current && !this.state.containingDropDownItemRef.current.contains(event.target)) {\r\n            // console.log(\"outside nav title\");\r\n            this.state.parentDropDownItem.setShowSidePane(false);\r\n        }\r\n    }\r\n\r\n    onMouseDown(e) {\r\n        if (e.nativeEvent.which === 1) {\r\n            if (this.state.parentDropDownItem.state.showSidePane) {\r\n                window.location.hash = `#${this.state.parentRoute}/${this.state.link}`;\r\n                this.clear();\r\n            } else {\r\n                this.state.parentDropDownItem.toggleShowSidePane();\r\n            }\r\n        }\r\n    }\r\n\r\n    clear() {\r\n        this.state.parentDropDownItem.clear();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                this.state.parentDropDownItem.state.side_pane_items ?\r\n                    <div onMouseDown={this.onMouseDown} className=\"nav-bar-drop-down-item-title nav-item-title\" id={`nav-${this.state.link}`}>{this.state.title_text}</div>\r\n                :\r\n                    <Link onMouseDown={this.clear} className=\"nav-bar-drop-down-item-title nav-item-title\" id={`nav-${this.state.link}`} to={`${this.state.parentRoute}/${this.state.link}`}>{this.state.title_text}</Link>\r\n            );\r\n    }\r\n}\r\n\r\nclass NavBarSidePane extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n\r\n        this.state = {\r\n            side_pane_items: this.props.items,\r\n            parentDropDownItem: this.props.parent,\r\n        };\r\n\r\n        this.clear = this.clear.bind(this);\r\n    }\r\n\r\n    clear() {\r\n        this.state.parentDropDownItem.clear();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div className=\"nav-bar-side-pane nav-container\"> {\r\n                    this.state.side_pane_items.map( (side_pane_item) => {\r\n                        return (\r\n                                <NavBarSideItem key={`nav-${side_pane_item.link}`} content={side_pane_item} parentRoute={this.props.parentRoute} parent={this} />\r\n                            );\r\n                })} </div>\r\n            );\r\n    }\r\n}\r\n\r\n\r\nclass NavBarSideItem extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            link: this.props.content.link,\r\n            title_text: this.props.content.title_text,\r\n            parentRoute: this.props.parentRoute,\r\n            parent: this.props.parent,\r\n        };\r\n\r\n        this.clear = this.clear.bind(this);\r\n    }\r\n\r\n    clear() {\r\n        window.location.hash = `#${this.state.parentRoute}/${this.state.link}`;\r\n        this.state.parent.clear();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div className=\"nav-bar-side-item nav-item\">\r\n                    <Link onMouseDown={this.clear} className=\"nav-bar-side-pane-item-title nav-item-title\" id={`nav-${this.state.link}`} to={`${this.state.parentRoute}/${this.state.link}`}>{this.state.title_text}</Link>\r\n                </div>\r\n            );\r\n    }\r\n\r\n}\r\n","export function newEmptyControl() {\r\n    let emptyControl = document.createElement(\"input\");\r\n    applyStyle(emptyControl, \"visibility\", \"hidden\");\r\n    return emptyControl;\r\n}\r\n\r\nexport function createControl(type, value) {\r\n    let newControl = document.createElement(\"input\");\r\n    newControl.classList.add(\"visual-control\", type);\r\n\r\n    newControl.setAttribute(\"type\", type);\r\n    if (value) {\r\n        newControl.setAttribute(\"value\", value);\r\n    }\r\n\r\n    return newControl;\r\n};\r\n\r\nexport function createButton(label) {\r\n    let button = createControl(\"button\", label);\r\n\r\n    return button;\r\n};\r\n\r\nexport function addButtonSubmit(button, callback, ...fields) {\r\n    if (button.type !== \"button\") {\r\n        console.log(\"cannot add callback to nonbutton\");\r\n        return;\r\n    }\r\n    if (callback === undefined) {\r\n        console.log(\"cannot set button submit to undefined callback\");\r\n        return;\r\n    }\r\n    button.addEventListener(\"click\", (event) => {\r\n        let args = [];\r\n        fields.forEach((field) => {\r\n            if (args) {\r\n                let f = field.field || field;\r\n                let value = f.parse();\r\n                if (value !== null) {\r\n                    args.push(value);\r\n                } else {\r\n                    args = null;\r\n                }\r\n            }\r\n        });\r\n        if (args) {\r\n            callback(...args);\r\n            fields.forEach((field) => {\r\n                let f = field.field || field;\r\n                if (f.clearOnSuccess) {\r\n                    f.value = \"\";\r\n                }\r\n                if (field.focus === true || fields.length === 1) {\r\n                    f.focus();\r\n                }\r\n            });\r\n        }\r\n    });\r\n}\r\n\r\nexport function applyNewCallbackButton(visualizer, name, ...fields) {\r\n    let longName = name;\r\n    if (name.longName) {\r\n        longName = name.longName;\r\n        name = name.name;\r\n    }\r\n    visualizer[name + \"Button\"] = createButton(longName);\r\n    addButtonSubmit(visualizer[name + \"Button\"], visualizer[name], ...fields);\r\n}\r\n\r\nexport function applyResetButton(visualizer, prompt, fieldToFocus) {\r\n    visualizer[prompt + \"Button\"] = createButton(prompt);\r\n    visualizer[prompt + \"Button\"].addEventListener(\"click\", (event) => {\r\n        for (let property in visualizer) {\r\n            if (property.endsWith(\"Field\") && visualizer[property].constructor === HTMLInputElement && visualizer[property].type === \"text\") {\r\n                visualizer[property].value = \"\";\r\n            }\r\n        }\r\n        if (fieldToFocus) {\r\n            fieldToFocus.focus();\r\n        }\r\n    });\r\n    addButtonSubmit(visualizer[prompt + \"Button\"], visualizer[prompt]);\r\n}\r\n\r\nexport function createField(prompt, ...validators) {\r\n    let field = createControl(\"text\");\r\n    field.setAttribute(\"placeHolder\", prompt);\r\n\r\n    field.inputValidators = validators;\r\n    field.parsers = validators.map(validator => validator.parser);\r\n\r\n    field.addEventListener(\"input\", () => {\r\n        field.inputValidators.forEach((validator) => {\r\n            validator(field);\r\n        });\r\n    });\r\n\r\n    field.parse = () => {\r\n        let value = field.value;\r\n        let i = 0;\r\n        while (value && i < field.parsers.length) {\r\n            value = field.parsers[i++](value);\r\n        }\r\n        return value || (value === 0 ? 0 : null);\r\n    }\r\n\r\n    return field;\r\n};\r\n\r\nexport function validatorIntOnly() {\r\n    let validator = (field) => {\r\n        let regex = /^[-+]?\\d*|\\d*/g;\r\n        field.value = field.value.match(regex).reduce((sum, char) => sum + char);\r\n    };\r\n    validator.parser = (value) => {\r\n        let val = parseInt(value);\r\n        if (isNaN(val)) {\r\n            return null;\r\n        } else {\r\n            return val;\r\n        }\r\n    };\r\n    return validator;\r\n};\r\n\r\nexport function validatorPositiveIntOnly() {\r\n    let validator = (field) => {\r\n        let regex = /^[+]?\\d*|\\d*/g;\r\n        field.value = field.value.match(regex).reduce((sum, char) => sum + char);\r\n    }\r\n    validator.parser = (value) => {\r\n        let val = Math.abs(parseInt(value));\r\n        if (isNaN(val)) {\r\n            return null;\r\n        } else {\r\n            return val;\r\n        }\r\n    };\r\n    return validator;\r\n};\r\n\r\nexport function validatorIntList(numLength, maxNums) {\r\n    let validator = (field) => {\r\n        // ^(((\\d+)|(\\d+-\\d+))(,((\\d+)|(\\d+-\\d+)))*)$\r\n        // let regex = /^(((\\d+)|(\\d+-\\d+))(,((\\d+)|(\\d+-\\d+)))*)$/g;\r\n        // let regex = /((\\d+)|(\\d+-\\d+))|(,(\\d+)|(\\d+-\\d+))/g;\r\n        let cursorPos = field.selectionStart;\r\n        let regex = /[+-\\d,]/g;\r\n        field.value = (field.value.match(regex) || [\"\"]).reduce((sum, char) => sum + char);\r\n        field.value = field.value.replace(/\\+{2,}/g,\"+\");\r\n        field.value = field.value.replace(/-{3,}/g,\"--\");\r\n        field.value = field.value.replace(/,{3,}/g,\",,\");\r\n        if ((field.value.match(/,/g) || []).length > maxNums) {\r\n            field.value = field.value.substring(0, field.value.lastIndexOf(\",\"));\r\n        }\r\n        field.selectionStart = field.selectionEnd = cursorPos;\r\n    };\r\n    validator.parser = (value) => {\r\n        // let regex = /^(((-?\\d+)|(-?\\d+--?\\d+))(,((-?\\d+)|(-?\\d+--?\\d+)))*)$/g;\r\n        let regex = /((-?\\d+(--?\\d+)*)|(-?\\d+))/g;\r\n        let values = value.match(regex);\r\n        let ints = [];\r\n        ints.add = ints.push;\r\n        ints.push = (num) => {\r\n            while (num >= Math.pow(10,numLength) || num <= -Math.pow(10,numLength-1)) {\r\n                num /= 10;\r\n            }\r\n            ints.add(parseInt(num));\r\n        };\r\n        values.forEach((intStr, i, arr) => {\r\n            if (intStr.match(/(-?\\d+(--?\\d+){2,})/g)) {\r\n                return null;\r\n            } else if (intStr.match(/(-?\\d+(--?\\d+))/g)) {\r\n                let match = intStr.match(/(-?\\d+)-(-?\\d+)/);\r\n                let [ first, second ] = [ parseInt(match[1]), parseInt(match[2]) ];\r\n                if (first === second) {\r\n                    ints.push(first);\r\n                } else {\r\n                    if (first < second) {\r\n                        for (let i = first; i <= second; i++) {\r\n                            ints.push(i);\r\n                        }\r\n                    } else {\r\n                        for (let i = first; i >= second; i--) {\r\n                            ints.push(i);\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                ints.push(parseInt(intStr));\r\n            }\r\n        });\r\n        return ints.slice(0, maxNums);\r\n    };\r\n    return validator;\r\n}\r\n\r\nexport function validatorMaxLength(maxLength) {\r\n    let validator = (field) => {\r\n        if (field.value.length > maxLength) {\r\n            field.value = field.value.substring(0, maxLength);\r\n        }\r\n    };\r\n    validator.parser = (value) => {\r\n        value = String(value);\r\n        if (value.length === 0) {\r\n            return null;\r\n        } else {\r\n            return value.substring(0, maxLength);\r\n        }\r\n    };;\r\n    return validator;\r\n};\r\n\r\nexport function validatorSkipListHeads() {\r\n    let validator = (field) => {\r\n        let regex = /([HT]+)/gi;\r\n        field.value = (field.value.match(regex) || [\"\"]).reduce((sum, char) => sum + char);\r\n    };\r\n    validator.parser = (value) => {\r\n        let regex = /(^H+T?)/i;\r\n        let val = (value.match(regex) || [\"\"])[0];\r\n        if (val.length === 0) {\r\n            return null;\r\n        } else {\r\n            return (val.match(/H/gi) || []).length;\r\n        }\r\n    };\r\n    return validator;\r\n}\r\n\r\nexport function addFieldSubmit(field, callback, {secondaryRequired = false, secondary = {field: undefined, isFirstParam: false, callback: undefined, clear: false}} = {}) {\r\n    if (field.type !== \"text\") {\r\n        console.log(\"cannot add callback to nontextfield\");\r\n        return;\r\n    }\r\n    if (callback === undefined) {\r\n        console.log(\"cannot set field submit to undefined callback\");\r\n        return;\r\n    }\r\n    field.addEventListener(\"keydown\", (event) => {\r\n        if (event.key === \"Enter\") {\r\n            let value = field.parse();\r\n            if (value !== null) {\r\n                let success;\r\n                let secondaryValue;\r\n                if (secondary.field && (secondaryValue = secondary.field.parse()) !== null) {\r\n                    if (secondaryRequired) {\r\n                        secondary.callback = callback;\r\n                    }\r\n                    if (secondary.isFirstParam) {\r\n                        success = secondary.callback(secondaryValue,value) !== false;\r\n                    } else {\r\n                        success = secondary.callback(value,secondaryValue) !== false;\r\n                    }\r\n                } else if (!secondaryRequired) {\r\n                    success = callback(value) !== false;\r\n                }\r\n                if (success) {\r\n                    if (field.clearOnSuccess) {\r\n                        field.value = \"\";\r\n                    }\r\n                    if (secondary.field && secondary.clear) {\r\n                        secondary.field.value = \"\";\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n};\r\n\r\nexport function applyFieldWithOptions(visualizer, name, ...validators) {\r\n    let prompt = name.prompt || name.longName || name.name || name;\r\n    let args = name.args || {};\r\n    let classes = name.classes || [];\r\n    let callback = name.callback !== false ? (name.callback || name.name || name) : null;\r\n    name = name.name || name;\r\n    visualizer[name + \"Field\"] = createField(prompt, ...validators);\r\n    let defaultArgs = {clearOnSuccess: true, size: 20};\r\n    for (let property in defaultArgs) {\r\n        visualizer[name + \"Field\"][property] = defaultArgs[property];\r\n    }\r\n    for (let property in (args || {})) {\r\n        visualizer[name + \"Field\"][property] = args[property];\r\n    }\r\n    visualizer[name + \"Field\"].classList.add(...classes);\r\n    if (callback) {\r\n        addFieldSubmit(visualizer[name + \"Field\"], visualizer[callback]);\r\n    }\r\n}\r\n\r\nexport function createLabel(text, control) {\r\n    let newLabel = document.createElement(\"label\");\r\n    newLabel.classList.add(\"visual-control\",\"label\");\r\n\r\n    newLabel.setAttribute(\"for\", control.id);\r\n    newLabel.innerHTML = text;\r\n\r\n    return newLabel;\r\n}\r\n\r\nexport function createSlider(min, max, defaultValue, step) {\r\n    let slider = createControl(\"range\");\r\n\r\n    slider.setAttribute(\"min\", min);\r\n    slider.setAttribute(\"max\", max);\r\n    slider.setAttribute(\"step\", step === 0 ? \"1e-18\" : step);\r\n    slider.setAttribute(\"defaultValue\", defaultValue);\r\n    slider.value = defaultValue;\r\n\r\n    return slider;\r\n};\r\n\r\nfunction createRadioButton(name, value) {\r\n    let text = value.longText || value;\r\n    value = value.value || value;\r\n    let buttonContainer = document.createElement(\"div\");\r\n    buttonContainer.classList.add(\"radio-button-container\");\r\n    let radioButton = createControl(\"radio\", value);\r\n    radioButton.name = name;\r\n    let label = createLabel(text, radioButton);\r\n    buttonContainer.appendChild(radioButton);\r\n    buttonContainer.appendChild(label);\r\n    buttonContainer.addEventListener(\"click\", () => {\r\n        radioButton.click();\r\n        radioButton.focus();\r\n    });\r\n    return buttonContainer;\r\n}\r\n\r\nexport function createRadio(name, ...options) {\r\n    let radioContainer = document.createElement(\"div\");\r\n    radioContainer.classList.add(\"radio-container\", \"visual-control\")\r\n    radioContainer.id = name;\r\n    options.forEach((option) => {\r\n        let radioButtonContainer = createRadioButton(name, option);\r\n        radioContainer.appendChild(radioButtonContainer);\r\n    });\r\n    radioContainer.childNodes[0].childNodes[0].checked = true;\r\n    return radioContainer;\r\n}\r\n\r\nexport function addRadioSubmit(radioContainer, callback) {\r\n    radioContainer.childNodes.forEach((radioButtonContainer) => {\r\n        radioButtonContainer.childNodes[0].addEventListener(\"change\", () => {\r\n            callback(radioButtonContainer.childNodes[0].value);\r\n        });\r\n    });\r\n}\r\n\r\nfunction createCheckButton(name, value) {\r\n    let text = value.longText || value;\r\n    let checked = value.checked || false;\r\n    value = value.value || value;\r\n    let buttonContainer = document.createElement(\"div\");\r\n    buttonContainer.classList.add(\"check-button-container\");\r\n    let checkButton = createControl(\"checkbox\", value);\r\n    checkButton.name = name;\r\n    if (checked) {\r\n        checkButton.checked = true;\r\n    }\r\n    let label = createLabel(text, checkButton);\r\n    buttonContainer.appendChild(checkButton);\r\n    buttonContainer.appendChild(label);\r\n    buttonContainer.addEventListener(\"click\", (event) => {\r\n        if (event.target !== checkButton) {\r\n            checkButton.click();\r\n            checkButton.focus();\r\n        }\r\n    });\r\n    return buttonContainer;\r\n}\r\n\r\nexport function createCheckBox(name, ...options) {\r\n    let checkBoxContainer = document.createElement(\"div\");\r\n    checkBoxContainer.classList.add(\"checkbox-container\", \"visual-control\")\r\n    checkBoxContainer.id = name;\r\n    options.forEach((option) => {\r\n        let checkButtonContainer = createCheckButton(name, option);\r\n        checkBoxContainer.appendChild(checkButtonContainer);\r\n    });\r\n    return checkBoxContainer;\r\n}\r\n\r\nexport function addCheckBoxSubmit(checkBoxContainer, callback) {\r\n    let max1Checked = callback.max1Checked || false;\r\n    callback = callback.callback || callback;\r\n    checkBoxContainer.childNodes.forEach((checkButtonContainer) => {\r\n        checkButtonContainer.childNodes[0].addEventListener(\"click\", () => {\r\n            let checkedButton = checkButtonContainer.childNodes[0];\r\n            let checkedValues = {};\r\n            checkBoxContainer.childNodes.forEach((checkButtonBox) => {\r\n                let checkButton = checkButtonBox.childNodes[0];\r\n                checkedValues[checkButton.value] = checkButton.checked;\r\n                if (max1Checked && checkButton !== checkedButton) {\r\n                    checkButton.checked = false;\r\n                    checkedValues[checkButton.value] = false;\r\n                }\r\n            });\r\n            callback(checkedValues);\r\n        });\r\n    });\r\n}\r\n\r\n\r\nexport function createControlGroup(id, ...controls) {\r\n    let classes = id.classes || [];\r\n    id = id.id || id;\r\n    let controlGroup = document.createElement(\"div\");\r\n    controlGroup.classList.add(\"control-group\", ...classes);\r\n    controlGroup.id = id;\r\n\r\n    controls.forEach((control) => {\r\n        controlGroup.appendChild(control);\r\n    });\r\n\r\n    return controlGroup;\r\n};\r\n\r\nexport function setTabControl(control, nextControl) {\r\n    if (control === undefined || nextControl === undefined) {\r\n        console.log(\"cannot link undefined controls\");\r\n        return;\r\n    }\r\n    enableShift();\r\n    control.addEventListener(\"keydown\", (event) => {\r\n        if (event.key === \"Tab\" && (window.shifted !== undefined && !window.shifted)) {\r\n            event.preventDefault();\r\n            control.blur();\r\n            nextControl.focus();\r\n        }\r\n    });\r\n    nextControl.addEventListener(\"keydown\", (event) => {\r\n        if (event.key === \"Tab\" && window.shifted) {\r\n            event.preventDefault();\r\n            nextControl.blur();\r\n            control.focus();\r\n        }\r\n    });\r\n};\r\n\r\nfunction enableShift() {\r\n    if (window.shifted === undefined) {\r\n        window.shifted = false;\r\n        window.addEventListener(\"keydown\", (event) => {\r\n            if (event.key === \"Shift\") {\r\n                event.preventDefault();\r\n                window.shifted = true;\r\n            }\r\n        });\r\n        window.addEventListener(\"keyup\", (event) => {\r\n            if (event.key === \"Shift\") {\r\n                event.preventDefault();\r\n                window.shifted = false;\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\nexport function applyStyle(control, styleType, value) {\r\n    control.style[styleType] = value;\r\n}\r\n","export const RED = [255,0,0];\r\nexport const GREEN = [60, 181, 60];\r\nexport const BLUE = [0,0,255];\r\nexport const BLACK = [0,0,0];\r\nexport const WHITE = [255,255,255];\r\n","export function addArray(array, ...arrays) {\r\n    let newArr = [...array];\r\n    arrays.forEach(array => {\r\n        array.forEach((item, i) => {\r\n            newArr[i] += item;\r\n        });\r\n    });\r\n    return newArr;\r\n}\r\n\r\nexport function isDev() {\r\n    return !process.env.NODE_ENV || process.env.NODE_ENV === 'development';\r\n}\r\n\r\nexport function unfoldUndoRedo(object) {\r\n    let properties = new Set();\r\n    let currObj = object;\r\n    do {\r\n        Object.getOwnPropertyNames(currObj).map(item => properties.add(item));\r\n    } while ((currObj = Object.getPrototypeOf(currObj)));\r\n    let functions = [...properties.keys()].filter(item => typeof object[item] === 'function');\r\n    for (const i in functions) {\r\n        let property = functions[i];\r\n        if (property.includes(\"undo_\")) {\r\n            object[property.substring(5)].undo = object[property];\r\n        }\r\n        if (property.includes(\"redo_\")) {\r\n            object[property.substring(5)].redo = object[property];\r\n        }\r\n    }\r\n}\r\n","import React, { PureComponent } from 'react';\r\nimport './controlBar.scss';\r\n\r\nexport default class ControlBar extends PureComponent {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.defaultContainer = React.createRef();\r\n        this.defaults = React.createRef();\r\n        this.mainContainer = React.createRef();\r\n        this.controlBar = React.createRef();\r\n    }\r\n\r\n    setDefaultsLabel(label) {\r\n        this.defaultsLabel = label;\r\n        this.forceUpdate();\r\n    }\r\n\r\n    setMainLabel(label) {\r\n        this.mainLabel = label;\r\n        this.forceUpdate();\r\n    }\r\n\r\n    addDefaultGroup(controlGroup) {\r\n        this.defaults.current.appendChild(controlGroup);\r\n    }\r\n\r\n    addControlGroup(controlGroup) {\r\n        this.controlBar.current.appendChild(controlGroup);\r\n    }\r\n\r\n    testCenterControls() {\r\n        let all1 = true;\r\n        document.querySelectorAll(\"#main-control-label+.controls>.control-group\").forEach((controlGroup) => {\r\n            if (all1) {\r\n                if (!(controlGroup.childNodes[0].classList.contains(\"radio-container\") || controlGroup.childNodes[0].classList.contains(\"checkbox-container\"))) {\r\n                    if (controlGroup.childNodes.length > 1) {\r\n                        all1 = false;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        if (all1) {\r\n            document.querySelectorAll(\"#main-control-label+.controls>.control-group\").forEach((controlGroup) => {\r\n                if (!(controlGroup.childNodes[0].classList.contains(\"radio-container\") || controlGroup.childNodes[0].classList.contains(\"checkbox-container\"))) {\r\n                    controlGroup.style[\"justify-content\"] = \"center\";\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    testSize() {\r\n        let transformed = 0;\r\n        if (this.controlBar.current.getBoundingClientRect().width\r\n                > (this.mainContainer.current.getBoundingClientRect().width - 0*parseFloat(window.getComputedStyle(this.mainContainer.current).getPropertyValue(\"padding\")))) {\r\n            this.mainContainer.current.classList.add(\"overflow\");\r\n            transformed++;\r\n        } else {\r\n            this.mainContainer.current.classList.remove(\"overflow\");\r\n        }\r\n        if (this.defaults.current.getBoundingClientRect().width\r\n                > (this.defaultContainer.current.getBoundingClientRect().width - 0*parseFloat(window.getComputedStyle(this.defaultContainer.current).getPropertyValue(\"padding\")))) {\r\n            this.defaultContainer.current.classList.add(\"overflow\");\r\n            transformed++;\r\n        } else {\r\n            this.defaultContainer.current.classList.remove(\"overflow\");\r\n        }\r\n        return transformed;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.testCenterControls();\r\n        this.testSize();\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.testCenterControls();\r\n        this.testSize();\r\n    }\r\n\r\n    windowResized() {\r\n        return this.testSize();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div className=\"control-bar\">\r\n                    <div className=\"control-container\" id=\"main-control\" ref={this.mainContainer}>\r\n                        <div className=\"control-wrapper\">\r\n                            {this.mainLabel && <p className=\"control-label\" id=\"main-control-label\">{this.mainLabel}</p>}\r\n                            <div className=\"controls control-group\"  ref={this.controlBar}></div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"control-container\" id=\"default-control\" ref={this.defaultContainer}>\r\n                        <div className=\"control-wrapper\">\r\n                            {// {this.defaultsLabel && <p className=\"control-label\" id=\"default-control-label\">{this.defaultsLabel}</p>}\r\n                            }\r\n                            <div className=\"controls default control-group\" ref={this.defaults}></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n    }\r\n}\r\n","export default class AnimatedObject {\r\n    constructor() {\r\n        this.xProgress = 1;\r\n        this.yProgress = 1;\r\n        // this.translationFrames = 0;\r\n\r\n        // this.animating = false;\r\n        this.direction = 0;\r\n    }\r\n\r\n    travel(direction) {\r\n        this.xProgress = 0;\r\n        this.yProgress = 0;\r\n        this.direction = direction;\r\n    }\r\n\r\n    inPosition() {\r\n        return this.direction >= 0\r\n                ? this.xProgress >= 1 && this.yProgress >= 1\r\n                : this.xProgress <= -1 && this.yProgress <= -1;\r\n    }\r\n\r\n    update(animationSpeed) {\r\n        if (!this.inPosition()) {\r\n            // this.animating = true;\r\n            this.xProgress += Math.sign(this.direction) * animationSpeed/200;\r\n            this.yProgress += Math.sign(this.direction) * animationSpeed/200;\r\n        } else {\r\n            // this.animating = false;\r\n        }\r\n    }\r\n\r\n\r\n}\r\n","import Visualizer from 'components/visualizer'\r\nexport default class AttractedDraggableObject {\r\n\r\n    static ATTRACTION = 0.3;\r\n    static MIN_DISTANCE = 5;\r\n\r\n    constructor(x,y) {\r\n        this.currentX = x;\r\n        this.currentY = y;\r\n        this.desiredX = x;\r\n        this.desiredY = y;\r\n        this.vx = 0;\r\n        this.vy = 0;\r\n        this.frozen = false;\r\n        this.onStop = [];\r\n\r\n        this.pinnedToMouse = false;\r\n        this.mouseOffsetX = 0;\r\n        this.mouseOffsetY = 0;\r\n    }\r\n\r\n    shift(x,y) {\r\n        this.desiredX = x;\r\n        this.desiredY = y;\r\n    }\r\n\r\n    displacement() {\r\n        return Math.sqrt(Math.pow(this.desiredX - this.currentX,2) + Math.pow(this.desiredY - this.currentY,2));\r\n    }\r\n\r\n    addOnStop(callback) {\r\n        this.onStop.push(callback);\r\n    }\r\n\r\n    stop() {\r\n        this.currentX = this.desiredX;\r\n        this.vx = 0;\r\n        this.currentY = this.desiredY;\r\n        this.vy = 0;\r\n        while (this.onStop.length > 0) {\r\n            this.onStop.shift()();\r\n        }\r\n    }\r\n\r\n    pin(mouseX, mouseY) {\r\n        if (this.constructor.CAN_DRAG) {\r\n            if (!this.frozen) {\r\n                this.pinnedToMouse = true;\r\n                this.mouseOffsetX = mouseX - this.currentX;\r\n                this.mouseOffsetY = mouseY - this.currentY;\r\n            }\r\n        }\r\n    }\r\n\r\n    unpin() {\r\n        this.pinnedToMouse = false;\r\n        this.mouseOffsetX = 0;\r\n        this.mouseOffsetY = 0;\r\n        this.vx = 0;\r\n        this.vy = 0;\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        if (this.frozen) {\r\n            this.desiredX = this.currentX;\r\n            this.desiredY = this.currentY;\r\n        }\r\n        let deltaX = this.desiredX - this.currentX;\r\n        let deltaY = this.desiredY - this.currentY;\r\n        if (this.pinnedToMouse) {\r\n            this.currentX = p5.mouseX - this.mouseOffsetX;\r\n            this.currentY = p5.mouseY - this.mouseOffsetY;\r\n        } else if ((animationSpeed >= Math.floor(Visualizer.maxAnimationSpeed()))\r\n                || (isNaN(this.currentX) || isNaN(this.currentY) || isNaN(this.vx) || isNaN(this.vy))) {\r\n            this.stop();\r\n        } else {\r\n            if (deltaY !== 0 || deltaX !== 0) {\r\n                let angle = Math.atan(deltaY/deltaX);\r\n                if (deltaX < 0) {\r\n                    angle += Math.PI;\r\n                }\r\n                let magnitude = AttractedDraggableObject.ATTRACTION * animationSpeed;\r\n                let prevAngle = Math.atan(this.vy/this.vx);\r\n                if (this.vx < 0) {\r\n                    prevAngle += Math.PI;\r\n                }\r\n                this.vx += magnitude * Math.cos(angle);\r\n                this.vy += magnitude * Math.sin(angle);\r\n\r\n                this.vx *= 0.75;\r\n                this.vy *= 0.75;\r\n\r\n                if (Math.abs(Math.abs(prevAngle - angle) - Math.PI) < (Math.PI/12)) {\r\n                    this.stop();\r\n                }\r\n                this.currentX += this.vx;\r\n                this.currentY += this.vy;\r\n            } else {\r\n                this.stop();\r\n            }\r\n        }\r\n        return Math.sqrt(Math.pow(deltaX,2) + Math.pow(deltaY,2));\r\n    }\r\n}\r\n","import Visualizer from 'components/visualizer'\r\nimport { Utils, Colors } from 'utils';\r\n\r\nexport default class AttractedHighlightableObject {\r\n    static ATTRACTION = 0.2;\r\n    static MIN_DISTANCE = 5;\r\n\r\n    static HIGHTLIGHT_WIDTH = 5;\r\n    static HIGHLIGHT_CIRCLE = 0;\r\n    static HIGHLIGHT_SQUARE = 1;\r\n\r\n    constructor(x,y, options = {}) {\r\n        this.value = options.value || null;\r\n\r\n        this.currentX = x;\r\n        this.currentY = y;\r\n        this.desiredX = x;\r\n        this.desiredY = y;\r\n        this.vx = 0;\r\n        this.vy = 0;\r\n        this.frozen = false;\r\n        this.onStop = [];\r\n\r\n        this.highlighted = false;\r\n        this.highlightColor = Colors.BLACK;\r\n        this.highlightShape = AttractedHighlightableObject.HIGHLIGHT_CIRCLE;\r\n\r\n        Object.entries(options).forEach((option) => {\r\n            this[option[0]] = option[1];\r\n        });\r\n        Utils.unfoldUndoRedo(this);\r\n    }\r\n\r\n    shift(x,y) {\r\n        this.desiredX = x;\r\n        this.desiredY = y;\r\n    }\r\n\r\n    goTo(x,y) {\r\n        let oldX = this.desiredX;\r\n        let oldY = this.desiredY;\r\n        this.desiredX = x;\r\n        this.desiredY = y;\r\n        this.stop();\r\n        return [oldX, oldY];\r\n    }\r\n    undo_goTo(oldX,oldY) {\r\n        this.desiredX = oldX;\r\n        this.desiredY = oldY;\r\n        this.stop();\r\n    }\r\n\r\n    displacement() {\r\n        return Math.sqrt(Math.pow(this.desiredX - this.currentX,2) + Math.pow(this.desiredY - this.currentY,2));\r\n    }\r\n\r\n    addOnStop(callback) {\r\n        this.onStop.push(callback);\r\n    }\r\n\r\n    stop() {\r\n        this.currentX = this.desiredX;\r\n        this.vx = 0;\r\n        this.currentY = this.desiredY;\r\n        this.vy = 0;\r\n        while (this.onStop.length > 0) {\r\n            this.onStop.shift()(this);\r\n        }\r\n    }\r\n\r\n    highlight(color = Colors.BLUE, shape = AttractedHighlightableObject.HIGHLIGHT_CIRCLE) {\r\n        this.highlightColor = color;\r\n        this.highlightShape = shape;\r\n        this.highlighted = true;\r\n    }\r\n    undo_highlight() {\r\n        this.unhighlight();\r\n    }\r\n\r\n    unhighlight() {\r\n        this.highlighted = false;\r\n    }\r\n    undo_unhighlight(color, shape) {\r\n        this.highlight(color, shape);\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        if (this.frozen) {\r\n            this.desiredX = this.currentX;\r\n            this.desiredY = this.currentY;\r\n        }\r\n        let deltaX = this.desiredX - this.currentX;\r\n        let deltaY = this.desiredY - this.currentY;\r\n        if ((animationSpeed >= Math.floor(Visualizer.maxAnimationSpeed()))\r\n                || (isNaN(this.currentX) || isNaN(this.currentY) || isNaN(this.vx) || isNaN(this.vy))) {\r\n            this.stop();\r\n        } else {\r\n            if (deltaY !== 0 || deltaX !== 0) {\r\n                let angle = Math.atan(deltaY/deltaX);\r\n                if (deltaX < 0) {\r\n                    angle += Math.PI;\r\n                }\r\n                let magnitude = AttractedHighlightableObject.ATTRACTION * animationSpeed;\r\n                let prevAngle = Math.atan(this.vy/this.vx);\r\n                if (this.vx < 0) {\r\n                    prevAngle += Math.PI;\r\n                }\r\n                this.vx = magnitude * Math.cos(angle);\r\n                this.vy = magnitude * Math.sin(angle);\r\n\r\n                // this.vx *= 0.75;\r\n                // this.vy *= 0.75;\r\n\r\n                if (Math.abs(Math.abs(prevAngle - angle) - Math.PI) < (Math.PI/12)) {\r\n                    this.stop();\r\n                }\r\n                this.currentX += this.vx;\r\n                this.currentY += this.vy;\r\n            } else {\r\n                this.stop();\r\n            }\r\n        }\r\n        return Math.sqrt(Math.pow(deltaX,2) + Math.pow(deltaY,2));\r\n    }\r\n\r\n    drawHighlight(p5) {\r\n        p5.push();\r\n        p5.stroke(...this.highlightColor);\r\n        p5.noFill();\r\n        p5.strokeWeight(AttractedHighlightableObject.HIGHTLIGHT_WIDTH);\r\n        let diameter = 2 * (this.highlightInnerRadius || this.highlightOuterRadius) + (this.highlightInnerRadius ? 1 : -1) * AttractedHighlightableObject.HIGHTLIGHT_WIDTH;\r\n        if (this.highlightShape === AttractedHighlightableObject.HIGHLIGHT_CIRCLE) {\r\n            p5.circle(this.currentX, this.currentY, diameter);\r\n        } else if (this.highlightShape === AttractedHighlightableObject.HIGHLIGHT_SQUARE) {\r\n            p5.square(this.currentX - diameter/2, this.currentY - diameter/2, diameter);\r\n        }\r\n        p5.pop();\r\n    }\r\n\r\n    drawValue(p5) {\r\n        if (this.value) {\r\n            p5.textAlign(p5.CENTER, p5.CENTER);\r\n            p5.fill(0);\r\n            p5.stroke(0);\r\n            let radius = 2 * (this.highlightInnerRadius || this.highlightOuterRadius) + (this.highlightInnerRadius ? 1 : -1) * AttractedHighlightableObject.HIGHTLIGHT_WIDTH;\r\n            p5.text(this.value.toString(), this.currentX - radius,this.currentY - radius, 2*radius, 2*radius);\r\n        }\r\n    }\r\n\r\n    draw(p5) {\r\n        p5.push();\r\n        if (this.highlighted) {\r\n            this.drawHighlight(p5);\r\n        }\r\n        this.drawValue(p5);\r\n        p5.pop();\r\n    }\r\n}\r\n","export default class Animator {\r\n    constructor() {\r\n        this.events = [];\r\n    }\r\n\r\n    on(type, callback) {\r\n        if (!this.events[type]) {\r\n            this.events[type] = [];\r\n        }\r\n        this.events[type].push(callback);\r\n    }\r\n\r\n    off(type, callback) {\r\n        if (this.events[type]) {\r\n            this.events[type] = this.events[type].filter( event => {\r\n                return event !== callback;\r\n            });\r\n        }\r\n    }\r\n\r\n    emit(type) {\r\n        if (this.events[type]) {\r\n            this.events[type].forEach( event => {\r\n                event();\r\n            });\r\n        }\r\n    }\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { Utils, Colors } from 'utils';\r\n\r\nexport default class Visualization {\r\n\r\n    static LOG_UNDO_REDO = false;\r\n    static LOG_ANIMATIONS = false;\r\n    static LOG_DRAW = false;\r\n\r\n    constructor(animator) {\r\n        this.x = 20;\r\n        this.y = 20;\r\n\r\n        if (this.constructor.SUPPORTS_TEXT) {\r\n            // this.displayText = \"Animation Ready\";\r\n            // if (this.constructor.CAN_DRAG) {\r\n            //     this.displayText += \" | Click and drag on a node to move it!\";\r\n            // }\r\n            // console.log(this.displayText);\r\n            // this.displayTextColor = [0,0,0];\r\n        } else {\r\n            delete this.showText;\r\n            delete this.updateText;\r\n        }\r\n\r\n        this.animator = animator;\r\n\r\n        if (this.constructor.SUPPORTS_NO_LOOP) {\r\n            // this.drawing = false;\r\n        } else {\r\n            delete this.beginDrawLoop;\r\n            delete this.endDrawLoop;\r\n        }\r\n\r\n        if (this.constructor.SUPPORTS_ANIMATION_CONTROL) {\r\n            this.paused = false;\r\n            Utils.unfoldUndoRedo(this);\r\n        } else {\r\n            delete this.playPause;\r\n            delete this.play;\r\n            delete this.pause;\r\n        }\r\n\r\n        if (this.constructor.SUPPORTS_STOP_ID) {\r\n            this.stopID = 0;\r\n        }\r\n\r\n                this.animationHistory = [];\r\n                this.runningAnimation = [];\r\n                this.animationQueue = [];\r\n                this.animating = false;\r\n    }\r\n\r\n    reset() {\r\n        if (this.constructor.SUPPORTS_TEXT) {\r\n            this.displayText = \"Animation Ready\";\r\n            if (this.constructor.CAN_DRAG) {\r\n                this.displayText += \" | Click and drag on a node to move it!\";\r\n            }\r\n            this.displayTextColor = [0,0,0];\r\n        }\r\n\r\n        this.animationHistory = [];\r\n        this.runningAnimation = [];\r\n        this.animationQueue = [];\r\n        this.animating = false;\r\n\r\n        if (this.constructor.SUPPORTS_NO_LOOP) {\r\n            this.stopDrawing(++this.stopID);\r\n        }\r\n        if (this.constructor.SUPPORTS_ANIMATION_CONTROL) {\r\n            // this.paused = false;\r\n        }\r\n    }\r\n\r\n    noAction() {}\r\n    undo_noAction() {}\r\n\r\n    playPause() {\r\n        if (this.paused) {\r\n            this.play();\r\n        } else {\r\n            this.pause();\r\n        }\r\n    }\r\n\r\n    play() {\r\n        this.paused = false;\r\n        if (this.animationQueue.length > 0) {\r\n            this.beginDrawLoop();\r\n        } else {\r\n            this.animator.emit(\"anim-end\");\r\n        }\r\n        this.animator.disable(\"stepBack\");\r\n        this.animator.disable(\"skipBack\");\r\n        this.animator.disable(\"stepForward\");\r\n        this.animator.disable(\"skipForward\");\r\n    }\r\n\r\n    pause() {\r\n        if (this.animationQueue.length === 0 || !this.isPauseTrigger(this.animationQueue[0])) {\r\n            this.animationQueue.unshift({method:this.setPaused,noAnim:true});\r\n        }\r\n        this.beginDrawLoop();\r\n    }\r\n\r\n    setPaused() {\r\n        this.stopDrawing.apply(this, (this.constructor.SUPPORTS_STOP_ID ? [++this.stopID,true] : []));\r\n        this.paused = true;\r\n        this.animator.enable(\"playPause\");\r\n        if (this.canStepBack()) {\r\n            this.animator.enable(\"stepBack\");\r\n        }\r\n        if (this.canSkipBack()) {\r\n            this.animator.enable(\"skipBack\");\r\n        }\r\n        if (this.canStepForward()) {\r\n            this.animator.enable(\"stepForward\");\r\n        }\r\n        if (this.canSkipForward()) {\r\n            this.animator.enable(\"skipForward\");\r\n        }\r\n    }\r\n\r\n    getLastTextAnimation() {\r\n        if (this.runningAnimation) {\r\n            for (let i = this.runningAnimation.length-1; i >= 0; i--) {\r\n                if (this.runningAnimation[i].method === this.showText || this.runningAnimation[i].explanation) {\r\n                    return this.runningAnimation[i];\r\n                }\r\n            }\r\n        }\r\n        for (let i = this.animationHistory.length - 1; i >= 0; i--) {\r\n            for (let j = this.animationHistory[i].length - 1; j >= 0; j++) {\r\n                if (this.animationHistory[i][j].method === this.showText || this.animationHistory[i][j].explanation) {\r\n                    return this.animationHistory[i][j];\r\n                }\r\n            }\r\n        }\r\n        return {method:this.showText,params:[\"Animation Ready\"]};\r\n    }\r\n    undoText(explanation) {\r\n        if (explanation) {\r\n            this.showText(explanation);\r\n            return;\r\n        }\r\n        let textAnimation = this.getLastTextAnimation();\r\n        if (textAnimation) {\r\n            if (textAnimation.method === this.showText) {\r\n                this.showText(...textAnimation.params);\r\n            } else {\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    undoAnimation(previousAnimation, doDraw) {\r\n        let scope = previousAnimation.scope || this;\r\n        // let undo = scope.undo;\r\n        let undoMethod = previousAnimation.method.undo;\r\n        let params = previousAnimation.undoData || previousAnimation.params || [];\r\n        // console.log(require('util').inspect(previousAnimation, { depth: null }));\r\n        if (undoMethod) {\r\n            if (Visualization.LOG_UNDO_REDO) {\r\n                console.log(\"undo\",params,undoMethod);\r\n            }\r\n            // if (previousAnimation.returnsUndoData) {\r\n            //     params = previousAnimation.returnValue;\r\n            // }\r\n            if (doDraw) {\r\n                this.beginDrawLoop();\r\n            }\r\n            undoMethod.apply(scope, params);\r\n            this.undoText(previousAnimation.explanation);\r\n            if (!previousAnimation.customUndoEnd) {\r\n                this.stopDrawing(++this.stopID);\r\n                console.log(this.stopID);\r\n            }\r\n        } else {\r\n            if (Visualization.LOG_UNDO_REDO) {\r\n                console.log(\"failed\",previousAnimation);\r\n            }\r\n        }\r\n        this.animationQueue.unshift(previousAnimation);\r\n    }\r\n\r\n    unAnimate(doDraw) {\r\n        if (doDraw) {\r\n            this.ensureDrawn();\r\n        }\r\n        let previousAnimation = this.runningAnimation.pop();\r\n        while (!(previousAnimation.isAnimationStep || previousAnimation.isBackStep)) {\r\n            this.undoAnimation(previousAnimation,doDraw);\r\n            previousAnimation = this.runningAnimation.pop();\r\n            if (!previousAnimation) {\r\n                break;\r\n            }\r\n        }\r\n        if (previousAnimation) {\r\n            this.undoAnimation(previousAnimation,doDraw);\r\n        }\r\n        if (doDraw) {\r\n            this.ensureDrawn();\r\n        }\r\n    }\r\n\r\n    canStepBack() {\r\n        return this.animationHistory.length > 0 || this.runningAnimation.length > 0;\r\n    }\r\n    stepBack(doDraw = true) {\r\n        if (this.paused) {\r\n            if (this.runningAnimation && this.runningAnimation.length > 0) {\r\n                this.unAnimate(doDraw);\r\n                this.animator.enable(\"stepForward\");\r\n                this.animator.enable(\"skipForward\");\r\n                if (this.runningAnimation.length === 0) {\r\n                    this.animationQueue.unshift({method:this.animator.emit,scope:this.animator,params:[\"anim-start\",],noAnim:true});\r\n                    this.runningAnimation = null;\r\n                    this.undoText();\r\n                    if (this.animationHistory.length === 0) {\r\n                        this.animator.disable(\"stepBack\");\r\n                        this.animator.disable(\"skipBack\");\r\n                    }\r\n                }\r\n            } else if (this.animationHistory.length > 0) {\r\n                this.popHistoryToRunningAnimation();\r\n                this.stepBack();\r\n            }\r\n        }\r\n    }\r\n\r\n    redoAnimation(nextAnimation,doDraw) {\r\n        let scope = nextAnimation.scope || this;\r\n        let method = nextAnimation.method;\r\n        method = method.redo || method;\r\n        let params = nextAnimation.redoData || nextAnimation.params || [];\r\n        if (doDraw) {\r\n            this.beginDrawLoop();\r\n        }\r\n        let retVal\r\n        if (!this.isAnimEnd(nextAnimation)) {\r\n            if (Visualization.LOG_UNDO_REDO) {\r\n                console.log(\"redo\",params,method);\r\n            }\r\n            retVal = method.apply(scope, params);\r\n        }\r\n        if (this.isAnimStart(nextAnimation)) {\r\n            this.runningAnimation = [];\r\n        } else if (this.isAnimEnd(nextAnimation)) {\r\n            this.animationHistory.push(this.runningAnimation);\r\n            this.runningAnimation = null;\r\n        } else if (this.isEndDrawLoopTrigger(nextAnimation)) {\r\n\r\n        } else if (this.isPauseTrigger(nextAnimation)) {\r\n\r\n        } else {\r\n            if (this.runningAnimation) {\r\n                this.runningAnimation.push(nextAnimation);\r\n            } else {\r\n                if (!this.constructor.SUPPORTS_ANIMATION_CONTROL) {\r\n                    this.animationHistory.push(nextAnimation);\r\n                }\r\n            }\r\n        }\r\n        if (nextAnimation.explanation) {\r\n            if (nextAnimation.explanationUsesReturn) {\r\n                nextAnimation.explanation = nextAnimation.explanation.replace(\"|RETURN|\", retVal);\r\n            }\r\n            this.showText(nextAnimation.explanation);\r\n        }\r\n        if (!nextAnimation.customRedoEnd) {\r\n            this.stopDrawing(++this.stopID);\r\n        }\r\n    }\r\n\r\n    reAnimate(doDraw) {\r\n        if (doDraw) {\r\n            this.ensureDrawn();\r\n        }\r\n        let nextAnimation = this.animationQueue.shift();\r\n        while (!(nextAnimation.isAnimationStep || nextAnimation.isForwardStep) && !this.isEndDrawLoopTrigger(nextAnimation)) {\r\n            this.redoAnimation(nextAnimation,doDraw);\r\n            nextAnimation = this.animationQueue.shift();\r\n            if (!nextAnimation) {\r\n                break;\r\n            }\r\n        }\r\n        if (nextAnimation) {\r\n            this.redoAnimation(nextAnimation,doDraw);\r\n        }\r\n        if (doDraw) {\r\n            this.ensureDrawn();\r\n        }\r\n        // if (!nextAnimation.customRedoEnd && !this.isEndDrawLoopTrigger(nextAnimation)) {\r\n        //     if (!(this.animationQueue[0].isAnimationStep || this.animationQueue[0].isForwardStep)) {\r\n        //         while (!(this.animationQueue[0].isAnimationStep || this.animationQueue[0].isForwardStep) && !this.isEndDrawLoopTrigger(this.animationQueue[0])) {\r\n        //             nextAnimation = this.animationQueue.shift();\r\n        //             this.redoAnimation(nextAnimation);\r\n        //             if (!nextAnimation) {\r\n        //                 return;\r\n        //             }\r\n        //         }\r\n        //     }\r\n        //     if (this.isEndDrawLoopTrigger(this.animationQueue[0])) {\r\n        //         nextAnimation = this.animationQueue.shift();\r\n        //         this.redoAnimation(nextAnimation);\r\n        //     }\r\n        // }\r\n    }\r\n\r\n    canStepForward() {\r\n        return this.animationQueue.length > 0;\r\n    }\r\n    stepForward(doDraw = true) {\r\n        if (this.paused) {\r\n            if (this.animationQueue.length > 0) {\r\n                this.reAnimate(doDraw);\r\n                this.animator.enable(\"stepBack\");\r\n                this.animator.enable(\"skipBack\");\r\n                if (this.animationQueue.length === 0) {\r\n                    this.animator.disable(\"stepForward\");\r\n                    this.animator.disable(\"skipForward\");\r\n                } else {\r\n                    this.animator.enable(\"stepForward\");\r\n                    this.animator.enable(\"skipForward\");\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    canSkipBack() {\r\n        return this.animationHistory.length > 0 || this.runningAnimation.length > 0;\r\n    }\r\n    skipBack() {\r\n        if (this.paused) {\r\n            if (this.runningAnimation) {\r\n                while (this.runningAnimation && this.runningAnimation.length > 0) {\r\n                    this.stepBack(false);\r\n                }\r\n                this.animator.enable(\"stepForward\");\r\n                this.animator.enable(\"skipForward\");\r\n                if (this.animationHistory.length === 0) {\r\n                    this.animator.disable(\"stepBack\");\r\n                    this.animator.disable(\"skipBack\");\r\n                }\r\n                this.ensureDrawn(true);\r\n            } else if (this.animationHistory.length > 0) {\r\n                this.popHistoryToRunningAnimation();\r\n                this.skipBack();\r\n            }\r\n        }\r\n    }\r\n\r\n    canSkipForward() {\r\n        return this.animationQueue.length > 0;\r\n    }\r\n    skipForward() {\r\n        if (this.paused) {\r\n            if (this.animationQueue.length > 0) {\r\n                if (this.isAnimStart(this.animationQueue[0])) {\r\n                    this.stepForward(false);\r\n                }\r\n                while (this.animationQueue.length > 0 && !this.isAnimStart(this.animationQueue[0])) {\r\n                    this.stepForward(false);\r\n                }\r\n                this.ensureDrawn(true);\r\n                this.animator.enable(\"stepBack\");\r\n                this.animator.enable(\"skipBack\");\r\n                if (this.animationQueue.length === 0) {\r\n                    this.animator.disable(\"stepForward\");\r\n                    this.animator.disable(\"skipForward\");\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    popHistoryToRunningAnimation() {\r\n        let previousAnimationSequence = this.animationHistory.pop();\r\n        this.animator.emit(\"anim-start\");\r\n        this.animationQueue.unshift({method:this.stopDrawing,params:this.constructor.SUPPORTS_STOP_ID ? [++this.stopID,true] : [],noAnim:true});\r\n        this.animationQueue.unshift({method:this.animator.emit,scope:this.animator,params:[\"anim-end\",],noAnim:true});\r\n        this.runningAnimation = previousAnimationSequence;\r\n    }\r\n\r\n    ensureDrawn() {\r\n        throw new TypeError(\"Need to implement ensure drawn in instance class\");\r\n    }\r\n\r\n\r\n    updateText(text, color = Colors.BLACK) {\r\n        this.animationQueue.push({method:this.showText,params:[text,color],});\r\n    }\r\n\r\n    showText(text, color = Colors.BLACK) {\r\n        this.displayText = text;\r\n        this.displayTextColor = color;\r\n    }\r\n    undo_showText(text, color) {\r\n        return this.showText(text, color);\r\n    }\r\n\r\n    addAnimation(animation) {\r\n        this.animationQueue.push({method:this.animator.emit,scope:this.animator,params:[\"anim-start\",],noAnim:true});\r\n        this.animationQueue.push(...animation);\r\n        this.animationQueue.push({method:this.animator.emit,scope:this.animator,params:[\"anim-end\",],noAnim:true});\r\n    }\r\n\r\n    doneAnimating(time = 250) {\r\n        if (time === 0) {\r\n            this.animating = false;\r\n            return;\r\n        }\r\n        setTimeout(() => {\r\n            this.animating = false;\r\n        }, time);\r\n    }\r\n\r\n    update(animationSpeed, p5, callForward) {\r\n        if (this.constructor.SET_BOUNDS) {\r\n            this.width = p5.width - 2 * this.x;\r\n            this.height = p5.height - 2 * this.y;\r\n        }\r\n        if (callForward) {\r\n            callForward();\r\n        }\r\n        if (!this.constructor.SUPPORTS_ANIMATION_CONTROL || !this.paused) {\r\n            this.popAnimation(animationSpeed);\r\n        }\r\n    }\r\n\r\n    isAnimStart(animation) {\r\n        return animation.method === this.animator.emit && animation.params[0] === \"anim-start\";\r\n    }\r\n\r\n    isAnimEnd(animation) {\r\n        return animation.method === this.animator.emit && animation.params[0] === \"anim-end\";\r\n    }\r\n\r\n    isEndDrawLoopTrigger(animation) {\r\n        return animation.method === this.stopDrawing;\r\n    }\r\n\r\n    isPauseTrigger(animation) {\r\n        return animation.method === this.setPaused;\r\n    }\r\n\r\n    noAnimation(animation) {\r\n        return animation.noAnim\r\n                || (animation.method === this.animator.emit && (animation.params[0] === \"anim-start\" || animation.params[0] === \"anim-end\"))\r\n                || (animation.method === this.showText);\r\n    }\r\n\r\n    popAnimation(animationSpeed) {\r\n        if (!this.animating) {\r\n            if (this.animationQueue.length > 0) {\r\n                let animation = this.animationQueue.shift();\r\n                this.animating = true;\r\n                if (Visualization.LOG_ANIMATIONS) {\r\n                    console.log(\"animate\",animation.method);\r\n                }\r\n                let retVal = animation.method.apply(animation.scope || this, animation.params);\r\n                animation.returnValue = retVal;\r\n                if (this.isAnimStart(animation)) {\r\n                    this.runningAnimation = [];\r\n                } else if (this.isAnimEnd(animation)) {\r\n                    this.animationHistory.push(this.runningAnimation);\r\n                    this.runningAnimation = null;\r\n                } else if (this.isEndDrawLoopTrigger(animation)) {\r\n                    if (this.animationQueue.length > 0) {\r\n                        this.beginDrawLoop();\r\n                    }\r\n                } else if (this.isPauseTrigger(animation)) {\r\n\r\n                } else {\r\n                    if (this.runningAnimation) {\r\n                        this.runningAnimation.push(animation);\r\n                    } else {\r\n                        if (!this.constructor.SUPPORTS_ANIMATION_CONTROL) {\r\n                            this.animationHistory.push(animation);\r\n                        }\r\n                    }\r\n                }\r\n                if (animation.explanation) {\r\n                    if (animation.explanationUsesReturn) {\r\n                        animation.explanation = animation.explanation.replace(\"|RETURN|\", animation.returnsUndoData ? retVal[0] : retVal);\r\n                        if (animation.returnsUndoData) {\r\n                            // console.log(retVal);\r\n                        }\r\n                    }\r\n                    this.showText(animation.explanation);\r\n                }\r\n                if (animation.returnsUndoData) {\r\n                    animation.undoData = animation.explanationUsesReturn ? retVal[1] : retVal;\r\n                }\r\n                if (animation.returnsRedoData) {\r\n                    animation.redoData = animation.explanationUsesReturn ? retVal[1] : retVal;\r\n                }\r\n                if (this.constructor.SUPPORTS_CUSTOM_END) {\r\n                    if (this.noAnimation(animation)) {\r\n                        this.animating = false;\r\n                    } else if (!animation.customEnd) {\r\n                        if (animationSpeed >= Math.floor(Visualizer.maxAnimationSpeed())) {\r\n                            this.doneAnimating(0);\r\n                        } else {\r\n                            this.doneAnimating(this.constructor.MAX_ANIM_TIME / animationSpeed / (animation.quick ? 2 : 1));\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    beginDrawLoop() {\r\n        this.animator.loop();\r\n        this.drawing = true;\r\n    }\r\n\r\n    endDrawLoop() {\r\n        if (this.drawing) {\r\n            this.animationQueue.push({method:this.stopDrawing,params:this.constructor.SUPPORTS_STOP_ID ? [++this.stopID,true] : [],noAnim:true});\r\n        }\r\n    }\r\n\r\n    stopDrawing(stopID,force) {\r\n        if (!this.constructor.SUPPORTS_STOP_ID || force || stopID === this.stopID) {\r\n            this.animator.noLoop();\r\n            this.drawing = false;\r\n        }\r\n    }\r\n\r\n    draw(p5) {\r\n        if (Visualization.LOG_DRAW) {\r\n            console.log(\"draw\");\r\n        }\r\n        p5.push();\r\n        if (this.constructor.SUPPORTS_TEXT) {\r\n            p5.fill(...this.displayTextColor);\r\n            p5.textSize(15);\r\n            p5.textAlign(p5.LEFT, p5.TOP);\r\n            p5.text(this.displayText, 2.5,2.5, this.width,60);\r\n        }\r\n        p5.pop();\r\n    }\r\n\r\n    mousePressed(p5) {\r\n        return true;\r\n    }\r\n\r\n    mouseReleased(p5) {\r\n        return true;\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars, maxY, callback) {\r\n        height -= numScrollbars * 16;\r\n        let width = p5.windowWidth;\r\n        if (maxY > (height - (2*this.y))) {\r\n            height = (maxY + (3*this.y))\r\n            if (!document.querySelector(\".canvas-container\").classList.contains(\"mobile\")) {\r\n                width -= 16;\r\n            }\r\n            document.querySelector(\".canvas-container\").classList.add(\"overflow\");\r\n        } else {\r\n            document.querySelector(\".canvas-container\").classList.remove(\"overflow\");\r\n        }\r\n\r\n        if (height > p5.height) {\r\n            p5.resizeCanvas(width, height);\r\n        } else {\r\n            p5.resizeCanvas(width, p5.height);\r\n        }\r\n\r\n        if (this.constructor.SET_BOUNDS) {\r\n            this.width = p5.width - 2 * this.x;\r\n            this.height = p5.height - 2 * this.y;\r\n        }\r\n\r\n\r\n        if (callback) {\r\n            callback();\r\n        }\r\n        try {\r\n            this.ensureDrawn(this.animationQueue.length === 0);\r\n            if (this.animationQueue.length > 0 && !this.paused) {\r\n                this.stopID++;\r\n            }\r\n        } catch (e) {\r\n\r\n        } finally {\r\n\r\n        }\r\n    }\r\n}\r\n","import { Visualization, AnimatedObject } from 'animation';\r\n\r\nexport default class ArrayList extends Visualization {\r\n    static USE_CANVAS = true;\r\n\r\n    static ELEMENT_SIZE = 50;\r\n    static INITIAL_CAPACITY = 9;\r\n\r\n    constructor(animator) {\r\n        super(animator);\r\n\r\n        this.reset();\r\n    }\r\n\r\n\r\n    reset() {\r\n        super.reset();\r\n        this.backingArray = {};\r\n        this.backingArray.length = ArrayList.INITIAL_CAPACITY;\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            this.backingArray[i] = new ArrayElement(\"\");\r\n        }\r\n        this.size = 0;\r\n    }\r\n\r\n\r\n    addAtIndex(index, data) {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        if (index < 0 || index > this.size) {\r\n            console.log(\"index out of bounds\");\r\n            return false;\r\n        }\r\n        if (data === null) {\r\n            console.log(\"Cannot add null to ArrayList.\");\r\n            return false;\r\n        }\r\n        this.animating = true;\r\n        let animation = [];\r\n        if (this.size === this.backingArray.length) {\r\n            animation.push(...this.doubleSize());\r\n        }\r\n        if (index < this.size) {\r\n            animation.push(...this.shiftForIndex(index));\r\n        }\r\n        animation.push({method:this.setIndex,params:[index,data,],});\r\n        animation.push({method:this.sizeIncr,params:[],});\r\n        this.addAnimation(animation);\r\n        this.animationHistory.push(animation);\r\n        return true;\r\n    }\r\n\r\n    addToFront(data) {\r\n        return this.addAtIndex(0,data);\r\n    }\r\n\r\n    addToBack(data) {\r\n        return this.addAtIndex(this.size,data);\r\n    }\r\n\r\n\r\n    removeFromIndex(index) {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        if (index < 0 || index >= this.size) {\r\n            console.log(`Index invalid: ${index} for ArrayList of length ${this.size}. Should be [0,${this.size-1}].`);\r\n            return false;\r\n        }\r\n        this.animating = true;\r\n        let animation = [];\r\n        let element = this.backingArray[index];\r\n        let data = element.data;\r\n        element.data = \"\";\r\n        if (index < this.size - 1) {\r\n            animation.push(...this.shiftIntoIndex(index));\r\n        }\r\n        animation.push({method:this.sizeDecr,params:[],});\r\n        this.addAnimation(animation);\r\n        this.animationHistory.push(animation)\r\n        return data;\r\n    }\r\n\r\n    removeFromFront() {\r\n        return this.removeFromIndex(0);\r\n    }\r\n\r\n    removeFromBack() {\r\n        return this.removeFromIndex(this.size-1);\r\n    }\r\n\r\n\r\n    setIndex(index,data) {\r\n        this.backingArray[index].data = data;\r\n    }\r\n\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n\r\n    doubleSize() {\r\n        let animation = []\r\n        let prevCapacity = this.backingArray.length;\r\n        for (let i = prevCapacity; i < this.backingArray.length * 2; i++) {\r\n            animation.push({method:this.resetElement,params:[i,],});\r\n        }\r\n        animation.push({method:this.incrLength,params:[],});\r\n        return animation;\r\n    }\r\n\r\n    incrLength() {\r\n        this.backingArray.length = 2 * this.backingArray.length;\r\n    }\r\n\r\n    shiftForIndex(index) {\r\n        let animation = []\r\n        for (let i = this.size - 1; i >= index; i--) {\r\n            animation.push(...this.shiftElement(i,1));\r\n        }\r\n        animation.push({method:this.resetElement,params:[index,],});\r\n        return animation;\r\n    }\r\n\r\n    shiftIntoIndex(index) {\r\n        let animation = [];\r\n        for (let i = index + 1; i < this.size; i++) {\r\n            animation.push(...this.shiftElement(i,-1));\r\n        }\r\n        animation.push({method:this.resetElement,params:[this.size-1,],});\r\n        return animation;\r\n    }\r\n\r\n    shiftElement(index, direction) {\r\n        let animation = [];\r\n        animation.push({method:this.shiftElementMovement,params:[index,direction,],});\r\n        animation.push({method:this.shiftElementIndex,params:[index,direction,],});\r\n        return animation;\r\n    }\r\n\r\n    shiftElementMovement(index, direction) {\r\n        this.backingArray[index].shift(direction);\r\n        // console.log(\"move\",index,JSON.stringify(this.backingArray));\r\n    }\r\n\r\n    shiftElementIndex(index, direction) {\r\n        // console.log(\"index\",index,JSON.stringify(this.backingArray));\r\n        // console.log(index+direction, this.backingArray[index].data);\r\n        this.backingArray[index+direction].data = this.backingArray[index].data;\r\n        this.backingArray[index].data = \"\";\r\n    }\r\n\r\n\r\n    resetElement(index) {\r\n        if (this.backingArray[index]) {\r\n            this.backingArray[index].data = \"\";\r\n        } else {\r\n            this.backingArray[index] = new ArrayElement(\"\", ArrayList.ELEMENT_SIZE);\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            for (let i = 0; i < this.backingArray.length; i++) {\r\n                if (this.backingArray[i]) {\r\n                    this.backingArray[i].update(animationSpeed);\r\n                }\r\n            }\r\n            let foundAnimElement = false;\r\n            for (let i = 0; i < this.size; i++) {\r\n                if (!this.backingArray[i].inPosition()) {\r\n                    foundAnimElement = true;\r\n                    break;\r\n                }\r\n            }\r\n            this.animating = foundAnimElement;\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        let maxPerRow = Math.floor((p5.width - 2 * this.x) / ArrayList.ELEMENT_SIZE);\r\n        let rows = Math.ceil(this.backingArray.length / maxPerRow);\r\n\r\n        p5.push();\r\n        p5.translate(this.x,this.y);\r\n\r\n        for (let row = 0; row < rows; row++) {\r\n            let numElements = row !== rows-1 ? maxPerRow\r\n                    : (this.backingArray.length % maxPerRow === 0 ? maxPerRow : (this.backingArray.length % maxPerRow));\r\n            p5.noStroke();\r\n            p5.fill(200);\r\n            p5.rect(ArrayList.ELEMENT_SIZE/10,ArrayList.ELEMENT_SIZE/10 + (2 * ArrayList.ELEMENT_SIZE * row),ArrayList.ELEMENT_SIZE*numElements,ArrayList.ELEMENT_SIZE,ArrayList.ELEMENT_SIZE/20);\r\n\r\n            p5.stroke(0);\r\n            p5.fill(255);\r\n            p5.rect(0,(2 * ArrayList.ELEMENT_SIZE * row), ArrayList.ELEMENT_SIZE*numElements,ArrayList.ELEMENT_SIZE);\r\n        }\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(ArrayList.ELEMENT_SIZE/3 - 2);\r\n\r\n        let i = 0;\r\n        for (let row = 0; row < rows; row++) {\r\n            let numElements = row !== rows-1 ? maxPerRow\r\n                    : (this.backingArray.length % maxPerRow === 0 ? maxPerRow : (this.backingArray.length % maxPerRow));\r\n            let x = 0;\r\n            let y = 2 * row * ArrayList.ELEMENT_SIZE;\r\n            for (let block = 0; block < numElements; block++) {\r\n                p5.stroke(0);\r\n                p5.line(x,y, x, y+ArrayList.ELEMENT_SIZE);\r\n\r\n                p5.noStroke();\r\n                p5.fill(0,0,255);\r\n                p5.text(i.toString(), x,y+ArrayList.ELEMENT_SIZE, ArrayList.ELEMENT_SIZE,ArrayList.ELEMENT_SIZE);\r\n\r\n                let element = this.backingArray[i++];\r\n                let nextX = block < (numElements - 1) ? x + ArrayList.ELEMENT_SIZE : 0;\r\n                let nextY = block < (numElements - 1) ? y : (y + (ArrayList.ELEMENT_SIZE*2));\r\n                if (element.data) {\r\n                    element.draw(p5, x,y,nextX,nextY);\r\n                }\r\n                x = nextX;\r\n                y = nextY;\r\n                if (y >= document.querySelector(\".canvas-container\").getBoundingClientRect().height - ArrayList.ELEMENT_SIZE) {\r\n                    // this.windowResized(p5, document.querySelector(\".canvas-container\").getBoundingClientRect().height);\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, (Math.ceil(this.backingArray.length / (Math.floor((p5.width - 2 * this.x) / ArrayList.ELEMENT_SIZE))))*2*ArrayList.ELEMENT_SIZE);\r\n    }\r\n}\r\n\r\n\r\nclass ArrayElement extends AnimatedObject {\r\n    constructor(data) {\r\n        super();\r\n\r\n        this.data = data;\r\n    }\r\n\r\n    shift(direction) {\r\n        super.travel(direction);\r\n    }\r\n\r\n    draw(p5, x,y, toX,toY) {\r\n        p5.push();\r\n        p5.fill(0);\r\n        p5.stroke(50);\r\n        if (!this.inPosition()) {\r\n            let posX = (toX-x)*this.xProgress + x;\r\n            let posY = (toY-y)*this.yProgress + y;\r\n            p5.text(this.data.toString(), posX,posY, ArrayList.ELEMENT_SIZE,ArrayList.ELEMENT_SIZE);\r\n        } else {\r\n            p5.text(this.data.toString(), x,y, ArrayList.ELEMENT_SIZE,ArrayList.ELEMENT_SIZE)\r\n        }\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization, AttractedDraggableObject } from 'animation';\r\nimport { Utils } from 'utils';\r\n\r\nexport default class SinglyLinkedList extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n\r\n    static ELEMENT_HEIGHT = 35;\r\n    static ELEMENT_WIDTH = 50;\r\n    static POINTER_WIDTH = 15;\r\n    static ITEM_WIDTH = SinglyLinkedList.ELEMENT_WIDTH + SinglyLinkedList.POINTER_WIDTH;\r\n    static SPACING = 50;\r\n    static ELEMENT_SIZE = SinglyLinkedList.ITEM_WIDTH + SinglyLinkedList.SPACING;\r\n\r\n    static MAX_DIST_REMOVE = 300;\r\n\r\n    constructor(animator) {\r\n        super(animator);\r\n\r\n        this.reset();\r\n    }\r\n\r\n    reset() {\r\n        super.reset();\r\n        this.head = null;\r\n        this.size = 0;\r\n        this.nodes = [];\r\n        this.tempNode = null;\r\n        this.pinnedNode = null;\r\n    }\r\n\r\n\r\n    addAtIndex(index, data) {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        if (index < 0 || index > this.size) {\r\n            console.log(\"index out of bounds\");\r\n            return false;\r\n        }\r\n        if (data === null) {\r\n            console.log(\"Cannot add null to SinglyLinkedList.\");\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let node = null;\r\n        let nextNode = this.head;\r\n        for (let i = 0; i < index; i++) {\r\n            animation.push({method:this.moveHighlight,params:[node,nextNode,],});\r\n            node = nextNode;\r\n            nextNode = nextNode.next;\r\n        }\r\n        animation.push({method:this.makeNode,params:[index,data,],});\r\n        animation.push({method:this.moveHighlight,params:[node,null,],});\r\n        animation.push({method:this.setTempNodeBefore,params:[nextNode,],});\r\n        animation.push({method:this.setTempNodePrev,params:[node,],});\r\n        if (index < this.size) {\r\n            animation.push({method:this.shiftForNode,params:[nextNode,],});\r\n        }\r\n        animation.push({method:this.insertTempNode,params:[index,],});\r\n        animation.push({method:this.sizeIncr,params:[],});\r\n        this.addAnimation(animation);\r\n        this.animationHistory.push(animation);\r\n        return true;\r\n    }\r\n\r\n    addToFront(data) {\r\n        return this.addAtIndex(0,data);\r\n    }\r\n\r\n    addToBack(data) {\r\n        return this.addAtIndex(this.size,data);\r\n    }\r\n\r\n\r\n    removeFromIndex(index) {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        if (index < 0 || index >= this.size) {\r\n            console.log(`Index invalid: ${index} for SinglyLinkedList of length ${this.size}. Should be [0,${this.size-1}].`);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let prev;\r\n        let toDelete;\r\n        let next;\r\n        if (index === 0) {\r\n            prev = null;\r\n            toDelete = this.head;\r\n            next = toDelete.next;\r\n        } else {\r\n            let node = this.head;\r\n            animation.push({method:this.moveHighlight,params:[null,node,],});\r\n            for (let i = 0; i < index - 1; i++) {\r\n                animation.push({method:this.moveHighlight,params:[node,node.next,],});\r\n                node = node.next;\r\n            }\r\n            prev = node;\r\n            toDelete = prev.next;\r\n            next = toDelete.next;\r\n        }\r\n        let data = toDelete.data;\r\n        animation.push({method:this.markNodeForDeletion,params:[prev,toDelete,],});\r\n        animation.push({method:this.unmakeNode,params:[toDelete,],customEnd:true,});\r\n        if (index < this.size - 1) {\r\n            animation.push({method:this.shiftIntoNode,params:[next,],});\r\n        }\r\n        animation.push({method:this.skipTempNode,params:[prev,],});\r\n        animation.push({method:this.sizeDecr,params:[],});\r\n        this.addAnimation(animation);\r\n        this.animationHistory.push(animation)\r\n        return data;\r\n    }\r\n\r\n    removeFromFront() {\r\n        return this.removeFromIndex(0);\r\n    }\r\n\r\n    removeFromBack() {\r\n        return this.removeFromIndex(this.size-1);\r\n    }\r\n\r\n\r\n    makeNode(index, data) {\r\n        this.tempNode = new SinglyLinkedListNode({data: data, index: index, x:20,y:20,},);\r\n    }\r\n\r\n    setTempNodeBefore(next) {\r\n        this.tempNode.next = next;\r\n    }\r\n\r\n    setTempNodePrev(prev) {\r\n        if (prev) {\r\n            prev.next = this.tempNode;\r\n        } else {\r\n            // this.head = this.tempNode;\r\n        }\r\n    }\r\n\r\n    insertTempNode(index) {\r\n        this.nodes.splice(index, 0, this.tempNode);\r\n        if (index === 0) {\r\n            this.head = this.tempNode;\r\n        }\r\n        this.tempNode.shift(...this.getNodePosition(index));\r\n        this.tempNode = null;\r\n    }\r\n\r\n    moveHighlight(fromNode, toNode) {\r\n        if (fromNode) {\r\n            fromNode.unHighlight();\r\n        }\r\n        if (toNode) {\r\n            toNode.highlight();\r\n        }\r\n    }\r\n\r\n    markNodeForDeletion(highlighted, nodeToDelete) {\r\n        if (highlighted) {\r\n            highlighted.unHighlight();\r\n        }\r\n        nodeToDelete.markForDeletion();\r\n    }\r\n\r\n    unmakeNode(node) {\r\n        this.tempNode = this.nodes.splice(node.index, 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        this.tempNode.addOnStop(() => {\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n\r\n    skipTempNode(prev) {\r\n        if (prev) {\r\n            prev.next = this.tempNode.next;\r\n        } else {\r\n            this.head = this.head.next;\r\n        }\r\n        this.tempNode = null;\r\n    }\r\n\r\n    shiftForNode(node) {\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            node = node.next;\r\n        }\r\n    }\r\n\r\n    shiftIntoNode(node) {\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            node = node.next;\r\n        }\r\n    }\r\n\r\n    shiftNode(node, direction) {\r\n        node.shift(...this.getNodePosition(node.index + direction), direction);\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n\r\n    addAnimation(animation) {\r\n        this.animationQueue.push({method:this.animator.emit,scope:this.animator,params:[\"anim-start\",],});\r\n        this.animationQueue.push(...animation);\r\n        this.animationQueue.push({method:this.animator.emit,scope:this.animator,params:[\"anim-end\",],});\r\n    }\r\n\r\n    getNodePosition(index) {\r\n        let maxPerRow = Math.max(1, Math.floor(this.width / SinglyLinkedList.ELEMENT_SIZE));\r\n        let x = SinglyLinkedList.ELEMENT_SIZE * index;\r\n        let y = 50 + Math.floor(index / maxPerRow) * 2 * SinglyLinkedList.ELEMENT_HEIGHT;\r\n        x = (index % maxPerRow) * SinglyLinkedList.ELEMENT_SIZE;\r\n        return [x + this.x,y + this.y];\r\n    }\r\n\r\n    getNodeAtPos(x,y) {\r\n        let node = this.head;\r\n        while (node) {\r\n            if (node.containsPos(x,y)) {\r\n                return node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode && this.tempNode.containsPos(x,y)) {\r\n            return this.tempNode;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    pin(node, x,y) {\r\n        this.pinnedNode = node;\r\n        node.pin(x,y);\r\n    }\r\n\r\n    unpin() {\r\n        if (this.pinnedNode.unpin()) {\r\n            this.removeFromIndex(this.pinnedNode.index);\r\n            this.pinnedNode.markBroken();\r\n        }\r\n        this.pinnedNode = null;\r\n    }\r\n\r\n    updateNode(node, animationSpeed, p5) {\r\n        if (node.update(animationSpeed, p5)) {\r\n            node.highlightForDeletion();\r\n        } else if (node.pinnedToMouse && !node.toDelete) {\r\n            node.unHighlight();\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            let node = this.head;\r\n            while (node) {\r\n                this.updateNode(node, animationSpeed, p5);\r\n                node = node.next;\r\n            }\r\n            if (this.tempNode) {\r\n                this.updateNode(this.tempNode, animationSpeed, p5);\r\n            }\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        // let maxPerRow = Math.floor(this.width / SinglyLinkedList.ELEMENT_SIZE);\r\n        // let rows = Math.ceil(this.nodes.length / maxPerRow);\r\n\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_WIDTH/3 - 2);\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.draw(p5);\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode) {\r\n            this.tempNode.draw(p5);\r\n        }\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    mousePressed(p5) {\r\n        let pressedNode = this.getNodeAtPos(p5.mouseX, p5.mouseY);\r\n        if (pressedNode) {\r\n            this.pin(pressedNode, p5.mouseX,p5.mouseY);\r\n        }\r\n        return !pressedNode;\r\n    }\r\n\r\n    mouseReleased(p5) {\r\n        if (this.pinnedNode) {\r\n            this.unpin();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, this.getNodePosition(this.size-1)[1] + SinglyLinkedList.ELEMENT_HEIGHT);\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.shift(...this.getNodePosition(node.index));\r\n            node = node.next;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nclass SinglyLinkedListNode extends AttractedDraggableObject {\r\n    static CAN_DRAG = true;\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        this.data = data;\r\n        this.index = index;\r\n        this.next = null;\r\n\r\n        this.toDelete = false;\r\n        this.handBroken = false;\r\n        this.frozen = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    containsPos(x,y) {\r\n        return ((this.currentX <= x && x <= (this.currentX + SinglyLinkedList.ITEM_WIDTH)) && (this.currentY <= y && y <= (this.currentY + SinglyLinkedList.ELEMENT_HEIGHT)))\r\n    }\r\n\r\n    highlight() {\r\n        this.color = [255,165,0];\r\n    }\r\n\r\n    unHighlight() {\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        this.color[0] = 255;\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    markBroken() {\r\n        this.markForDeletion();\r\n        this.frozen = true;\r\n        this.handBroken = true;\r\n    }\r\n\r\n    unpin() {\r\n        super.unpin();\r\n        return this.displacement() > SinglyLinkedList.MAX_DIST_REMOVE;\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        let dist = super.update(animationSpeed, p5);\r\n        return this.pinnedToMouse && !this.handBroken && dist > SinglyLinkedList.MAX_DIST_REMOVE;\r\n    }\r\n\r\n    draw(p5) {\r\n        // console.log(this);\r\n        p5.push();\r\n        p5.fill(255);\r\n        p5.stroke(...this.color);\r\n        p5.rect(this.currentX, this.currentY, SinglyLinkedList.ITEM_WIDTH, SinglyLinkedList.ELEMENT_HEIGHT);\r\n        p5.line(this.currentX + SinglyLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + SinglyLinkedList.ELEMENT_WIDTH, this.currentY + SinglyLinkedList.ELEMENT_HEIGHT);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.text(this.data.toString(), this.currentX,this.currentY, SinglyLinkedList.ELEMENT_WIDTH,SinglyLinkedList.ELEMENT_HEIGHT);\r\n        if (this.next) {\r\n            p5.stroke(...Utils.addArray(this.color, [0,0,255]));\r\n            p5.fill(...Utils.addArray(this.color, [0,0,255]));\r\n            p5.circle(this.currentX + SinglyLinkedList.ELEMENT_WIDTH + SinglyLinkedList.POINTER_WIDTH / 2, this.currentY + SinglyLinkedList.ELEMENT_HEIGHT / 2, 5);\r\n            p5.line(this.currentX + SinglyLinkedList.ELEMENT_WIDTH + SinglyLinkedList.POINTER_WIDTH / 2, this.currentY + SinglyLinkedList.ELEMENT_HEIGHT / 2, this.next.currentX, this.next.currentY + SinglyLinkedList.ELEMENT_HEIGHT / 2)\r\n            p5.rect(this.next.currentX - 3, this.next.currentY + SinglyLinkedList.ELEMENT_HEIGHT / 2 - 3, 6,6);\r\n        } else {\r\n            p5.line(this.currentX + SinglyLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + SinglyLinkedList.ITEM_WIDTH, this.currentY + SinglyLinkedList.ELEMENT_HEIGHT);\r\n        }\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization , AttractedDraggableObject } from 'animation';\r\nimport { Utils, Colors } from 'utils';\r\n\r\nexport default class DoublyLinkedList extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n\r\n    static ELEMENT_HEIGHT = 35;\r\n    static ELEMENT_WIDTH = 50;\r\n    static POINTER_WIDTH = 15;\r\n    static ITEM_WIDTH = DoublyLinkedList.ELEMENT_WIDTH + 2 * DoublyLinkedList.POINTER_WIDTH;\r\n    static SPACING = 50;\r\n    static ELEMENT_PADDED_WIDTH = DoublyLinkedList.ITEM_WIDTH + DoublyLinkedList.SPACING;\r\n\r\n    static MAX_DIST_REMOVE = 300;\r\n\r\n    constructor(animator) {\r\n        super(animator);\r\n\r\n        this.reset();\r\n    }\r\n\r\n    reset() {\r\n        super.reset();\r\n        this.head = null;\r\n        this.tail = null;\r\n        this.size = 0;\r\n        this.nodes = [];\r\n        this.tempNode = null;\r\n        this.pinnedNode = null;\r\n    }\r\n\r\n\r\n    addAtIndex(index, data) {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        if (index < 0 || index > this.size) {\r\n            console.log(\"index out of bounds\");\r\n            return false;\r\n        }\r\n        if (data === null) {\r\n            console.log(\"Cannot add null to DoublyLinkedList.\");\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let node;\r\n        let nextNode;\r\n        let highlighted;\r\n        if (index < this.size / 2) {\r\n            node = null;\r\n            nextNode = this.head;\r\n            for (let i = 0; i < index; i++) {\r\n                animation.push({method:this.moveHighlight,params:[node,nextNode,],});\r\n                node = nextNode;\r\n                nextNode = nextNode.next;\r\n            }\r\n            highlighted = node;\r\n        } else {\r\n            node = this.tail;\r\n            nextNode = null;\r\n            for (let i = this.size - 1; i > index-1; i--) {\r\n                animation.push({method:this.moveHighlight,params:[nextNode,node,],});\r\n                nextNode = node;\r\n                node = node.prev;\r\n            }\r\n            highlighted = nextNode;\r\n        }\r\n        animation.push({method:this.makeNode,params:[index,data,],});\r\n        animation.push({method:this.moveHighlight,params:[highlighted,null,],});\r\n        animation.push({method:this.setTempNodeBefore,params:[nextNode,],});\r\n        animation.push({method:this.setTempNodePrev,params:[node,],});\r\n        if (index < this.size) {\r\n            animation.push({method:this.shiftForNode,params:[nextNode,],});\r\n        }\r\n        animation.push({method:this.insertTempNode,params:[index,],});\r\n        animation.push({method:this.sizeIncr,params:[],});\r\n        this.addAnimation(animation);\r\n        this.animationHistory.push(animation);\r\n        return true;\r\n    }\r\n\r\n    addToFront(data) {\r\n        return this.addAtIndex(0,data);\r\n    }\r\n\r\n    addToBack(data) {\r\n        return this.addAtIndex(this.size,data);\r\n    }\r\n\r\n\r\n    removeFromIndex(index) {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        if (index < 0 || index >= this.size) {\r\n            console.log(`Index invalid: ${index} for DoublyLinkedList of length ${this.size}. Should be [0,${this.size-1}].`);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let prev;\r\n        let toDelete;\r\n        let next;\r\n        if (index === 0) {\r\n            prev = null;\r\n            toDelete = this.head;\r\n            next = toDelete.next;\r\n        } else if (index === this.size - 1) {\r\n            next = null;\r\n            toDelete = this.tail;\r\n            prev = toDelete.prev;\r\n        } else {\r\n            if (index < this.size / 2) {\r\n                let node = this.head;\r\n                animation.push({method:this.moveHighlight,params:[null,node,],});\r\n                for (let i = 0; i < index; i++) {\r\n                    animation.push({method:this.moveHighlight,params:[node,node.next,],});\r\n                    node = node.next;\r\n                }\r\n                prev = node.prev;\r\n                toDelete = node;\r\n                next = node.next;\r\n            } else {\r\n                let node = this.tail;\r\n                animation.push({method:this.moveHighlight,params:[null,node,],});\r\n                for (let i = this.size - 1; i > index; i--) {\r\n                    animation.push({method:this.moveHighlight,params:[node,node.prev,],});\r\n                    node = node.prev;\r\n                }\r\n                prev = node.prev;\r\n                toDelete = node;\r\n                next = node.next;\r\n            }\r\n        }\r\n        let data = toDelete.data;\r\n        animation.push({method:this.markNodeForDeletion,params:[toDelete,toDelete,],});\r\n        animation.push({method:this.unmakeNode,params:[toDelete,],customEnd:true,});\r\n        if (index < this.size - 1) {\r\n            animation.push({method:this.shiftIntoNode,params:[next,],});\r\n        }\r\n        animation.push({method:this.skipTempNodePrev,params:[prev,],});\r\n        animation.push({method:this.skipTempNodeNext,params:[next,],});\r\n        animation.push({method:this.sizeDecr,params:[],});\r\n        this.addAnimation(animation);\r\n        this.animationHistory.push(animation)\r\n        return data;\r\n    }\r\n\r\n    removeFromFront() {\r\n        return this.removeFromIndex(0);\r\n    }\r\n\r\n    removeFromBack() {\r\n        return this.removeFromIndex(this.size-1);\r\n    }\r\n\r\n\r\n\r\n    makeNode(index, data) {\r\n        this.tempNode = new DoublyLinkedListNode({data: data, index: index, x:20,y:20,},);\r\n    }\r\n\r\n    setTempNodeBefore(next) {\r\n        this.tempNode.next = next;\r\n        if (next) {\r\n            next.prev = this.tempNode;\r\n        }\r\n    }\r\n\r\n    setTempNodePrev(prev) {\r\n        if (prev) {\r\n            prev.next = this.tempNode;\r\n        }\r\n        this.tempNode.prev = prev;\r\n    }\r\n\r\n    insertTempNode(index) {\r\n        this.nodes.splice(index, 0, this.tempNode);\r\n        if (index === 0) {\r\n            this.head = this.tempNode;\r\n        }\r\n        if (index === this.size) {\r\n            this.tail = this.tempNode;\r\n        }\r\n        this.tempNode.shift(...this.getNodePosition(index));\r\n        this.tempNode = null;\r\n    }\r\n\r\n    moveHighlight(fromNode, toNode) {\r\n        if (fromNode) {\r\n            fromNode.unHighlight();\r\n        }\r\n        if (toNode) {\r\n            toNode.highlight();\r\n        }\r\n    }\r\n\r\n    markNodeForDeletion(highlighted, nodeToDelete) {\r\n        if (highlighted) {\r\n            highlighted.unHighlight();\r\n        }\r\n        nodeToDelete.markForDeletion();\r\n    }\r\n\r\n    unmakeNode(node) {\r\n        this.tempNode = this.nodes.splice(node.index, 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        this.tempNode.addOnStop(() => {\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n\r\n    skipTempNodePrev(prev) {\r\n        if (prev) {\r\n            prev.next = this.tempNode.next;\r\n        } else {\r\n            this.head = this.head.next;\r\n        }\r\n    }\r\n\r\n    skipTempNodeNext(next) {\r\n        if (next) {\r\n            next.prev = this.tempNode.prev;\r\n        } else {\r\n            this.tail = this.tail.prev;\r\n        }\r\n        this.tempNode = null;\r\n    }\r\n\r\n    shiftForNode(node) {\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            node = node.next;\r\n        }\r\n    }\r\n\r\n    shiftIntoNode(node) {\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            node = node.next;\r\n        }\r\n    }\r\n\r\n    shiftNode(node, direction) {\r\n        node.shift(...this.getNodePosition(node.index + direction), direction);\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n\r\n    getNodePosition(index) {\r\n        let maxPerRow = Math.max(1, Math.floor(this.width / DoublyLinkedList.ELEMENT_PADDED_WIDTH));\r\n        let x = DoublyLinkedList.ELEMENT_PADDED_WIDTH * index;\r\n        let y = 50 + Math.floor(index / maxPerRow) * 2 * DoublyLinkedList.ELEMENT_HEIGHT;\r\n        x = (index % maxPerRow) * DoublyLinkedList.ELEMENT_PADDED_WIDTH;\r\n        return [x + this.x,y + this.y];\r\n    }\r\n\r\n    getNodeAtPos(x,y) {\r\n        let node = this.head;\r\n        while (node) {\r\n            if (node.containsPos(x,y)) {\r\n                return node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode && this.tempNode.containsPos(x,y)) {\r\n            return this.tempNode;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    pin(node, x,y) {\r\n        this.pinnedNode = node;\r\n        node.pin(x,y);\r\n    }\r\n\r\n    unpin() {\r\n        if (this.pinnedNode.unpin()) {\r\n            this.removeFromIndex(this.pinnedNode.index);\r\n            this.pinnedNode.markBroken();\r\n        }\r\n        this.pinnedNode = null;\r\n    }\r\n\r\n    updateNode(node, animationSpeed, p5) {\r\n        if (node.update(animationSpeed, p5)) {\r\n            node.highlightForDeletion();\r\n        } else if (node.pinnedToMouse && !node.toDelete) {\r\n            node.unHighlight();\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            let node = this.head;\r\n            while (node) {\r\n                this.updateNode(node, animationSpeed, p5);\r\n                node = node.next;\r\n            }\r\n            if (this.tempNode) {\r\n                this.updateNode(this.tempNode, animationSpeed, p5);\r\n            }\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_WIDTH/3 - 2);\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.draw(p5);\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode) {\r\n            this.tempNode.draw(p5);\r\n        }\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    mousePressed(p5) {\r\n        let pressedNode = this.getNodeAtPos(p5.mouseX, p5.mouseY);\r\n        if (pressedNode) {\r\n            this.pin(pressedNode, p5.mouseX,p5.mouseY);\r\n        }\r\n        return !pressedNode;\r\n    }\r\n\r\n    mouseReleased(p5) {\r\n        if (this.pinnedNode) {\r\n            this.unpin();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, this.getNodePosition(this.size-1)[1] + DoublyLinkedList.ELEMENT_HEIGHT);\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.shift(...this.getNodePosition(node.index));\r\n            node = node.next;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nclass DoublyLinkedListNode extends AttractedDraggableObject {\r\n    static CAN_DRAG = true;\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        this.data = data;\r\n        this.index = index;\r\n        this.next = null;\r\n        this.prev = null;\r\n\r\n        this.toDelete = false;\r\n        this.handBroken = false;\r\n        this.frozen = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    containsPos(x,y) {\r\n        return ((this.currentX <= x && x <= (this.currentX + DoublyLinkedList.ITEM_WIDTH)) && (this.currentY <= y && y <= (this.currentY + DoublyLinkedList.ELEMENT_HEIGHT)))\r\n    }\r\n\r\n    highlight() {\r\n        this.color = [255,165,0];\r\n    }\r\n\r\n    unHighlight() {\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        this.color[0] = 255;\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    markBroken() {\r\n        this.markForDeletion();\r\n        this.frozen = true;\r\n        this.handBroken = true;\r\n    }\r\n\r\n    unpin() {\r\n        super.unpin();\r\n        return this.displacement() > DoublyLinkedList.MAX_DIST_REMOVE;\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        let dist = super.update(animationSpeed, p5);\r\n        return this.pinnedToMouse && !this.handBroken && dist > DoublyLinkedList.MAX_DIST_REMOVE;\r\n    }\r\n\r\n    draw(p5) {\r\n        // console.log(this);\r\n        p5.push();\r\n        p5.fill(255);\r\n        p5.stroke(...this.color);\r\n        p5.rect(this.currentX, this.currentY, DoublyLinkedList.ITEM_WIDTH, DoublyLinkedList.ELEMENT_HEIGHT);\r\n        p5.line(this.currentX + DoublyLinkedList.POINTER_WIDTH, this.currentY, this.currentX + DoublyLinkedList.POINTER_WIDTH, this.currentY + DoublyLinkedList.ELEMENT_HEIGHT);\r\n        p5.line(this.currentX + DoublyLinkedList.POINTER_WIDTH + DoublyLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + DoublyLinkedList.POINTER_WIDTH + DoublyLinkedList.ELEMENT_WIDTH, this.currentY + DoublyLinkedList.ELEMENT_HEIGHT);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.text(this.data.toString(), this.currentX + DoublyLinkedList.POINTER_WIDTH,this.currentY, DoublyLinkedList.ELEMENT_WIDTH,DoublyLinkedList.ELEMENT_HEIGHT);\r\n        if (this.prev) {\r\n            p5.stroke(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.fill(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.circle(this.currentX + DoublyLinkedList.POINTER_WIDTH / 2, this.currentY + DoublyLinkedList.ELEMENT_HEIGHT *2/3, 5);\r\n            p5.line(this.currentX + DoublyLinkedList.POINTER_WIDTH / 2, this.currentY + DoublyLinkedList.ELEMENT_HEIGHT *2/3, this.prev.currentX + DoublyLinkedList.ITEM_WIDTH, this.prev.currentY + DoublyLinkedList.ELEMENT_HEIGHT *2/3)\r\n            p5.rect(this.prev.currentX + DoublyLinkedList.ITEM_WIDTH - 3, this.prev.currentY + DoublyLinkedList.ELEMENT_HEIGHT *2/3 - 3, 6,6);\r\n        } else {\r\n            p5.line(this.currentX, this.currentY, this.currentX + DoublyLinkedList.POINTER_WIDTH, this.currentY + DoublyLinkedList.ELEMENT_HEIGHT);\r\n        }\r\n        if (this.next) {\r\n            p5.stroke(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.fill(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.circle(this.currentX + DoublyLinkedList.ITEM_WIDTH - DoublyLinkedList.POINTER_WIDTH / 2, this.currentY + DoublyLinkedList.ELEMENT_HEIGHT / 3, 5);\r\n            p5.line(this.currentX + DoublyLinkedList.ITEM_WIDTH - DoublyLinkedList.POINTER_WIDTH / 2, this.currentY + DoublyLinkedList.ELEMENT_HEIGHT / 3, this.next.currentX, this.next.currentY + DoublyLinkedList.ELEMENT_HEIGHT / 3)\r\n            p5.rect(this.next.currentX - 3, this.next.currentY + DoublyLinkedList.ELEMENT_HEIGHT / 3 - 3, 6,6);\r\n        } else {\r\n            p5.stroke(...this.color);\r\n            p5.line(this.currentX + DoublyLinkedList.POINTER_WIDTH + DoublyLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + DoublyLinkedList.ITEM_WIDTH, this.currentY + DoublyLinkedList.ELEMENT_HEIGHT);\r\n        }\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization, AttractedDraggableObject } from 'animation';\r\nimport { Utils } from 'utils';\r\n\r\nexport default class CircularSinglyLinkedList extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n\r\n    static ELEMENT_HEIGHT = 35;\r\n    static ELEMENT_WIDTH = 50;\r\n    static POINTER_WIDTH = 15;\r\n    static ITEM_WIDTH = CircularSinglyLinkedList.ELEMENT_WIDTH + CircularSinglyLinkedList.POINTER_WIDTH;\r\n    static SPACING = 50;\r\n    static ELEMENT_SIZE = CircularSinglyLinkedList.ITEM_WIDTH + CircularSinglyLinkedList.SPACING;\r\n\r\n    static MAX_DIST_REMOVE = 300;\r\n\r\n    constructor(animator) {\r\n        super(animator);\r\n\r\n        this.reset();\r\n    }\r\n\r\n\r\n    reset() {\r\n        super.reset();\r\n        this.head = null;\r\n        this.size = 0;\r\n        this.nodes = [];\r\n        this.tempNode = null;\r\n        this.pinnedNode = null;\r\n    }\r\n\r\n\r\n    addAtIndex(index, data) {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        if (index < 0 || index > this.size) {\r\n            console.log(\"index out of bounds\");\r\n            return false;\r\n        }\r\n        if (data === null) {\r\n            console.log(\"Cannot add null to CircularSinglyLinkedList.\");\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        if (this.size > 0 && (index === 0 || index === this.size)) {\r\n            animation.push({method:this.makeNode,params:[index === 0 ? 1 : index,this.head.data,],});\r\n            animation.push({method:this.setTempNodeBefore,params:[this.head.next,],});\r\n            animation.push({method:this.setTempNodePrev,params:[this.head,],});\r\n            animation.push({method:this.changeHeadData,params:[data],});\r\n            if (this.size >= 2) {\r\n                animation.push({method:this.shiftForNode,params:[this.head.next,],});\r\n            }\r\n            animation.push({method:this.insertTempNode,params:[1,],});\r\n            animation.push({method:this.sizeIncr,params:[],});\r\n            if (index === this.size) {\r\n                animation.push({method:this.customNodeShift,params:[this.head, this.head.currentX - 10, this.getNodePosition(this.size)[1] + CircularSinglyLinkedList.ELEMENT_HEIGHT * 2,],customEnd:true});\r\n                // animation.push({method:this.head.shift,scope:this.head,params:[this.head.currentX - 10, this.getNodePosition(this.size)[1] + CircularSinglyLinkedList.ELEMENT_HEIGHT * 2,],});\r\n                animation.push({method:this.resetHead,params:[],});\r\n            }\r\n        } else {\r\n            let node = null;\r\n            let nextNode = this.head;\r\n            for (let i = 0; i < index; i++) {\r\n                animation.push({method:this.moveHighlight,params:[node,nextNode,],});\r\n                node = nextNode;\r\n                nextNode = nextNode.next;\r\n            }\r\n            animation.push({method:this.makeNode,params:[index,data,],});\r\n            animation.push({method:this.moveHighlight,params:[node,null,],});\r\n            animation.push({method:this.setTempNodeBefore,params:[nextNode,],});\r\n            animation.push({method:this.setTempNodePrev,params:[node,],});\r\n            if (index < this.size) {\r\n                animation.push({method:this.shiftForNode,params:[nextNode,],});\r\n            }\r\n            animation.push({method:this.insertTempNode,params:[index,],});\r\n            animation.push({method:this.sizeIncr,params:[],});\r\n        }\r\n        this.addAnimation(animation);\r\n        this.animationHistory.push(animation);\r\n        return true;\r\n    }\r\n\r\n    addToFront(data) {\r\n        return this.addAtIndex(0,data);\r\n    }\r\n\r\n    addToBack(data) {\r\n        return this.addAtIndex(this.size,data);\r\n    }\r\n\r\n\r\n    removeFromIndex(index) {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        if (index < 0 || index >= this.size) {\r\n            console.log(`Index invalid: ${index} for CircularSinglyLinkedList of length ${this.size}. Should be [0,${this.size-1}].`);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let data;\r\n        if (index === 0) {\r\n            data = this.head.data;\r\n            animation.push({method:this.moveHighlight,params:[null,this.head,],});\r\n            animation.push({method:this.changeHeadData,params:[this.head.next.data],});\r\n            if (this.size > 1) {\r\n                index = 1;\r\n            }\r\n        }\r\n        let prev;\r\n        let toDelete;\r\n        let next;\r\n        let node = this.head;\r\n        animation.push({method:this.moveHighlight,params:[null,node,],});\r\n        for (let i = 0; i < index - 1; i++) {\r\n            animation.push({method:this.moveHighlight,params:[node,node.next,],});\r\n            node = node.next;\r\n        }\r\n        prev = node;\r\n        toDelete = prev.next;\r\n        next = toDelete.next;\r\n        if (!data) {\r\n            data = toDelete.data;\r\n        }\r\n        animation.push({method:this.markNodeForDeletion,params:[prev,toDelete,],});\r\n        animation.push({method:this.unmakeNode,params:[toDelete,],customEnd:true,});\r\n        if (index < this.size - 1) {\r\n            animation.push({method:this.shiftIntoNode,params:[next,],});\r\n        }\r\n        animation.push({method:this.skipTempNode,params:[prev,],});\r\n        animation.push({method:this.sizeDecr,params:[],});\r\n        if (index === 0) {\r\n            animation.push({method:this.reset,params:[],});\r\n        }\r\n        this.addAnimation(animation);\r\n        this.animationHistory.push(animation)\r\n        return data;\r\n    }\r\n\r\n    removeFromFront() {\r\n        return this.removeFromIndex(0);\r\n    }\r\n\r\n    removeFromBack() {\r\n        return this.removeFromIndex(this.size-1);\r\n    }\r\n\r\n\r\n    makeNode(index, data) {\r\n        this.tempNode = new CircularSinglyLinkedListNode({data: data, index: index, x:20,y:20,},);\r\n    }\r\n\r\n    setTempNodeBefore(next) {\r\n        if (next) {\r\n            this.tempNode.next = next;\r\n        } else {\r\n            if (this.head) {\r\n                this.tempNode.next = this.head;\r\n            } else {\r\n                this.tempNode.next = this.tempNode;\r\n            }\r\n        }\r\n    }\r\n\r\n    setTempNodePrev(prev) {\r\n        if (prev) {\r\n            prev.next = this.tempNode;\r\n        } else {\r\n            // this.head = this.tempNode;\r\n        }\r\n    }\r\n\r\n    changeHeadData(data) {\r\n        this.head.data = data;\r\n    }\r\n\r\n    resetHead() {\r\n        this.head = this.head.next;\r\n        let node = this.head;\r\n        let i = 0;\r\n        while (node) {\r\n            node.index = i;\r\n            node.shift(...this.getNodePosition(i++));\r\n            node = node.next;\r\n            if (node === this.head) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    insertTempNode(index) {\r\n        this.nodes.splice(index, 0, this.tempNode);\r\n        if (index === 0) {\r\n            this.head = this.tempNode;\r\n        }\r\n        this.tempNode.shift(...this.getNodePosition(index));\r\n        this.tempNode = null;\r\n    }\r\n\r\n    moveHighlight(fromNode, toNode) {\r\n        if (fromNode) {\r\n            fromNode.unHighlight();\r\n        }\r\n        if (toNode) {\r\n            toNode.highlight();\r\n        }\r\n    }\r\n\r\n    markNodeForDeletion(highlighted, nodeToDelete) {\r\n        if (highlighted) {\r\n            highlighted.unHighlight();\r\n        }\r\n        nodeToDelete.markForDeletion();\r\n    }\r\n\r\n    unmakeNode(node) {\r\n        this.tempNode = node;//this.nodes.splice(node.index, 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        this.tempNode.addOnStop(() => {\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n\r\n    skipTempNode(prev) {\r\n        if (prev) {\r\n            prev.next = this.tempNode.next;\r\n        } else {\r\n            this.head = this.head.next;\r\n        }\r\n        this.tempNode = null;\r\n    }\r\n\r\n    shiftForNode(node) {\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            node = node.next;\r\n            if (node === this.head) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    shiftIntoNode(node) {\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            node = node.next;\r\n            if (node === this.head) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    shiftNode(node, direction = 0) {\r\n        node.shift(...this.getNodePosition(node.index + direction), direction);\r\n    }\r\n\r\n    customNodeShift(node, x, y) {\r\n        node.shift(x,y);\r\n        node.addOnStop(() => {\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n\r\n    getNodePosition(index) {\r\n        let maxPerRow = Math.max(1, Math.floor(this.width / CircularSinglyLinkedList.ELEMENT_SIZE));\r\n        let x = CircularSinglyLinkedList.ELEMENT_SIZE * index;\r\n        let y = 50 + Math.floor(index / maxPerRow) * 2 * CircularSinglyLinkedList.ELEMENT_HEIGHT;\r\n        x = (index % maxPerRow) * CircularSinglyLinkedList.ELEMENT_SIZE;\r\n        return [x + this.x,y + this.y];\r\n    }\r\n\r\n    getNodeAtPos(x,y) {\r\n        let node = this.head;\r\n        while (node) {\r\n            if (node.containsPos(x,y)) {\r\n                return node;\r\n            }\r\n            node = node.next;\r\n            if (node === this.head) {\r\n                break;\r\n            }\r\n        }\r\n        if (this.tempNode && this.tempNode.containsPos(x,y)) {\r\n            return this.tempNode;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    pin(node, x,y) {\r\n        this.pinnedNode = node;\r\n        node.pin(x,y);\r\n    }\r\n\r\n    unpin() {\r\n        if (this.pinnedNode.unpin() && this.animationQueue.length === 0) {\r\n            this.pinnedNode.markBroken();\r\n            this.removeFromIndex(this.pinnedNode.index);\r\n            if (this.pinnedNode.index === 0 && this.size > 1) {\r\n                this.animationQueue.push({method:this.pinnedNode.unfreeze,scope:this.pinnedNode,params:[],});\r\n                this.animationQueue.push({method:this.shiftNode,params:[this.pinnedNode,],});\r\n            }\r\n        }\r\n        this.pinnedNode = null;\r\n    }\r\n\r\n    updateNode(node, animationSpeed, p5) {\r\n        let update = node.update(animationSpeed, p5);\r\n        if (this.animationQueue.length === 0) {\r\n            if (update) {\r\n                node.highlightForDeletion();\r\n            } else if (node.pinnedToMouse && !node.toDelete) {\r\n                node.unHighlight();\r\n            }\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            let node = this.head;\r\n            while (node) {\r\n                this.updateNode(node, animationSpeed, p5);\r\n                node = node.next;\r\n                if (node === this.head) {\r\n                    break;\r\n                }\r\n            }\r\n            if (this.tempNode) {\r\n                this.updateNode(this.tempNode, animationSpeed, p5);\r\n            }\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_WIDTH/3 - 2);\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.draw(p5, node.next === this.head);\r\n            node = node.next;\r\n            if (node === this.head) {\r\n                break;\r\n            }\r\n        }\r\n        if (this.tempNode) {\r\n            this.tempNode.draw(p5);\r\n        }\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    mousePressed(p5) {\r\n        let pressedNode = this.getNodeAtPos(p5.mouseX, p5.mouseY);\r\n        if (pressedNode) {\r\n            this.pin(pressedNode, p5.mouseX,p5.mouseY);\r\n        }\r\n        return !pressedNode;\r\n    }\r\n\r\n    touchMoved(p5) {\r\n        return this.pinnedNode === null;\r\n    }\r\n\r\n    mouseReleased(p5) {\r\n        if (this.pinnedNode) {\r\n            this.unpin();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, this.getNodePosition(this.size-1)[1] + CircularSinglyLinkedList.ELEMENT_HEIGHT);\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.shift(...this.getNodePosition(node.index));\r\n            node = node.next;\r\n            if (node === this.head) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\nclass CircularSinglyLinkedListNode extends AttractedDraggableObject {\r\n    static CAN_DRAG = true;\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        this.data = data;\r\n        this.index = index;\r\n        this.next = null;\r\n\r\n        this.toDelete = false;\r\n        this.handBroken = false;\r\n        this.frozen = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    containsPos(x,y) {\r\n        return ((this.currentX <= x && x <= (this.currentX + CircularSinglyLinkedList.ITEM_WIDTH)) && (this.currentY <= y && y <= (this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT)))\r\n    }\r\n\r\n    highlight() {\r\n        this.color = [255,165,0];\r\n    }\r\n\r\n    unHighlight() {\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        this.color[0] = 255;\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    markBroken() {\r\n        this.markForDeletion();\r\n        this.frozen = true;\r\n        this.handBroken = true;\r\n    }\r\n\r\n    unfreeze() {\r\n        this.frozen = false;\r\n        this.handBroken = false;\r\n    }\r\n\r\n    unpin() {\r\n        super.unpin();\r\n        return this.displacement() > CircularSinglyLinkedList.MAX_DIST_REMOVE;\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        let dist = super.update(animationSpeed, p5);\r\n        return this.pinnedToMouse && !this.handBroken && dist > CircularSinglyLinkedList.MAX_DIST_REMOVE;\r\n    }\r\n\r\n    draw(p5, pointsToHead = false) {\r\n        // console.log(this);\r\n        p5.push();\r\n        p5.fill(255);\r\n        p5.stroke(...this.color);\r\n        p5.rect(this.currentX, this.currentY, CircularSinglyLinkedList.ITEM_WIDTH, CircularSinglyLinkedList.ELEMENT_HEIGHT);\r\n        p5.line(this.currentX + CircularSinglyLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + CircularSinglyLinkedList.ELEMENT_WIDTH, this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.text(this.data.toString(), this.currentX,this.currentY, CircularSinglyLinkedList.ELEMENT_WIDTH,CircularSinglyLinkedList.ELEMENT_HEIGHT);\r\n        if (this.next) {\r\n            p5.stroke(...Utils.addArray(this.color, [0,0,255]));\r\n            p5.fill(...Utils.addArray(this.color, [0,0,255]));\r\n            p5.circle(this.currentX + CircularSinglyLinkedList.ELEMENT_WIDTH + CircularSinglyLinkedList.POINTER_WIDTH / 2, this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT / 2, 5);\r\n            if (pointsToHead) {\r\n                p5.push();\r\n                p5.noFill();\r\n                p5.curveTightness(0.8);\r\n                p5.beginShape();\r\n                p5.curveVertex(this.currentX + CircularSinglyLinkedList.ELEMENT_WIDTH + CircularSinglyLinkedList.POINTER_WIDTH / 2, this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT / 2);\r\n                p5.curveVertex(this.currentX + CircularSinglyLinkedList.ELEMENT_WIDTH + CircularSinglyLinkedList.POINTER_WIDTH / 2, this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT / 2);\r\n\r\n                p5.curveVertex(this.currentX + CircularSinglyLinkedList.ELEMENT_WIDTH + CircularSinglyLinkedList.POINTER_WIDTH / 2, this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT * 2);\r\n                p5.curveVertex(15, this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT * 2);\r\n\r\n                p5.curveVertex(this.next.currentX, this.next.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT / 2);\r\n                p5.curveVertex(this.next.currentX, this.next.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT / 2);\r\n                p5.endShape();\r\n                p5.pop();\r\n            } else {\r\n                p5.line(this.currentX + CircularSinglyLinkedList.ELEMENT_WIDTH + CircularSinglyLinkedList.POINTER_WIDTH / 2, this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT / 2, this.next.currentX, this.next.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT / 2);\r\n            }\r\n            p5.rect(this.next.currentX - 3, this.next.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT / 2 - 3, 6,6);\r\n        } else {\r\n            p5.line(this.currentX + CircularSinglyLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + CircularSinglyLinkedList.ITEM_WIDTH, this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT);\r\n        }\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nimport { AttractedHighlightableObject } from 'animation';\r\nimport { Colors } from 'utils';\r\n\r\nexport default class StackArray extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static SUPPORTS_NO_LOOP = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n    static SUPPORTS_TEXT = true;\r\n\r\n    static INITIAL_CAPACITY = 9;\r\n\r\n    static ELEMENT_SIZE = 50;\r\n    static TOP_LOCATION_X = 125;\r\n    static TOP_LOCATION_Y = 45;\r\n\r\n    constructor(animator) {\r\n        super(animator);\r\n\r\n        this.reset();\r\n        this.made = true;\r\n    }\r\n\r\n    reset() {\r\n        if (this.made) {\r\n            this.beginDrawLoop();\r\n        }\r\n        super.reset();\r\n        this.backingArray = new Array(StackArray.INITIAL_CAPACITY);\r\n        this.size = 0;\r\n        this.copyArray = null;\r\n        this.tempElement = null;\r\n        this.topPointerValue = 0;\r\n        this.topPointerHighlighter = new AttractedHighlightableObject(StackArray.TOP_LOCATION_X, StackArray.TOP_LOCATION_Y, {\r\n            highlightOuterRadius: 15//StackArray.ELEMENT_SIZE/2,\r\n        });\r\n\r\n        this.resizing = false;\r\n        if (this.made) {\r\n            this.updateText(\"Animation Ready\");\r\n            this.endDrawLoop();\r\n        }\r\n    }\r\n\r\n    push(data) {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot add null to Stack.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        if (this.size === this.backingArray.length) {\r\n            animation.push({method:this.showText,params:[`Stack full, resizing to length ${this.backingArray.length*2}`,],});\r\n            animation.push(...this.createCopyArray());\r\n        }\r\n        animation.push({method:this.makeElement,params:[this.size,data],explanation:`Create value: ${data}`,});\r\n        animation.push(...this.useTopPointer());\r\n        animation.push({method:this.highlightTemp,params:[],noAnim:true});\r\n        animation.push({method:this.insertElement,params:[this.size],customEnd:true,explanation:`Added ${data} to backingArray`});\r\n        animation.push({method:this.sizeIncr,params:[],noAnim:true});\r\n        animation.push(...this.updateTopPointer());\r\n        animation.push({method:this.showText,params:[`Successfully pushed ${data} to stack.`,Colors.GREEN,],});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        return true;\r\n    }\r\n\r\n    pop() {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (this.size === 0) {\r\n            this.updateText(\"Cannot pop empty Stack\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let data = this.backingArray[this.size - 1].value;\r\n        animation.push({method:this.sizeDecr,params:[],noAnim:true});\r\n        animation.push(...this.updateTopPointer());\r\n        animation.push(...this.useTopPointer());\r\n        animation.push({method:this.extractElement,params:[],explanation:`Pop value: ${data} from stack`,customEnd:true});\r\n        animation.push({method:this.unmakeElement,params:[],noAnim:true});\r\n        // animation.push({method:this.highlightTemp,params:[],noAnim:true});\r\n        // animation.push({method:this.insertElement,params:[this.size],customEnd:true,explanation:`Added ${data} to backingArray`});\r\n        // animation.push({method:this.makeElement,params:[this.size,data],explanation:`Create value: ${data}`});\r\n\r\n        // if (index === 0) {\r\n        //     data = this.head.data;\r\n        //     animation.push({method:this.moveHighlight,params:[null,this.head,],});\r\n        //     animation.push({method:this.changeHeadData,params:[this.head.next.data],});\r\n        //     index = 1;\r\n        // }\r\n        // let prev;\r\n        // let toDelete;\r\n        // let next;\r\n        // let node = this.head;\r\n        // animation.push({method:this.moveHighlight,params:[null,node,],});\r\n        // for (let i = 0; i < index - 1; i++) {\r\n        //     animation.push({method:this.moveHighlight,params:[node,node.next,],});\r\n        //     node = node.next;\r\n        // }\r\n        // prev = node;\r\n        // toDelete = prev.next;\r\n        // next = toDelete.next;\r\n        // if (!data) {\r\n        //     data = toDelete.data;\r\n        // }\r\n        // animation.push({method:this.markNodeForDeletion,params:[prev,toDelete,],});\r\n        // animation.push({method:this.unmakeNode,params:[toDelete,],customEnd:true,});\r\n        // if (index < this.size - 1) {\r\n        //     animation.push({method:this.shiftIntoNode,params:[next,],});\r\n        // }\r\n        // animation.push({method:this.skipTempNode,params:[prev,],});\r\n        // animation.push({method:this.sizeDecr,params:[],});\r\n        this.addAnimation(animation);\r\n        this.updateText(`Successfully popped ${data} from stack.`, Colors.GREEN);\r\n        this.endDrawLoop();\r\n        // this.animationHistory.push(animation)\r\n        return data;\r\n    }\r\n\r\n    createCopyArray() {\r\n        let animation = [];\r\n        animation.push({method:this.initCopyArray,params:[],noAnim:true});\r\n        for (let i = 0; i < this.size; i++) {\r\n            animation.push(...this.addItemToCopy(i));\r\n        }\r\n        animation.push(...this.useCopyArr());\r\n        return animation;\r\n    }\r\n\r\n    initCopyArray() {\r\n        this.copyArray = new Array(this.backingArray.length * 2);\r\n        for (let i = 0; i < this.size; i++) {\r\n            let pos = this.getElementPosition(i);\r\n            this.copyArray[i] = new StackArrayElement({data: this.backingArray[i].value, index: i, x:pos[0],y:pos[1],},);\r\n        }\r\n    }\r\n\r\n    addItemToCopy(index) {\r\n        let animation = [];\r\n        animation.push({method:this.customEndingElementShift,params:[index,...this.getElementPosition(index,true),true],customEnd:true});\r\n        return animation;\r\n    }\r\n\r\n    useCopyArr() {\r\n        let animation = [];\r\n        animation.push({method:this.assignCopyArray,params:[],noAnim:true});\r\n        for (let i = 0; i < this.size; i++) {\r\n            animation.push({method:this.shiftElementToBackingArray,params:[i,],noAnim:true});\r\n        }\r\n        return animation;\r\n    }\r\n\r\n    assignCopyArray() {\r\n        this.backingArray = this.copyArray;\r\n        this.copyArray = null;\r\n    }\r\n\r\n    shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(element.index));\r\n    }\r\n\r\n    makeElement(index, data, immediateHighlight = false) {\r\n        this.tempElement = new StackArrayElement({data: data, index: index, x:45,y:45,},);\r\n        if (immediateHighlight) {\r\n            this.tempElement.highlightForMovement();\r\n        }\r\n    }\r\n\r\n    useTopPointer() {\r\n        let animation = [];\r\n        animation.push({method:this.topPointerHighlighter.highlight,scope:this.topPointerHighlighter,params:[],noAnim:true});\r\n        animation.push({method:this.moveTopTracker,params:[],customEnd:true,explanation:`Top points to index |RETURN|`,explanationUsesReturn:true});\r\n        animation.push({method:this.topPointerHighlighter.unhighlight,scope:this.topPointerHighlighter,params:[],noAnim:true});\r\n        animation.push({method:this.topPointerHighlighter.goTo,scope:this.topPointerHighlighter,params:[StackArray.TOP_LOCATION_X,StackArray.TOP_LOCATION_Y,],noAnim:true});\r\n        return animation;\r\n    }\r\n\r\n    moveTopTracker() {\r\n        let pos = this.getElementPosition(this.topPointerValue);\r\n        this.topPointerHighlighter.shift(pos[0], pos[1] + StackArray.ELEMENT_SIZE);\r\n        this.topPointerHighlighter.addOnStop(() => {\r\n            this.doneAnimating(0);\r\n        });\r\n        return this.topPointerValue;\r\n    }\r\n\r\n    highlightTemp(color = Colors.BLUE) {\r\n        this.tempElement.highlight(color);\r\n    }\r\n\r\n    insertElement(index) {\r\n        this.backingArray[index] = this.tempElement;\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        this.tempElement = null;\r\n    }\r\n\r\n    extractElement() {\r\n        this.tempElement = this.backingArray[this.topPointerValue];\r\n        this.backingArray[this.topPointerValue] = null;\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(45,45);\r\n        this.tempElement.addOnStop(() => {\r\n            this.tempElement.unhighlight();\r\n            this.doneAnimating();\r\n        });\r\n    }\r\n\r\n    unmakeElement(index) {\r\n        this.tempElement = null;\r\n    }\r\n\r\n    shiftElement(element, direction = 0) {\r\n        element.shift(...this.getElementPosition(element.index + direction), direction);\r\n    }\r\n\r\n    customEndingElementShift(index, x, y, copy = false) {\r\n        let element = (copy ? this.copyArray : this.backingArray)[index];\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        element.addOnStop(() => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n\r\n    updateTopPointer() {\r\n        let animation = [];\r\n        animation.push({method:this.topPointerHighlighter.highlight,scope:this.topPointerHighlighter,params:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE]});\r\n        animation.push({method:this.changeTopPointerValue,params:[],explanation:`Update top pointer to |RETURN|`,explanationUsesReturn:true});\r\n        animation.push({method:this.topPointerHighlighter.unhighlight,scope:this.topPointerHighlighter,params:[],noAnim:true});\r\n        return animation;\r\n    }\r\n\r\n    changeTopPointerValue() {\r\n        this.topPointerValue = this.size;\r\n        return this.size;\r\n    }\r\n\r\n    getElementPosition(index, copy = false) {\r\n        let maxPerRow = Math.floor(this.width / StackArray.ELEMENT_SIZE);\r\n        let x = StackArray.ELEMENT_SIZE * index;\r\n        let y = 50 + Math.floor(index / maxPerRow) * 2 * StackArray.ELEMENT_SIZE;\r\n        x = (index % maxPerRow) * StackArray.ELEMENT_SIZE;\r\n        return [x + StackArray.ELEMENT_SIZE/2 + this.x,y + StackArray.ELEMENT_SIZE/2 + this.y + (copy ? (Math.ceil(this.backingArray.length / maxPerRow)*StackArray.ELEMENT_SIZE*2) : 0)];\r\n    }\r\n\r\n    allInPosition() {\r\n        let moving = false;\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i] && this.backingArray[i].displacement() > 0) {\r\n                moving = true;\r\n            }\r\n        }\r\n        if (this.copyArray) {\r\n            for (let i = 0; i < this.copyArray.length; i++) {\r\n                if (this.copyArray[i] && this.copyArray[i].displacement() > 0) {\r\n                    moving = true;\r\n                }\r\n            }\r\n        }\r\n        return !moving;\r\n    }\r\n\r\n    updateElement(element, animationSpeed, p5) {\r\n        if (element) {\r\n            element.update(animationSpeed, p5);\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            for (let i = 0; i < this.backingArray.length; i++) {\r\n                this.updateElement(this.backingArray[i], animationSpeed, p5);\r\n            }\r\n            if (this.copyArray) {\r\n                for (let i = 0; i < this.copyArray.length; i++) {\r\n                    this.updateElement(this.copyArray[i], animationSpeed, p5);\r\n                }\r\n            }\r\n            if (this.tempElement) {\r\n                this.updateElement(this.tempElement, animationSpeed, p5);\r\n            }\r\n            this.topPointerHighlighter.update(animationSpeed, p5);\r\n            if (this.resizing && this.allInPosition()) {\r\n                if (!this.animating && this.animationQueue.length === 0) {\r\n                    this.animator.noLoop();\r\n                }\r\n                this.resizing = false;\r\n            }\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        super.draw(p5);\r\n        // console.log(\"draw\");\r\n        p5.push();\r\n        // let maxPerRow = Math.max(1, Math.floor((p5.width - 2 * this.x) / StackArray.ELEMENT_SIZE));\r\n        // let rows = Math.ceil(this.backingArray.length / maxPerRow);\r\n\r\n        // p5.translate(this.x,this.y+50);\r\n        //\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_SIZE/3 - 2);\r\n        //\r\n        // for (let row = 0; row < rows; row++) {\r\n        //     let numElements = row !== rows-1 ? maxPerRow\r\n        //             : (this.backingArray.length % maxPerRow === 0 ? maxPerRow : (this.backingArray.length % maxPerRow));\r\n        //     p5.noStroke();\r\n        //     p5.fill(200);\r\n        //     p5.rect(StackArray.ELEMENT_SIZE/10,StackArray.ELEMENT_SIZE/10 + (2 * StackArray.ELEMENT_SIZE * row),StackArray.ELEMENT_SIZE*numElements,StackArray.ELEMENT_SIZE,StackArray.ELEMENT_SIZE/20);\r\n        //\r\n        //     p5.stroke(0);\r\n        //     p5.fill(255);\r\n        //     p5.rect(0,(2 * StackArray.ELEMENT_SIZE * row), StackArray.ELEMENT_SIZE*numElements,StackArray.ELEMENT_SIZE);\r\n        // }\r\n        //\r\n        // let i = 0;\r\n        // for (let row = 0; row < rows; row++) {\r\n        //     let numElements = row !== rows-1 ? maxPerRow\r\n        //             : (this.backingArray.length % maxPerRow === 0 ? maxPerRow : (this.backingArray.length % maxPerRow));\r\n        //     let x = 0;\r\n        //     let y = 2 * row * StackArray.ELEMENT_SIZE;\r\n        //     for (let block = 0; block < numElements; block++) {\r\n        //         p5.stroke(0);\r\n        //         p5.line(x,y, x, y+StackArray.ELEMENT_SIZE);\r\n        //\r\n        //         p5.noStroke();\r\n        //         p5.fill(0,0,255);\r\n        //         p5.text(i.toString(), x,y+StackArray.ELEMENT_SIZE, StackArray.ELEMENT_SIZE,StackArray.ELEMENT_SIZE);\r\n        //         //\r\n        //         // let element = this.backingArray[i++];\r\n        //         i++;\r\n        //         let nextX = block < (numElements - 1) ? x + StackArray.ELEMENT_SIZE : 0;\r\n        //         let nextY = block < (numElements - 1) ? y : (y + (StackArray.ELEMENT_SIZE*2));\r\n        //         // if (element.data) {\r\n        //         //     element.draw(p5, x,y,nextX,nextY);\r\n        //         // }\r\n        //         x = nextX;\r\n        //         y = nextY;\r\n        //         // if (y >= document.querySelector(\".canvas-container\").getBoundingClientRect().height - StackArray.ELEMENT_SIZE) {\r\n        //         //     // this.windowResized(p5, document.querySelector(\".canvas-container\").getBoundingClientRect().height);\r\n        //         // }\r\n        //     }\r\n        // }\r\n        //\r\n        // p5.translate(-this.x, -this.y - 50);\r\n\r\n        p5.fill(0);\r\n        p5.text(\"Top: \", StackArray.TOP_LOCATION_X - 50, StackArray.TOP_LOCATION_Y, StackArray.ELEMENT_SIZE);\r\n\r\n        p5.text(this.topPointerValue.toString(), StackArray.TOP_LOCATION_X-25, StackArray.TOP_LOCATION_Y, StackArray.ELEMENT_SIZE);\r\n\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i]) {\r\n                this.backingArray[i].draw(p5);\r\n            }\r\n            let pos = this.getElementPosition(i);\r\n            p5.noFill();\r\n            p5.stroke(0);\r\n            p5.square(pos[0] - StackArray.ELEMENT_SIZE/2,pos[1] - StackArray.ELEMENT_SIZE/2, StackArray.ELEMENT_SIZE);\r\n            p5.fill(...Colors.BLUE);\r\n            p5.stroke(...Colors.BLUE);\r\n            p5.text(i.toString(), pos[0] - StackArray.ELEMENT_SIZE/2,pos[1] + StackArray.ELEMENT_SIZE/2, StackArray.ELEMENT_SIZE, StackArray.ELEMENT_SIZE);\r\n        }\r\n\r\n        if (this.copyArray) {\r\n            for (let i = 0; i < this.copyArray.length; i++) {\r\n                if (this.copyArray[i]) {\r\n                    this.copyArray[i].draw(p5);\r\n                }\r\n                let pos = this.getElementPosition(i, true);\r\n                p5.noFill();\r\n                p5.stroke(0);\r\n                p5.square(pos[0] - StackArray.ELEMENT_SIZE/2,pos[1] - StackArray.ELEMENT_SIZE/2, StackArray.ELEMENT_SIZE);\r\n                p5.fill(...Colors.BLUE);\r\n                p5.stroke(...Colors.BLUE);\r\n                p5.text(i.toString(), pos[0] - StackArray.ELEMENT_SIZE/2,pos[1] + StackArray.ELEMENT_SIZE/2, StackArray.ELEMENT_SIZE, StackArray.ELEMENT_SIZE);\r\n            }\r\n        }\r\n        if (this.tempElement) {\r\n            this.tempElement.draw(p5);\r\n        }\r\n        this.topPointerHighlighter.draw(p5);\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, (this.copyArray ? this.getElementPosition(this.copyArray.length-1, true)[1] : this.getElementPosition(this.backingArray.length-1)[1]) + StackArray.ELEMENT_SIZE);\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i]) {\r\n                this.backingArray[i].shift(...this.getElementPosition(i));\r\n            }\r\n        }\r\n        this.resizing = true;\r\n        this.animator.loop();\r\n    }\r\n}\r\n\r\n\r\nclass StackArrayElement extends AttractedHighlightableObject {\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        // this.highlightInnerRadius = StackArray.ELEMENT_SIZE/2 - 5;\r\n        this.highlightOuterRadius = StackArray.ELEMENT_SIZE/2;\r\n\r\n        this.value = data;\r\n        this.index = index;\r\n\r\n        this.toDelete = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    highlightForMovement() {\r\n        super.highlight(Colors.BLUE);\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        super.highlight(Colors.RED);\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5);\r\n    }\r\n\r\n    drawValue(p5) {\r\n        p5.push();\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.stroke(...this.color);\r\n        p5.text(this.value.toString(), this.currentX - StackArray.ELEMENT_SIZE/2,this.currentY - StackArray.ELEMENT_SIZE/2, StackArray.ELEMENT_SIZE, StackArray.ELEMENT_SIZE);\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nimport { AttractedDraggableObject } from 'animation';\r\nimport { Utils, Colors } from 'utils';\r\n\r\nexport default class StackLinkedList extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static CAN_DRAG = true;\r\n    static SUPPORTS_NO_LOOP = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n    static SUPPORTS_TEXT = true;\r\n    static SUPPORTS_ANIMATION_CONTROL = true;\r\n    static SUPPORTS_STOP_ID = true;\r\n\r\n    static ELEMENT_HEIGHT = 35;\r\n    static ELEMENT_WIDTH = 50;\r\n    static POINTER_WIDTH = 15;\r\n    static ITEM_WIDTH = StackLinkedList.ELEMENT_WIDTH + StackLinkedList.POINTER_WIDTH;\r\n    static SPACING = 50;\r\n    static ELEMENT_SIZE = StackLinkedList.ITEM_WIDTH + StackLinkedList.SPACING;\r\n\r\n    constructor(animator) {\r\n        super(animator);\r\n\r\n        this.reset();\r\n        this.made = true;\r\n    }\r\n\r\n    reset() {\r\n        super.reset();\r\n        if (this.made) {\r\n            this.beginDrawLoop();\r\n        }\r\n\r\n        this.head = null;\r\n        this.size = 0;\r\n        this.nodes = [];\r\n        this.tempNode = null;\r\n        this.pinnedNode = null;\r\n\r\n        this.resizing = false;\r\n        if (this.made) {\r\n            this.endDrawLoop();\r\n        }\r\n    }\r\n\r\n    ensureDrawn(skipDraw = false) {\r\n        this.beginDrawLoop();\r\n        let maxNode = this.head;\r\n        let curr = this.head;\r\n        while (curr) {\r\n            if (curr.displacement() > maxNode.displacement()) {\r\n                maxNode = curr;\r\n            }\r\n            curr = curr.next;\r\n        }\r\n        if (maxNode && maxNode.displacement() > 0) {\r\n            let stopID = ++this.stopID;\r\n            maxNode.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n            if (skipDraw) {\r\n                let curr = this.head;\r\n                while (curr) {\r\n                    curr.stop();\r\n                    curr = curr.next;\r\n                }\r\n            }\r\n        } else {\r\n            this.stopDrawing(++this.stopID);\r\n        }\r\n    }\r\n\r\n\r\n    push(data) {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot add null to Stack.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        animation.push({method:this.makeNode,params:[data,],explanation:`Create value: ${data}`,isAnimationStep:true,});\r\n        if (this.size > 0) {\r\n            animation.push({method:this.setTempNodeBeforeHead,explanation:`Assign next pointer`,isAnimationStep:true,});\r\n            animation.push({method:this.shiftHeadForNode,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        }\r\n        animation.push({method:this.insertTempNode,explanation:`Reset top pointer to new head`,isAnimationStep:true,});\r\n        animation.push({method:this.shiftHead,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.sizeIncr,noAnim:true,});\r\n        animation.push({method:this.showText,params:[`Successfully pushed ${data} to stack.`, Colors.GREEN],noAnim:true,});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return true;\r\n    }\r\n\r\n\r\n    pop() {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (this.size === 0) {\r\n            this.updateText(\"Cannot pop empty Stack\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let data = this.head.data;\r\n        animation.push({method:this.markHeadForDeletion,noAnim:true,});\r\n        animation.push({method:this.unmakeHead,explanation:`Extract data`,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        if (this.size > 1) {\r\n            animation.push({method:this.shiftIntoNode,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        }\r\n        animation.push({method:this.skipTempNode,explanation:`Reset top pointer to new head`,isAnimationStep:true,undoData:[this.head.data,],});\r\n        animation.push({method:this.sizeDecr,noAnim:true,});\r\n        animation.push({method:this.showText,params:[`Successfully popped ${data} from stack.`, Colors.GREEN],noAnim:true,});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return data;\r\n    }\r\n\r\n\r\n    makeNode(data) {\r\n        this.tempNode = new StackLinkedListNode({data: data, index: 0, x:20,y:20,});\r\n    }\r\n    undo_makeNode(data) {\r\n        this.tempNode = null;\r\n    }\r\n\r\n    setTempNodeBeforeHead() {\r\n        this.tempNode.next = this.head;\r\n    }\r\n    undo_setTempNodeBeforeHead() {\r\n        this.tempNode.next = null;\r\n    }\r\n\r\n    insertTempNode() {\r\n        this.nodes.splice(0, 0, this.tempNode);\r\n        this.head = this.tempNode;\r\n    }\r\n    undo_insertTempNode() {\r\n        this.head = this.tempNode.next;\r\n        this.nodes.splice(0, 1);\r\n    }\r\n\r\n    shiftHead() {\r\n        this.tempNode.shift(...this.getNodePosition(0));\r\n        this.tempNode = null;\r\n    }\r\n    undo_shiftHead() {\r\n        this.tempNode = this.nodes[0];\r\n        this.tempNode.shift(20,20);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n    redo_shiftHead() {\r\n        this.tempNode.shift(...this.getNodePosition(0));\r\n        let temp = this.tempNode;\r\n        let stopID = ++this.stopID;\r\n        temp.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n\r\n    markHeadForDeletion() {\r\n        this.head.markForDeletion();\r\n    }\r\n    undo_markHeadForDeletion() {\r\n        this.head.unhighlight();\r\n    }\r\n\r\n    unmakeHead() {\r\n        this.tempNode = this.nodes.splice(0, 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        this.tempNode.addOnStop(() => {\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n    undo_unmakeHead() {\r\n        this.tempNode.shift(...this.getNodePosition(0));\r\n        this.nodes.splice(0, 0, this.tempNode);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n    redo_unmakeHead() {\r\n        this.tempNode = this.nodes.splice(0, 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n\r\n    skipTempNode() {\r\n        this.head = this.head.next;\r\n        this.tempNode = null;\r\n    }\r\n    undo_skipTempNode(oldData) {\r\n        this.tempNode = new StackLinkedListNode({data: oldData, index: 0, x:20,y:20,});\r\n        this.tempNode.next = this.head;\r\n        this.tempNode.markForDeletion();\r\n        this.head = this.tempNode;\r\n    }\r\n\r\n    shiftHeadForNode() {\r\n        let node = this.head;\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            node = node.next;\r\n        }\r\n    }\r\n    undo_shiftHeadForNode() {\r\n        let node = this.head;\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            if (!node.next) {\r\n                let stopID = ++this.stopID;\r\n                node.addOnStop(() => {\r\n                    this.stopDrawing(stopID);\r\n                });\r\n            }\r\n            node = node.next;\r\n        }\r\n    }\r\n    redo_shiftHeadForNode() {\r\n        let node = this.head;\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            if (!node.next) {\r\n                let stopID = ++this.stopID;\r\n                node.addOnStop(() => {\r\n                    this.stopDrawing(stopID);\r\n                });\r\n            }\r\n            node = node.next;\r\n        }\r\n    }\r\n\r\n    shiftIntoNode() {\r\n        let node = this.head.next;\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            node = node.next;\r\n        }\r\n    }\r\n    undo_shiftIntoNode() {\r\n        let node = this.head.next;\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            if (!node.next) {\r\n                let stopID = ++this.stopID;\r\n                node.addOnStop(() => {\r\n                    this.stopDrawing(stopID);\r\n                });\r\n            }\r\n            node = node.next;\r\n        }\r\n    }\r\n    redo_shiftIntoNode() {\r\n        let node = this.head.next;\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            if (!node.next) {\r\n                let stopID = ++this.stopID;\r\n                node.addOnStop(() => {\r\n                    this.stopDrawing(stopID);\r\n                });\r\n            }\r\n            node = node.next;\r\n        }\r\n    }\r\n\r\n    shiftNode(node, direction) {\r\n        node.shift(...this.getNodePosition(node.index + direction), direction);\r\n    }\r\n    undo_shiftNode(node, direction) {\r\n        // console.log(\"undo_shiftNode\");\r\n        this.shiftNode(node, -direction);\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n    undo_sizeIncr() {\r\n        this.size--;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n    undo_sizeDecr() {\r\n        this.size++;\r\n    }\r\n\r\n    getNodePosition(index) {\r\n        let maxPerRow = Math.max(1, Math.floor(this.width / StackLinkedList.ELEMENT_SIZE));\r\n        let x = StackLinkedList.ELEMENT_SIZE * index;\r\n        let y = 75 + Math.floor(index / maxPerRow) * 2 * StackLinkedList.ELEMENT_HEIGHT;\r\n        x = (index % maxPerRow) * StackLinkedList.ELEMENT_SIZE;\r\n        return [x + this.x,y + this.y];\r\n    }\r\n\r\n    getNodeAtPos(x,y) {\r\n        let node = this.head;\r\n        while (node) {\r\n            if (node.containsPos(x,y)) {\r\n                return node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode && this.tempNode.containsPos(x,y)) {\r\n            return this.tempNode;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    pin(node, x,y) {\r\n        this.pinnedNode = node;\r\n        node.pin(x,y);\r\n    }\r\n\r\n    unpin() {\r\n        this.pinnedNode.unpin();\r\n        this.pinnedNode = null;\r\n    }\r\n\r\n    updateNode(node, animationSpeed, p5) {\r\n        node.update(animationSpeed, p5);\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            let node = this.head;\r\n            while (node) {\r\n                this.updateNode(node, animationSpeed, p5);\r\n                node = node.next;\r\n            }\r\n            if (this.tempNode) {\r\n                this.updateNode(this.tempNode, animationSpeed, p5);\r\n            }\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        // console.log(\"draw\");\r\n        super.draw(p5);\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_WIDTH/3 - 2);\r\n\r\n        // p5.noFill();\r\n        p5.stroke(0);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.text(\"Top:\",95,20,35,35);\r\n        p5.square(130,20,35);\r\n        if (this.head) {\r\n            p5.stroke(Colors.BLUE);\r\n            p5.fill(Colors.BLUE);\r\n            p5.circle(130 + 35 / 2, 20 + 35 / 2, 5);\r\n            p5.line(130 + 35 / 2, 20 + 35 / 2, this.head.currentX + StackLinkedList.ITEM_WIDTH / 2, this.head.currentY);\r\n            p5.rect(this.head.currentX + StackLinkedList.ITEM_WIDTH / 2 - 3, this.head.currentY - 3, 6,6);\r\n        } else {\r\n            p5.line(130,20,165,55);\r\n        }\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.draw(p5, node.next === this.head);\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode) {\r\n            this.tempNode.draw(p5);\r\n        }\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    mousePressed(p5) {\r\n        // this.drawingBeforeMouseDown = this.drawing;\r\n        let pressedNode = this.getNodeAtPos(p5.mouseX, p5.mouseY);\r\n        if (pressedNode) {\r\n            this.animator.loop();\r\n            this.pin(pressedNode, p5.mouseX,p5.mouseY);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    mouseReleased(p5) {\r\n        if (this.pinnedNode) {\r\n            this.pinnedNode.addOnStop(() => {\r\n                this.ensureDrawn();\r\n            });\r\n            this.unpin();\r\n        } else {\r\n            // this.ensureDrawn();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, this.getNodePosition(this.size-1)[1] + StackLinkedList.ELEMENT_HEIGHT,() => {\r\n            let node = this.head;\r\n            while (node) {\r\n                node.shift(...this.getNodePosition(node.index));\r\n                node = node.next;\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\nclass StackLinkedListNode extends AttractedDraggableObject {\r\n    static CAN_DRAG = true;\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        this.data = data;\r\n        this.index = index;\r\n        this.next = null;\r\n\r\n        this.toDelete = false;\r\n        this.handBroken = false;\r\n        this.frozen = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    containsPos(x,y) {\r\n        return ((this.currentX <= x && x <= (this.currentX + StackLinkedList.ITEM_WIDTH)) && (this.currentY <= y && y <= (this.currentY + StackLinkedList.ELEMENT_HEIGHT)))\r\n    }\r\n\r\n    highlight() {\r\n        this.color = [255,165,0];\r\n    }\r\n\r\n    unhighlight() {\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        this.color[0] = 255;\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    draw(p5) {\r\n        p5.push();\r\n        p5.fill(255);\r\n        p5.stroke(...this.color);\r\n        p5.rect(this.currentX, this.currentY, StackLinkedList.ITEM_WIDTH, StackLinkedList.ELEMENT_HEIGHT);\r\n        p5.line(this.currentX + StackLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + StackLinkedList.ELEMENT_WIDTH, this.currentY + StackLinkedList.ELEMENT_HEIGHT);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.text(this.data.toString(), this.currentX,this.currentY, StackLinkedList.ELEMENT_WIDTH,StackLinkedList.ELEMENT_HEIGHT);\r\n        if (this.next) {\r\n            p5.stroke(...Utils.addArray(this.color, [0,0,255]));\r\n            p5.fill(...Utils.addArray(this.color, [0,0,255]));\r\n            p5.circle(this.currentX + StackLinkedList.ELEMENT_WIDTH + StackLinkedList.POINTER_WIDTH / 2, this.currentY + StackLinkedList.ELEMENT_HEIGHT / 2, 5);\r\n            p5.line(this.currentX + StackLinkedList.ELEMENT_WIDTH + StackLinkedList.POINTER_WIDTH / 2, this.currentY + StackLinkedList.ELEMENT_HEIGHT / 2, this.next.currentX, this.next.currentY + StackLinkedList.ELEMENT_HEIGHT / 2);\r\n            p5.rect(this.next.currentX - 3, this.next.currentY + StackLinkedList.ELEMENT_HEIGHT / 2 - 3, 6,6);\r\n        } else {\r\n            p5.line(this.currentX + StackLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + StackLinkedList.ITEM_WIDTH, this.currentY + StackLinkedList.ELEMENT_HEIGHT);\r\n        }\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nimport { AttractedHighlightableObject } from 'animation';\r\nimport { Colors } from 'utils';\r\n\r\nexport default class QueueArray extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static SUPPORTS_NO_LOOP = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n    static SUPPORTS_TEXT = true;\r\n    static SUPPORTS_ANIMATION_CONTROL = true;\r\n    static SUPPORTS_STOP_ID = true;\r\n\r\n    static INITIAL_CAPACITY = 9;\r\n\r\n    static ELEMENT_SIZE = 50;\r\n    static HEAD_LOCATION_X = 125;\r\n    static HEAD_LOCATION_Y = 35;\r\n    static TAIL_LOCATION_X = 125;\r\n    static TAIL_LOCATION_Y = 55;\r\n\r\n    constructor(animator) {\r\n        super(animator);\r\n\r\n        this.reset();\r\n        this.made = true;\r\n    }\r\n\r\n    reset() {\r\n        super.reset();\r\n        if (this.made) {\r\n            this.beginDrawLoop();\r\n        }\r\n\r\n        this.backingArray = new Array(QueueArray.INITIAL_CAPACITY);\r\n        this.size = 0;\r\n        this.copyArray = null;\r\n        this.tempElement = null;\r\n        this.headPointerValue = 0;\r\n        this.headPointerHighlighter = new AttractedHighlightableObject(QueueArray.HEAD_LOCATION_X, QueueArray.HEAD_LOCATION_Y, {\r\n            highlightOuterRadius: 15\r\n        });\r\n        this.tailPointerValue = 0;\r\n        this.tailPointerHighlighter = new AttractedHighlightableObject(QueueArray.TAIL_LOCATION_X, QueueArray.TAIL_LOCATION_Y, {\r\n            highlightOuterRadius: 15\r\n        });\r\n\r\n        if (this.made) {\r\n            // this.updateText(\"Animation Ready\");\r\n            this.endDrawLoop();\r\n        }\r\n    }\r\n\r\n    ensureDrawn(skipDraw = false) {\r\n        this.beginDrawLoop();\r\n        let furthestObject = this.headPointerHighlighter;\r\n        if (this.tailPointerHighlighter.displacement() > furthestObject.displacement()) {\r\n            furthestObject = this.tailPointerHighlighter;\r\n        }\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i] && this.backingArray[i].displacement() > furthestObject.displacement()) {\r\n                furthestObject = this.backingArray[i];\r\n            }\r\n        }\r\n        if (this.copyArray) {\r\n            for (let i = 0; i < this.copyArray.length; i++) {\r\n                if (this.copyArray[i] && this.copyArray[i].displacement() > furthestObject.displacement()) {\r\n                    furthestObject = this.copyArray[i];\r\n                }\r\n            }\r\n        }\r\n        if (furthestObject.displacement() > 0) {\r\n            let stopID = ++this.stopID;\r\n            furthestObject.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n            if (skipDraw) {\r\n                this.headPointerHighlighter.stop();\r\n                this.tailPointerHighlighter.stop();\r\n                for (let i = 0; i < this.backingArray.length; i++) {\r\n                    if (this.backingArray[i]) {\r\n                        this.backingArray[i].stop();\r\n                    }\r\n                }\r\n                if (this.copyArray) {\r\n                    for (let i = 0; i < this.copyArray.length; i++) {\r\n                        if (this.copyArray[i]) {\r\n                            this.copyArray[i].stop();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            this.stopDrawing(++this.stopID);\r\n        }\r\n    }\r\n\r\n\r\n    enqueue(data) {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot add null to Queue.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        animation.push({method:this.showText,params:[`Enqueuing at index ${this.tailPointerValue}.`]});\r\n        if (this.size === this.backingArray.length) {\r\n            animation.push(...this.createCopyArray());\r\n        }\r\n        animation.push({method:this.createElement,params:[data],explanation:`Create value: ${data}`,isAnimationStep:true,});\r\n        animation.push(...this.useTailPointer());\r\n        // animation.push({method:this.highlightTemp,params:[],noAnim:true});\r\n        animation.push({method:this.insertElement,params:[],customEnd:true,explanation:`Added ${data} to backingArray`,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push(...this.updateTailPointer());\r\n        animation.push({method:this.sizeIncr,params:[],noAnim:true});\r\n        animation.push({method:this.showText,params:[`Successfully pushed ${data} to queue.`,Colors.GREEN,],});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return true;\r\n    }\r\n\r\n    dequeue() {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (this.size === 0) {\r\n            this.updateText(\"Cannot pop empty Queue\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let data = this.backingArray[this.headPointerValue].value;\r\n        animation.push({method:this.showText,params:[`Dequeuing from index ${this.headPointerValue}.`]});\r\n        animation.push(...this.useHeadPointer());\r\n        animation.push({method:this.extractElement,params:[],explanation:`Pop value: ${data} from queue`,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.unmakeElement,params:[],noAnim:true,returnsUndoData:true});\r\n        animation.push(...this.updateHeadPointer());\r\n        animation.push({method:this.sizeDecr,params:[],noAnim:true});\r\n        animation.push({method:this.showText,params:[`Successfully popped ${data} from queue.`,Colors.GREEN],noAnim:true});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return data;\r\n    }\r\n\r\n    createCopyArray() {\r\n        let animation = [];\r\n        animation.push({method:this.initCopyArray,params:[],noAnim:true,explanation:`Queue full, resizing to length ${this.backingArray.length*2}`,isForwardStep:true,});\r\n        animation.push(...this.useHeadPointer());\r\n        for (let i = 0; i < this.size; i++) {\r\n            animation.push(...this.addItemToCopy(i));\r\n        }\r\n        animation.push(...this.useCopyArr());\r\n        animation.push(...this.updateHeadPointer(0));\r\n        animation.push(...this.updateTailPointer(this.size));\r\n        return animation;\r\n    }\r\n\r\n    initCopyArray() {\r\n        this.copyArray = new Array(this.backingArray.length * 2);\r\n        for (let i = 0; i < this.size; i++) {\r\n            let arrIndex = (i + this.headPointerValue) % this.backingArray.length;\r\n            let pos = this.getElementPosition(arrIndex);\r\n            this.copyArray[i] = new QueueArrayElement({data: this.backingArray[arrIndex].value, index: i, x:pos[0],y:pos[1],},);\r\n        }\r\n    }\r\n    undo_initCopyArray() {\r\n        this.copyArray = null;\r\n    }\r\n\r\n    addItemToCopy(index) {\r\n        let animation = [];\r\n        // animation.push({method:this.shiftElementToCopyArray,params:[index,...this.getElementPosition(index,true)],customEnd:true,isBackStep:(index === 0),isForwardStep:(index === this.size - 1),customUndoEnd:(index === 0),customRedoEnd:(index === this.size - 1),});\r\n        animation.push({method:this.shiftElementToCopyArray,params:[index,...this.getElementPosition(index,true)],customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n        return animation;\r\n    }\r\n\r\n    shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        let oldX = element.desiredX;\r\n        let oldY = element.desiredY;\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        element.addOnStop((el) => {\r\n            el.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        return [index, oldX, oldY];\r\n    }\r\n    undo_shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        if (true || index === 0) {\r\n            let stopID = ++this.stopID;\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n                this.stopDrawing(stopID);\r\n            });\r\n        } else {\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n            });\r\n        }\r\n    }\r\n    redo_shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        if (true || index === this.size - 1) {\r\n            let stopID = ++this.stopID;\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n                this.stopDrawing(stopID);\r\n            });\r\n        } else {\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n            });\r\n        }\r\n    }\r\n\r\n    useCopyArr() {\r\n        let animation = [];\r\n        animation.push({method:this.assignCopyArray,params:[],noAnim:true,isBackStep:true,customUndoEnd:true,returnsUndoData:true});\r\n        for (let i = 0; i < this.size; i++) {\r\n            animation.push({method:this.shiftElementToBackingArray,params:[i,],noAnim:true,isForwardStep:(i === this.size - 1),customUndoEnd:true,customRedoEnd:true});\r\n        }\r\n        animation.push({method:this.noAction,noAnim:true,isBackStep:true});\r\n        return animation;\r\n    }\r\n\r\n    assignCopyArray() {\r\n        let oldBacking = this.backingArray;\r\n        this.backingArray = this.copyArray;\r\n        this.copyArray = null;\r\n        return [oldBacking];\r\n    }\r\n    undo_assignCopyArray(oldBacking) {\r\n        this.copyArray = this.backingArray;\r\n        this.backingArray = oldBacking;\r\n    }\r\n\r\n    shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(element.index));\r\n    }\r\n    undo_shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(index,true));\r\n        if (index === 0) {\r\n            let stopID = ++this.stopID;\r\n            element.addOnStop((el) => {\r\n                this.stopDrawing(stopID);\r\n            })\r\n        }\r\n    }\r\n    redo_shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(element.index));\r\n        if (index === this.size - 1) {\r\n            let stopID = ++this.stopID;\r\n            element.addOnStop((el) => {\r\n                this.stopDrawing(stopID);\r\n            })\r\n        }\r\n    }\r\n\r\n    createElement(data) {\r\n        this.tempElement = new QueueArrayElement({data: data, index: this.tailPointerValue, x:45,y:45,},);\r\n    }\r\n    undo_createElement(data) {\r\n        this.tempElement = null;\r\n    }\r\n\r\n    useTailPointer() {\r\n        let animation = [];\r\n        animation.push({method:this.tailPointerHighlighter.highlight,scope:this.tailPointerHighlighter,params:[],noAnim:true,});\r\n        animation.push({method:this.moveTailTracker,params:[],customEnd:true,explanation:`Tail points to index |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.tailPointerHighlighter.unhighlight,scope:this.tailPointerHighlighter,params:[],noAnim:true,});\r\n        animation.push({method:this.tailPointerHighlighter.goTo,scope:this.tailPointerHighlighter,params:[QueueArray.TAIL_LOCATION_X,QueueArray.TAIL_LOCATION_Y,],noAnim:true,returnsUndoData:true});\r\n        return animation;\r\n    }\r\n\r\n    moveTailTracker() {\r\n        let pos = this.getElementPosition(this.tailPointerValue);\r\n        this.tailPointerHighlighter.highlight();\r\n        this.tailPointerHighlighter.shift(pos[0], pos[1] + QueueArray.ELEMENT_SIZE);\r\n        this.tailPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        return this.tailPointerValue;\r\n    }\r\n    undo_moveTailTracker() {\r\n        this.tailPointerHighlighter.shift(QueueArray.TAIL_LOCATION_X,QueueArray.TAIL_LOCATION_Y);\r\n        this.tailPointerHighlighter.highlight();\r\n        let stopID = ++this.stopID;\r\n        this.tailPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        return this.tailPointerValue;\r\n    }\r\n    redo_moveTailTracker() {\r\n        let pos = this.getElementPosition(this.tailPointerValue);\r\n        this.tailPointerHighlighter.highlight();\r\n        this.tailPointerHighlighter.shift(pos[0], pos[1] + QueueArray.ELEMENT_SIZE);\r\n        let stopID = ++this.stopID;\r\n        this.tailPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        return this.tailPointerValue;\r\n    }\r\n\r\n    highlightTemp(color = Colors.BLUE) {\r\n        this.tempElement.highlight(color);\r\n    }\r\n    undo_highlightTemp() {\r\n        this.tempElement.unhighlight();\r\n    }\r\n\r\n    insertElement() {\r\n        let index = this.tailPointerValue;\r\n        this.backingArray[index] = this.tempElement;\r\n        this.highlightTemp();\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        this.tempElement = null;\r\n    }\r\n    undo_insertElement() {\r\n        let index = this.tailPointerValue;// - 1;\r\n        // if (index < 0) {\r\n        //     index += this.backingArray.length;\r\n        // }\r\n        this.tempElement = this.backingArray[index];\r\n        this.highlightTemp();\r\n        this.tempElement.shift(45,45);\r\n        let stopID = ++this.stopID;\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.backingArray[index] = null;\r\n    }\r\n    redo_insertElement() {\r\n        let index = this.tailPointerValue;\r\n        this.backingArray[index] = this.tempElement;\r\n        this.highlightTemp();\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        let stopID = ++this.stopID;\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempElement = null;\r\n    }\r\n\r\n    useHeadPointer() {\r\n        let animation = [];\r\n        animation.push({method:this.headPointerHighlighter.highlight,scope:this.headPointerHighlighter,params:[],noAnim:true,});\r\n        animation.push({method:this.moveHeadTracker,params:[],customEnd:true,explanation:`Head points to index |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.headPointerHighlighter.unhighlight,scope:this.headPointerHighlighter,params:[],noAnim:true,});\r\n        animation.push({method:this.headPointerHighlighter.goTo,scope:this.headPointerHighlighter,params:[QueueArray.HEAD_LOCATION_X,QueueArray.HEAD_LOCATION_Y,],noAnim:true,returnsUndoData:true,});\r\n        return animation;\r\n    }\r\n\r\n    moveHeadTracker() {\r\n        let pos = this.getElementPosition(this.headPointerValue);\r\n        this.headPointerHighlighter.highlight();\r\n        this.headPointerHighlighter.shift(pos[0], pos[1] + QueueArray.ELEMENT_SIZE);\r\n        this.headPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        return this.headPointerValue;\r\n    }\r\n    undo_moveHeadTracker() {\r\n        this.headPointerHighlighter.shift(QueueArray.HEAD_LOCATION_X,QueueArray.HEAD_LOCATION_Y);\r\n        this.headPointerHighlighter.highlight();\r\n        let stopID = ++this.stopID;\r\n        this.headPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        return this.headPointerValue;\r\n    }\r\n    redo_moveHeadTracker() {\r\n        let pos = this.getElementPosition(this.headPointerValue);\r\n        this.headPointerHighlighter.highlight();\r\n        this.headPointerHighlighter.shift(pos[0], pos[1] + QueueArray.ELEMENT_SIZE);\r\n        let stopID = ++this.stopID;\r\n        this.headPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        return this.headPointerValue;\r\n    }\r\n\r\n    extractElement() {\r\n        this.tempElement = this.backingArray[this.headPointerValue];\r\n        this.backingArray[this.headPointerValue] = null;\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(45,45);\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n    undo_extractElement() {\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(...this.getElementPosition(this.headPointerValue));\r\n        let stopID = ++this.stopID;\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.backingArray[this.headPointerValue] = this.tempElement;\r\n        this.tempElement = null;\r\n    }\r\n    redo_extractElement() {\r\n        this.tempElement = this.backingArray[this.headPointerValue];\r\n        this.backingArray[this.headPointerValue] = null;\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(45,45);\r\n        let stopID = ++this.stopID;\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n\r\n    unmakeElement(index) {\r\n        let oldTemp = this.tempElement;\r\n        this.tempElement = null;\r\n        return [oldTemp];\r\n    }\r\n    undo_unmakeElement(oldTemp) {\r\n        this.tempElement = oldTemp;\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n    undo_sizeIncr() {\r\n        this.size--;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n    undo_sizeDecr() {\r\n        this.size++;\r\n    }\r\n\r\n    updateHeadPointer(newHead) {\r\n        let animation = [];\r\n        animation.push({method:this.headPointerHighlighter.highlight,scope:this.headPointerHighlighter,params:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],isForwardStep:true,});\r\n        animation.push({method:this.changeHeadPointerValue,params:[newHead],explanation:`Update head pointer to |RETURN|`,explanationUsesReturn:true,returnsUndoData:true,});\r\n        animation.push({method:this.headPointerHighlighter.unhighlight,scope:this.headPointerHighlighter,params:[],noAnim:true,isBackStep:true,undoData:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],});\r\n        return animation;\r\n    }\r\n\r\n    changeHeadPointerValue(newHead) {\r\n        let oldHead = this.headPointerValue;\r\n        if (newHead !== undefined) {\r\n            this.headPointerValue = newHead;\r\n        } else {\r\n            this.headPointerValue++;\r\n            this.headPointerValue %= this.backingArray.length;\r\n        }\r\n        return [this.headPointerValue,[oldHead]];\r\n    }\r\n    undo_changeHeadPointerValue(oldHead) {\r\n        this.headPointerValue = oldHead;\r\n        return this.headPointerValue;\r\n    }\r\n\r\n    updateTailPointer(newTail) {\r\n        let animation = [];\r\n        animation.push({method:this.tailPointerHighlighter.highlight,scope:this.tailPointerHighlighter,params:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],isForwardStep:true,});\r\n        animation.push({method:this.changeTailPointerValue,params:[newTail],explanation:`Update tail pointer to |RETURN|`,explanationUsesReturn:true,returnsUndoData:true,});\r\n        animation.push({method:this.tailPointerHighlighter.unhighlight,scope:this.tailPointerHighlighter,params:[],noAnim:true,isBackStep:true,undoData:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],});\r\n        return animation;\r\n    }\r\n\r\n    changeTailPointerValue(newTail) {\r\n        let oldTail = this.tailPointerValue;\r\n        if (newTail) {\r\n            this.tailPointerValue = newTail;\r\n        } else {\r\n            this.tailPointerValue++;\r\n            this.tailPointerValue %= this.backingArray.length;\r\n        }\r\n        return [this.tailPointerValue,[oldTail]];\r\n    }\r\n    undo_changeTailPointerValue(oldTail) {\r\n        this.tailPointerValue = oldTail;\r\n        return this.tailPointerValue;\r\n    }\r\n\r\n    getElementPosition(index, copy = false) {\r\n        let maxPerRow = Math.floor(this.width / QueueArray.ELEMENT_SIZE);\r\n        let x = QueueArray.ELEMENT_SIZE * index;\r\n        let y = 50 + Math.floor(index / maxPerRow) * 2 * QueueArray.ELEMENT_SIZE;\r\n        x = (index % maxPerRow) * QueueArray.ELEMENT_SIZE;\r\n        return [x + QueueArray.ELEMENT_SIZE/2 + this.x,y + QueueArray.ELEMENT_SIZE/2 + this.y + (copy ? (Math.ceil(this.backingArray.length / maxPerRow)*QueueArray.ELEMENT_SIZE*2) : 0)];\r\n    }\r\n\r\n    updateElement(element, animationSpeed, p5) {\r\n        if (element) {\r\n            element.update(animationSpeed, p5);\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            for (let i = 0; i < this.backingArray.length; i++) {\r\n                this.updateElement(this.backingArray[i], animationSpeed, p5);\r\n            }\r\n            if (this.copyArray) {\r\n                for (let i = 0; i < this.copyArray.length; i++) {\r\n                    this.updateElement(this.copyArray[i], animationSpeed, p5);\r\n                }\r\n            }\r\n            if (this.tempElement) {\r\n                this.updateElement(this.tempElement, animationSpeed, p5);\r\n            }\r\n            this.headPointerHighlighter.update(animationSpeed, p5);\r\n            this.tailPointerHighlighter.update(animationSpeed, p5);\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        super.draw(p5);\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_SIZE/3 - 2);\r\n\r\n        p5.fill(0);\r\n        p5.text(\"Head: \", QueueArray.HEAD_LOCATION_X - 50, QueueArray.HEAD_LOCATION_Y, QueueArray.ELEMENT_SIZE);\r\n        p5.text(this.headPointerValue.toString(), QueueArray.HEAD_LOCATION_X-25, QueueArray.HEAD_LOCATION_Y, QueueArray.ELEMENT_SIZE);\r\n        p5.text(\"Tail: \", QueueArray.TAIL_LOCATION_X - 50, QueueArray.TAIL_LOCATION_Y, QueueArray.ELEMENT_SIZE);\r\n        p5.text(this.tailPointerValue.toString(), QueueArray.TAIL_LOCATION_X-25, QueueArray.TAIL_LOCATION_Y, QueueArray.ELEMENT_SIZE);\r\n\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i]) {\r\n                this.backingArray[i].draw(p5);\r\n            }\r\n            let pos = this.getElementPosition(i);\r\n            p5.noFill();\r\n            p5.stroke(0);\r\n            p5.square(pos[0] - QueueArray.ELEMENT_SIZE/2,pos[1] - QueueArray.ELEMENT_SIZE/2, QueueArray.ELEMENT_SIZE);\r\n            p5.fill(...Colors.BLUE);\r\n            p5.stroke(...Colors.BLUE);\r\n            p5.text(i.toString(), pos[0] - QueueArray.ELEMENT_SIZE/2,pos[1] + QueueArray.ELEMENT_SIZE/2, QueueArray.ELEMENT_SIZE, QueueArray.ELEMENT_SIZE);\r\n        }\r\n\r\n        if (this.copyArray) {\r\n            for (let i = 0; i < this.copyArray.length; i++) {\r\n                if (this.copyArray[i]) {\r\n                    this.copyArray[i].draw(p5);\r\n                }\r\n                let pos = this.getElementPosition(i, true);\r\n                p5.noFill();\r\n                p5.stroke(0);\r\n                p5.square(pos[0] - QueueArray.ELEMENT_SIZE/2,pos[1] - QueueArray.ELEMENT_SIZE/2, QueueArray.ELEMENT_SIZE);\r\n                p5.fill(...Colors.BLUE);\r\n                p5.stroke(...Colors.BLUE);\r\n                p5.text(i.toString(), pos[0] - QueueArray.ELEMENT_SIZE/2,pos[1] + QueueArray.ELEMENT_SIZE/2, QueueArray.ELEMENT_SIZE, QueueArray.ELEMENT_SIZE);\r\n            }\r\n        }\r\n        if (this.tempElement) {\r\n            this.tempElement.draw(p5);\r\n        }\r\n        this.headPointerHighlighter.draw(p5);\r\n        this.tailPointerHighlighter.draw(p5);\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, (this.copyArray ? this.getElementPosition(this.copyArray.length-1, true)[1] : this.getElementPosition(this.backingArray.length-1)[1]) + QueueArray.ELEMENT_SIZE, () => {\r\n            for (let i = 0; i < this.backingArray.length; i++) {\r\n                if (this.backingArray[i]) {\r\n                    this.backingArray[i].shift(...this.getElementPosition(i));\r\n                }\r\n            }\r\n            if (this.copyArray) {\r\n                for (let i = 0; i < this.copyArray.length; i++) {\r\n                    if (this.copyArray[i]) {\r\n                        this.copyArray[i].shift(...this.getElementPosition(i,true));\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\nclass QueueArrayElement extends AttractedHighlightableObject {\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        // this.highlightInnerRadius = QueueArray.ELEMENT_SIZE/2 - 5;\r\n        this.highlightOuterRadius = QueueArray.ELEMENT_SIZE/2;\r\n\r\n        this.value = data;\r\n        this.index = index;\r\n\r\n        this.toDelete = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    highlightForMovement() {\r\n        super.highlight(Colors.BLUE);\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        super.highlight(Colors.RED);\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5);\r\n    }\r\n\r\n    drawValue(p5) {\r\n        p5.push();\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.stroke(...this.color);\r\n        p5.text(this.value.toString(), this.currentX - QueueArray.ELEMENT_SIZE/2,this.currentY - QueueArray.ELEMENT_SIZE/2, QueueArray.ELEMENT_SIZE, QueueArray.ELEMENT_SIZE);\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nimport { AttractedDraggableObject } from 'animation';\r\nimport { Utils, Colors } from 'utils';\r\n\r\nexport default class QueueLinkedList extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static CAN_DRAG = true;\r\n    static SUPPORTS_NO_LOOP = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n    static SUPPORTS_TEXT = true;\r\n    static SUPPORTS_ANIMATION_CONTROL = true;\r\n    static SUPPORTS_STOP_ID = true;\r\n\r\n    static ELEMENT_HEIGHT = 35;\r\n    static ELEMENT_WIDTH = 50;\r\n    static POINTER_WIDTH = 15;\r\n    static ITEM_WIDTH = QueueLinkedList.ELEMENT_WIDTH + QueueLinkedList.POINTER_WIDTH;\r\n    static SPACING = 50;\r\n    static ELEMENT_SIZE = QueueLinkedList.ITEM_WIDTH + QueueLinkedList.SPACING;\r\n\r\n    static HEAD_TAIL_SIZE = 35;\r\n    static HEAD_TAIL_X = 130;\r\n\r\n\r\n    constructor(animator) {\r\n        super(animator);\r\n\r\n        this.reset();\r\n        this.made = true;\r\n    }\r\n\r\n    reset() {\r\n        super.reset();\r\n        if (this.made) {\r\n            this.beginDrawLoop();\r\n        }\r\n\r\n        this.head = null;\r\n        this.tail = null;\r\n        this.size = 0;\r\n        this.nodes = [];\r\n        this.tempNode = null;\r\n        this.pinnedNode = null;\r\n\r\n        this.resizing = false;\r\n        if (this.made) {\r\n            this.endDrawLoop();\r\n        }\r\n    }\r\n\r\n    ensureDrawn(skipDraw = false) {\r\n        this.beginDrawLoop();\r\n        let maxNode = this.tempNode || this.head;\r\n        let curr = this.head;\r\n        while (curr) {\r\n            if (curr.displacement() > maxNode.displacement()) {\r\n                maxNode = curr;\r\n            }\r\n            curr = curr.next;\r\n        }\r\n        if (maxNode && maxNode.displacement() > 0) {\r\n            let stopID = ++this.stopID;\r\n            maxNode.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n            if (skipDraw) {\r\n                let curr = this.head;\r\n                while (curr) {\r\n                    curr.stop();\r\n                    curr = curr.next;\r\n                }\r\n                if (this.tempNode) {\r\n                    this.tempNode.stop();\r\n                }\r\n            }\r\n        } else {\r\n            this.stopDrawing(++this.stopID);\r\n        }\r\n    }\r\n\r\n\r\n    enqueue(data) {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot add null to Queue.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        animation.push({method:this.makeNode,params:[data,],explanation:`Create value: ${data}`,isAnimationStep:true,returnsRedoData:true});\r\n        if (this.size > 0) {\r\n            animation.push({method:this.setTempNodeAfterTail,explanation:`Assign next pointer`,isAnimationStep:true,});\r\n        }\r\n        animation.push({method:this.insertTempNode,explanation:`Reset tail pointer`,isAnimationStep:true,returnsUndoData:true,});\r\n        animation.push({method:this.shiftTail,customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.sizeIncr,noAnim:true,});\r\n        animation.push({method:this.showText,params:[`Successfully enqueued ${data} to queue.`, Colors.GREEN],noAnim:true,});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return true;\r\n    }\r\n\r\n\r\n    dequeue() {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (this.size === 0) {\r\n            this.updateText(\"Cannot dequeue empty Queue\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let data = this.head.data;\r\n        animation.push({method:this.markHeadForDeletion,noAnim:true,});\r\n        animation.push({method:this.unmakeHead,explanation:`Extract data`,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        if (this.size > 1) {\r\n            animation.push({method:this.shiftIntoNode,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        }\r\n        animation.push({method:this.skipTempNode,explanation:`Reset head pointer to new head`,isAnimationStep:true,returnsUndoData:true,});\r\n        animation.push({method:this.sizeDecr,noAnim:true,});\r\n        animation.push({method:this.showText,params:[`Successfully dequeued ${data} from queue.`, Colors.GREEN],noAnim:true,});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return data;\r\n    }\r\n\r\n\r\n    makeNode(data) {\r\n        this.tempNode = new QueueLinkedListNode({data: data, index: this.size, x:20,y:20,});\r\n        return [this.tempNode];\r\n    }\r\n    undo_makeNode(data) {\r\n        this.tempNode = null;\r\n    }\r\n    redo_makeNode(newTemp) {\r\n        this.tempNode = newTemp;\r\n    }\r\n\r\n    setTempNodeAfterTail() {\r\n        this.tail.next = this.tempNode;\r\n    }\r\n    undo_setTempNodeAfterTail() {\r\n        this.tail.next = null;\r\n    }\r\n\r\n    insertTempNode() {\r\n        let oldTail = this.tail;\r\n        this.nodes.splice(this.size, 0, this.tempNode);\r\n        this.tail = this.tempNode;\r\n        if (!oldTail) {\r\n            this.head = this.tempNode;\r\n        }\r\n        return [oldTail];\r\n    }\r\n    undo_insertTempNode(oldTail) {\r\n        this.tail = oldTail;\r\n        if (!oldTail) {\r\n            this.head = null;\r\n        }\r\n        this.nodes.splice(this.size, 1);\r\n    }\r\n\r\n    shiftTail() {\r\n        this.tempNode.shift(...this.getNodePosition(this.size));\r\n        this.tempNode.addOnStop((element) => {\r\n            this.doneAnimating(0);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n    undo_shiftTail() {\r\n        this.tempNode = this.tail;\r\n        this.tempNode.shift(20,20);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n    redo_shiftTail() {\r\n        this.tempNode.shift(...this.getNodePosition(this.size));\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n\r\n    markHeadForDeletion() {\r\n        this.head.markForDeletion();\r\n    }\r\n    undo_markHeadForDeletion() {\r\n        this.head.unhighlight();\r\n    }\r\n\r\n    unmakeHead() {\r\n        this.tempNode = this.nodes.splice(0, 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        this.tempNode.addOnStop(() => {\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n    undo_unmakeHead() {\r\n        this.tempNode.shift(...this.getNodePosition(0));\r\n        this.nodes.splice(0, 0, this.tempNode);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n    redo_unmakeHead() {\r\n        this.tempNode = this.nodes.splice(0, 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n\r\n    skipTempNode() {\r\n        let oldTemp = this.tempNode;\r\n        this.head = this.head.next;\r\n        this.tempNode = null;\r\n        return [oldTemp]\r\n    }\r\n    undo_skipTempNode(oldTemp) {\r\n        this.tempNode = oldTemp;\r\n        this.tempNode.next = this.head;\r\n        this.tempNode.markForDeletion();\r\n        this.head = this.tempNode;\r\n    }\r\n\r\n    shiftIntoNode() {\r\n        let node = this.head.next;\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            node = node.next;\r\n        }\r\n    }\r\n    undo_shiftIntoNode() {\r\n        let node = this.head.next;\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            if (!node.next) {\r\n                let stopID = ++this.stopID;\r\n                node.addOnStop(() => {\r\n                    this.stopDrawing(stopID);\r\n                });\r\n            }\r\n            node = node.next;\r\n        }\r\n    }\r\n    redo_shiftIntoNode() {\r\n        let node = this.head.next;\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            if (!node.next) {\r\n                let stopID = ++this.stopID;\r\n                node.addOnStop(() => {\r\n                    this.stopDrawing(stopID);\r\n                });\r\n            }\r\n            node = node.next;\r\n        }\r\n    }\r\n\r\n    shiftNode(node, direction) {\r\n        node.shift(...this.getNodePosition(node.index + direction), direction);\r\n    }\r\n    undo_shiftNode(node, direction) {\r\n        // console.log(\"undo_shiftNode\");\r\n        this.shiftNode(node, -direction);\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n    undo_sizeIncr() {\r\n        this.size--;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n    undo_sizeDecr() {\r\n        this.size++;\r\n    }\r\n\r\n    getNodePosition(index) {\r\n        let maxPerRow = Math.max(1, Math.floor(this.width / QueueLinkedList.ELEMENT_SIZE));\r\n        let x = QueueLinkedList.ELEMENT_SIZE * index;\r\n        let y = 75 + Math.floor(index / maxPerRow) * 2 * QueueLinkedList.ELEMENT_HEIGHT;\r\n        x = (index % maxPerRow) * QueueLinkedList.ELEMENT_SIZE;\r\n        return [x + this.x,y + this.y];\r\n    }\r\n\r\n    getNodeAtPos(x,y) {\r\n        let node = this.head;\r\n        while (node) {\r\n            if (node.containsPos(x,y)) {\r\n                return node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode && this.tempNode.containsPos(x,y)) {\r\n            return this.tempNode;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    getTailY() {\r\n        return this.getNodePosition(this.size-1)[1] + QueueLinkedList.ELEMENT_HEIGHT + QueueLinkedList.HEAD_TAIL_SIZE;\r\n    }\r\n\r\n    pin(node, x,y) {\r\n        this.pinnedNode = node;\r\n        node.pin(x,y);\r\n    }\r\n\r\n    unpin() {\r\n        this.pinnedNode.unpin();\r\n        this.pinnedNode = null;\r\n    }\r\n\r\n    updateNode(node, animationSpeed, p5) {\r\n        node.update(animationSpeed, p5);\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            let node = this.head;\r\n            while (node) {\r\n                this.updateNode(node, animationSpeed, p5);\r\n                node = node.next;\r\n            }\r\n            if (this.tempNode) {\r\n                this.updateNode(this.tempNode, animationSpeed, p5);\r\n            }\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        // console.log(\"draw\");\r\n        super.draw(p5);\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_WIDTH/3 - 2);\r\n\r\n        p5.noFill();\r\n        p5.stroke(0);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        let headY = 20;\r\n        p5.text(\"Head:\",95-5,headY,QueueLinkedList.HEAD_TAIL_SIZE + 10,QueueLinkedList.HEAD_TAIL_SIZE);\r\n        p5.square(QueueLinkedList.HEAD_TAIL_X,headY,QueueLinkedList.HEAD_TAIL_SIZE);\r\n        if (this.head) {\r\n            p5.stroke(Colors.BLUE);\r\n            p5.fill(Colors.BLUE);\r\n            p5.circle(QueueLinkedList.HEAD_TAIL_X + QueueLinkedList.HEAD_TAIL_SIZE / 2, headY + QueueLinkedList.HEAD_TAIL_SIZE / 2, 5);\r\n            p5.line(QueueLinkedList.HEAD_TAIL_X + QueueLinkedList.HEAD_TAIL_SIZE / 2, headY + QueueLinkedList.HEAD_TAIL_SIZE / 2, this.head.currentX + QueueLinkedList.ITEM_WIDTH / 2, this.head.currentY);\r\n            p5.rect(this.head.currentX + QueueLinkedList.ITEM_WIDTH / 2 - 3, this.head.currentY - 3, 6,6);\r\n        } else {\r\n            p5.line(QueueLinkedList.HEAD_TAIL_X,headY,QueueLinkedList.HEAD_TAIL_X + QueueLinkedList.HEAD_TAIL_SIZE,headY + QueueLinkedList.HEAD_TAIL_SIZE);\r\n        }\r\n        p5.noFill();\r\n        p5.stroke(0);\r\n        let tailY = this.getTailY();\r\n        p5.text(\"Tail:\",95,tailY,QueueLinkedList.HEAD_TAIL_SIZE,QueueLinkedList.HEAD_TAIL_SIZE);\r\n        p5.square(QueueLinkedList.HEAD_TAIL_X,tailY,QueueLinkedList.HEAD_TAIL_SIZE);\r\n        if (this.tail) {\r\n            p5.stroke(Colors.BLUE);\r\n            p5.fill(Colors.BLUE);\r\n            p5.circle(QueueLinkedList.HEAD_TAIL_X + QueueLinkedList.HEAD_TAIL_SIZE / 2, tailY + QueueLinkedList.HEAD_TAIL_SIZE / 2, 5);\r\n            p5.line(QueueLinkedList.HEAD_TAIL_X + QueueLinkedList.HEAD_TAIL_SIZE / 2, tailY + QueueLinkedList.HEAD_TAIL_SIZE / 2, this.tail.currentX + QueueLinkedList.ITEM_WIDTH / 2, this.tail.currentY + QueueLinkedList.ELEMENT_HEIGHT);\r\n            p5.rect(this.tail.currentX + QueueLinkedList.ITEM_WIDTH / 2 - 3, this.tail.currentY + QueueLinkedList.ELEMENT_HEIGHT - 3, 6,6);\r\n        } else {\r\n            p5.line(QueueLinkedList.HEAD_TAIL_X,tailY,QueueLinkedList.HEAD_TAIL_X + QueueLinkedList.HEAD_TAIL_SIZE,tailY + QueueLinkedList.HEAD_TAIL_SIZE);\r\n        }\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.draw(p5, node.next === this.head);\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode) {\r\n            this.tempNode.draw(p5);\r\n        }\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    mousePressed(p5) {\r\n        // this.drawingBeforeMouseDown = this.drawing;\r\n        let pressedNode = this.getNodeAtPos(p5.mouseX, p5.mouseY);\r\n        if (pressedNode) {\r\n            this.animator.loop();\r\n            this.pin(pressedNode, p5.mouseX,p5.mouseY);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    mouseReleased(p5) {\r\n        if (this.pinnedNode) {\r\n            this.pinnedNode.addOnStop(() => {\r\n                this.ensureDrawn();\r\n            });\r\n            this.unpin();\r\n        } else {\r\n            // this.ensureDrawn();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, this.getTailY() + QueueLinkedList.HEAD_TAIL_SIZE + 20,() => {\r\n            let shiftTemp = this.tempNode && this.tempNode.desiredX === 20 && this.tempNode.desiredY === 20;\r\n            let node = this.head;\r\n            while (node) {\r\n                node.shift(...this.getNodePosition(node.index));\r\n                node = node.next;\r\n            }\r\n            if (shiftTemp) {\r\n                this.tempNode.shift(20,20);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\nclass QueueLinkedListNode extends AttractedDraggableObject {\r\n    static CAN_DRAG = true;\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        this.data = data;\r\n        this.index = index;\r\n        this.next = null;\r\n\r\n        this.toDelete = false;\r\n        this.handBroken = false;\r\n        this.frozen = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    containsPos(x,y) {\r\n        return ((this.currentX <= x && x <= (this.currentX + QueueLinkedList.ITEM_WIDTH)) && (this.currentY <= y && y <= (this.currentY + QueueLinkedList.ELEMENT_HEIGHT)))\r\n    }\r\n\r\n    highlight() {\r\n        this.color = [255,165,0];\r\n    }\r\n\r\n    unhighlight() {\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        this.color[0] = 255;\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    draw(p5) {\r\n        p5.push();\r\n        p5.fill(255);\r\n        p5.stroke(...this.color);\r\n        p5.rect(this.currentX, this.currentY, QueueLinkedList.ITEM_WIDTH, QueueLinkedList.ELEMENT_HEIGHT);\r\n        p5.line(this.currentX + QueueLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + QueueLinkedList.ELEMENT_WIDTH, this.currentY + QueueLinkedList.ELEMENT_HEIGHT);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.text(this.data.toString(), this.currentX,this.currentY, QueueLinkedList.ELEMENT_WIDTH,QueueLinkedList.ELEMENT_HEIGHT);\r\n        if (this.next) {\r\n            p5.stroke(...Utils.addArray(this.color, [0,0,255]));\r\n            p5.fill(...Utils.addArray(this.color, [0,0,255]));\r\n            p5.circle(this.currentX + QueueLinkedList.ELEMENT_WIDTH + QueueLinkedList.POINTER_WIDTH / 2, this.currentY + QueueLinkedList.ELEMENT_HEIGHT / 2, 5);\r\n            p5.line(this.currentX + QueueLinkedList.ELEMENT_WIDTH + QueueLinkedList.POINTER_WIDTH / 2, this.currentY + QueueLinkedList.ELEMENT_HEIGHT / 2, this.next.currentX, this.next.currentY + QueueLinkedList.ELEMENT_HEIGHT / 2);\r\n            p5.rect(this.next.currentX - 3, this.next.currentY + QueueLinkedList.ELEMENT_HEIGHT / 2 - 3, 6,6);\r\n        } else {\r\n            p5.line(this.currentX + QueueLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + QueueLinkedList.ITEM_WIDTH, this.currentY + QueueLinkedList.ELEMENT_HEIGHT);\r\n        }\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nimport { AttractedHighlightableObject } from 'animation';\r\nimport { Colors } from 'utils';\r\n\r\nexport default class DequeArray extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static SUPPORTS_NO_LOOP = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n    static SUPPORTS_TEXT = true;\r\n    static SUPPORTS_ANIMATION_CONTROL = true;\r\n    static SUPPORTS_STOP_ID = true;\r\n\r\n    static INITIAL_CAPACITY = 9;\r\n\r\n    static ELEMENT_SIZE = 50;\r\n    static FRONT_LOCATION_X = 125;\r\n    static FRONT_LOCATION_Y = 35;\r\n    static SIZE_LOCATION_X = 125;\r\n    static SIZE_LOCATION_Y = 55;\r\n\r\n    constructor(animator) {\r\n        super(animator);\r\n\r\n        this.reset();\r\n        this.made = true;\r\n    }\r\n\r\n    reset() {\r\n        super.reset();\r\n        if (this.made) {\r\n            this.beginDrawLoop();\r\n        }\r\n\r\n        this.backingArray = new Array(DequeArray.INITIAL_CAPACITY);\r\n        this.size = 0;\r\n        this.copyArray = null;\r\n        this.tempElement = null;\r\n        this.frontPointerValue = 0;\r\n        this.frontPointerHighlighter = new AttractedHighlightableObject(DequeArray.FRONT_LOCATION_X, DequeArray.FRONT_LOCATION_Y, {\r\n            highlightOuterRadius: 15\r\n        });\r\n        this.sizePointerHighlighter = new AttractedHighlightableObject(DequeArray.SIZE_LOCATION_X, DequeArray.SIZE_LOCATION_Y, {\r\n            highlightOuterRadius: 15\r\n        });\r\n\r\n        if (this.made) {\r\n            // this.updateText(\"Animation Ready\");\r\n            this.endDrawLoop();\r\n        }\r\n    }\r\n\r\n    ensureDrawn(skipDraw = false) {\r\n        this.beginDrawLoop();\r\n        let furthestObject = this.tempElement || this.frontPointerHighlighter;\r\n        if (this.frontPointerHighlighter.displacement() > furthestObject.displacement()) {\r\n            furthestObject = this.frontPointerHighlighter;\r\n        }\r\n        if (this.sizePointerHighlighter.displacement() > furthestObject.displacement()) {\r\n            furthestObject = this.sizePointerHighlighter;\r\n        }\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i] && this.backingArray[i].displacement() > furthestObject.displacement()) {\r\n                furthestObject = this.backingArray[i];\r\n            }\r\n        }\r\n        if (this.copyArray) {\r\n            for (let i = 0; i < this.copyArray.length; i++) {\r\n                if (this.copyArray[i] && this.copyArray[i].displacement() > furthestObject.displacement()) {\r\n                    furthestObject = this.copyArray[i];\r\n                }\r\n            }\r\n        }\r\n        if (furthestObject.displacement() > 0) {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            furthestObject.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n            if (skipDraw) {\r\n                if (this.tempElement) {\r\n                    this.tempElement.stop();\r\n                }\r\n                this.frontPointerHighlighter.stop();\r\n                this.sizePointerHighlighter.stop();\r\n                for (let i = 0; i < this.backingArray.length; i++) {\r\n                    if (this.backingArray[i]) {\r\n                        this.backingArray[i].stop();\r\n                    }\r\n                }\r\n                if (this.copyArray) {\r\n                    for (let i = 0; i < this.copyArray.length; i++) {\r\n                        if (this.copyArray[i]) {\r\n                            this.copyArray[i].stop();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            this.stopDrawing(stopID);\r\n        }\r\n    }\r\n\r\n\r\n    add(data,front) {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot add null to Deque.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        if (this.size === this.backingArray.length) {\r\n            animation.push({method:this.showText,params:[`Deque full, resizing to length ${this.backingArray.length*2}`,Colors.GREEN,],});\r\n            animation.push(...this.createCopyArray());\r\n        }\r\n        animation.push({method:this.createElement,params:[data,front],explanation:`Create value: ${data}`,isAnimationStep:true,returnsRedoData:true,});\r\n        animation.push(...this.useFrontPointer());\r\n        if (front) {\r\n            animation.push(...this.useFrontDecrementPointer(true));\r\n        } else {\r\n            animation.push(...this.useFrontSizePointer(true));\r\n        }\r\n        animation.push({method:this.highlightTemp,noAnim:true});\r\n        animation.push({method:this.insertElement,customEnd:true,explanation:`Added ${data} to backingArray`,isAnimationStep:true,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true,});\r\n        if (front) {\r\n            // animation.push({method:this.noAction,noAnim:true,isBackStep:true});\r\n            animation.push(...this.updateFrontPointer(-1));\r\n        }\r\n        animation.push(...this.updateSizePointer(1));\r\n        animation.push({method:this.showText,params:[`Successfully added ${data} to ${front ? \"front\" : \"back\"} of deque.`,Colors.GREEN,],});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return true;\r\n    }\r\n\r\n    addFirst(data) {\r\n        return this.add(data, true);\r\n    }\r\n\r\n    addLast(data) {\r\n        return this.add(data, false);\r\n    }\r\n\r\n    remove(front) {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (this.size === 0) {\r\n            this.updateText(\"Cannot pop empty Deque\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let data = this.backingArray[front ? this.frontPointerValue : this.getIndex(this.frontPointerValue + this.size - 1)].value;\r\n        animation.push({method:this.showText,params:[`Dequeuing from index ${this.frontPointerValue}.`]});\r\n        animation.push(...this.useFrontPointer(front));\r\n        if (!front) {\r\n            animation.push(...this.useFrontSizePointer(false,false));\r\n            animation.push(...this.useFrontDecrementPointer(false));\r\n        }\r\n        animation.push({method:this.extractElement,params:[front],explanation:`Remove value: ${data} from deque`,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.unmakeElement,noAnim:true,returnsUndoData:true});\r\n        if (front) {\r\n            animation.push(...this.updateFrontPointer(1));\r\n        }\r\n        animation.push(...this.updateSizePointer(-1));\r\n        animation.push({method:this.showText,params:[`Successfully removed ${data} from ${front ? \"front of \" : \"back of\"} deque.`,Colors.GREEN],noAnim:true});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return data;\r\n    }\r\n\r\n    removeFirst() {\r\n        return this.remove(true);\r\n    }\r\n\r\n    removeLast() {\r\n        return this.remove(false);\r\n    }\r\n\r\n    createCopyArray() {\r\n        let animation = [];\r\n        animation.push({method:this.initCopyArray,noAnim:true,explanation:`Deque full, resizing to length ${this.backingArray.length*2}`,isForwardStep:true,});\r\n        animation.push(...this.useFrontPointer(true));\r\n        for (let i = 0; i < this.size; i++) {\r\n            animation.push(...this.addItemToCopy(i));\r\n        }\r\n        animation.push(...this.useCopyArr());\r\n        animation.push(...this.updateFrontPointer(0));\r\n        return animation;\r\n    }\r\n\r\n    initCopyArray() {\r\n        this.copyArray = new Array(this.backingArray.length * 2);\r\n        for (let i = 0; i < this.size; i++) {\r\n            let arrIndex = (i + this.frontPointerValue) % this.backingArray.length;\r\n            let pos = this.getElementPosition(arrIndex);\r\n            this.copyArray[i] = new DequeArrayElement({data: this.backingArray[arrIndex].value, index: i, x:pos[0],y:pos[1],},);\r\n        }\r\n    }\r\n    undo_initCopyArray() {\r\n        this.copyArray = null;\r\n    }\r\n\r\n    addItemToCopy(index) {\r\n        let animation = [];\r\n        // animation.push({method:this.shiftElementToCopyArray,params:[index,...this.getElementPosition(index,true)],customEnd:true,isBackStep:(index === 0),isForwardStep:(index === this.size - 1),customUndoEnd:(index === 0),customRedoEnd:(index === this.size - 1),});\r\n        animation.push({method:this.shiftElementToCopyArray,params:[index,...this.getElementPosition(index,true)],customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n        return animation;\r\n    }\r\n\r\n    shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        let oldX = element.desiredX;\r\n        let oldY = element.desiredY;\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        element.addOnStop((el) => {\r\n            el.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        return [index, oldX, oldY];\r\n    }\r\n    undo_shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        if (true || index === 0) {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n                this.stopDrawing(stopID);\r\n            });\r\n        } else {\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n            });\r\n        }\r\n    }\r\n    redo_shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        if (true || index === this.size - 1) {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n                this.stopDrawing(stopID);\r\n            });\r\n        } else {\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n            });\r\n        }\r\n    }\r\n\r\n    useCopyArr() {\r\n        let animation = [];\r\n        animation.push({method:this.assignCopyArray,noAnim:true,isBackStep:true,customUndoEnd:true,returnsUndoData:true});\r\n        for (let i = 0; i < this.size; i++) {\r\n            animation.push({method:this.shiftElementToBackingArray,params:[i,],noAnim:true,isForwardStep:(i === this.size - 1),customUndoEnd:true,customRedoEnd:true});\r\n        }\r\n        animation.push({method:this.noAction,noAnim:true,isBackStep:true});\r\n        return animation;\r\n    }\r\n\r\n    assignCopyArray() {\r\n        let oldBacking = this.backingArray;\r\n        this.backingArray = this.copyArray;\r\n        this.copyArray = null;\r\n        return [oldBacking];\r\n    }\r\n    undo_assignCopyArray(oldBacking) {\r\n        this.copyArray = this.backingArray;\r\n        this.backingArray = oldBacking;\r\n    }\r\n\r\n    shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(element.index));\r\n    }\r\n    undo_shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(index,true));\r\n        if (index === 0) {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            element.addOnStop((el) => {\r\n                this.stopDrawing(stopID);\r\n            })\r\n        }\r\n    }\r\n    redo_shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(element.index));\r\n        if (index === this.size - 1) {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            element.addOnStop((el) => {\r\n                this.stopDrawing(stopID);\r\n            })\r\n        }\r\n    }\r\n\r\n    createElement(data, front) {\r\n        this.tempElement = new DequeArrayElement({data: data, index: this.getIndex(front ? this.frontPointerValue - 1 : this.frontPointerValue + this.size), x:45,y:45,},);\r\n        return [this.tempElement];\r\n    }\r\n    undo_createElement() {\r\n        this.tempElement = null;\r\n    }\r\n    redo_createElement(newTemp) {\r\n        this.tempElement = newTemp;\r\n        this.tempElement.goTo(45,45);\r\n    }\r\n\r\n    useSizePointer() {\r\n        let animation = [];\r\n        animation.push({method:this.sizePointerHighlighter.highlight,scope:this.sizePointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.moveSizeTracker,customEnd:true,explanation:`Size points to index |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.sizePointerHighlighter.unhighlight,scope:this.sizePointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.sizePointerHighlighter.goTo,scope:this.sizePointerHighlighter,params:[DequeArray.SIZE_LOCATION_X,DequeArray.SIZE_LOCATION_Y,],noAnim:true,returnsUndoData:true});\r\n        return animation;\r\n    }\r\n\r\n    // moveSizeTracker() {\r\n    //     let pos = this.getElementPosition(this.size);\r\n    //     this.sizePointerHighlighter.highlight();\r\n    //     this.sizePointerHighlighter.shift(pos[0], pos[1] + DequeArray.ELEMENT_SIZE);\r\n    //     this.sizePointerHighlighter.addOnStop((element) => {\r\n    //         element.unhighlight();\r\n    //         this.doneAnimating(0);\r\n    //     });\r\n    //     return this.size;\r\n    // }\r\n    // undo_moveSizeTracker() {\r\n    //     this.sizePointerHighlighter.shift(DequeArray.SIZE_LOCATION_X,DequeArray.SIZE_LOCATION_Y);\r\n    //     this.sizePointerHighlighter.highlight();\r\n    //     let stopID = ++this.stopID;console.log(stopID);\r\n    //     this.sizePointerHighlighter.addOnStop((element) => {\r\n    //         element.unhighlight();\r\n    //         this.stopDrawing(stopID);\r\n    //     });\r\n    //     return this.size;\r\n    // }\r\n    // redo_moveSizeTracker() {\r\n    //     let pos = this.getElementPosition(this.size);\r\n    //     this.sizePointerHighlighter.highlight();\r\n    //     this.sizePointerHighlighter.shift(pos[0], pos[1] + DequeArray.ELEMENT_SIZE);\r\n    //     let stopID = ++this.stopID;console.log(stopID);\r\n    //     this.sizePointerHighlighter.addOnStop((element) => {\r\n    //         element.unhighlight();\r\n    //         this.stopDrawing(stopID);\r\n    //     });\r\n    //     return this.size;\r\n    // }\r\n\r\n    highlightTemp(color = Colors.BLUE) {\r\n        this.tempElement.highlight(color);\r\n    }\r\n    undo_highlightTemp() {\r\n        this.tempElement.unhighlight();\r\n    }\r\n\r\n    insertElement() {\r\n        let index = this.tempElement.index;\r\n        this.backingArray[index] = this.tempElement;\r\n        this.highlightTemp();\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        let oldTemp = this.tempElement;\r\n        this.tempElement = null;\r\n        return [oldTemp];\r\n    }\r\n    undo_insertElement(oldTemp) {\r\n        this.tempElement = oldTemp;\r\n        let index = this.tempElement.index;\r\n        this.highlightTemp();\r\n        this.tempElement.shift(45,45);\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.backingArray[index] = null;\r\n    }\r\n    redo_insertElement() {\r\n        let index = this.tempElement.index;\r\n        this.backingArray[index] = this.tempElement;\r\n        this.highlightTemp();\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        console.log(stopID);\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempElement = null;\r\n    }\r\n\r\n    useFrontPointer(end = false) {\r\n        let animation = [];\r\n        animation.push({method:this.frontPointerHighlighter.highlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.moveFrontTracker,params:[0,false],customEnd:true,explanation:`Front points to index |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.frontPointerHighlighter.unhighlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        if (end) {\r\n            animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[DequeArray.FRONT_LOCATION_X,DequeArray.FRONT_LOCATION_Y,],noAnim:true,returnsUndoData:true,});\r\n        }\r\n        return animation;\r\n    }\r\n    useFrontDecrementPointer(add) {\r\n        let animation = [];\r\n        // animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[...this.getElementPosition(this.frontPointerValue)],noAnim:true,returnsUndoData:true,});\r\n        animation.push({method:this.frontPointerHighlighter.highlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.moveFrontTracker,params:[-1,!add],customEnd:true,explanation:`${add ? \"Add at\" : \"Remove from\"} index (front${add ? \" \" : \" + size \"}- 1) % backingArray.length = |RETURN|`,explanationUsesReturn:true,isForwardStep:true,isBackStep:add,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.frontPointerHighlighter.unhighlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[DequeArray.FRONT_LOCATION_X,DequeArray.FRONT_LOCATION_Y,],noAnim:true,returnsUndoData:true,});\r\n        return animation;\r\n    }\r\n    useFrontSizePointer(add, end = true) {\r\n        let animation = [];\r\n        // animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[...this.getElementPosition(this.frontPointerValue)],noAnim:true,returnsUndoData:true,});\r\n        animation.push({method:this.frontPointerHighlighter.highlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.moveFrontTracker,params:[0,true],customEnd:true,explanation:`${add ? \"Add at\" : \"Remove from\"} index (front + size${add ? \"\" : \" - 1\"}) % backingArray.length = |RETURN|`,explanationUsesReturn:true,isForwardStep:end,isBackStep:true,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.frontPointerHighlighter.unhighlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        if (end) {\r\n            animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[DequeArray.FRONT_LOCATION_X,DequeArray.FRONT_LOCATION_Y,],noAnim:true,returnsUndoData:true,});\r\n        }\r\n        return animation;\r\n    }\r\n\r\n    moveFrontTracker(offset, fromSize) {\r\n        let oldX = this.frontPointerHighlighter.desiredX;\r\n        let oldY = this.frontPointerHighlighter.desiredY;\r\n        let index = this.getIndex(this.frontPointerValue + offset + (fromSize ? this.size : 0));\r\n        let pos = this.getElementPosition(index);\r\n        this.frontPointerHighlighter.highlight();\r\n        this.frontPointerHighlighter.shift(pos[0], pos[1] + DequeArray.ELEMENT_SIZE);\r\n        this.frontPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        return [index, [oldX,oldY]];\r\n    }\r\n    undo_moveFrontTracker(oldX,oldY) {\r\n        this.frontPointerHighlighter.highlight();\r\n        this.frontPointerHighlighter.shift(oldX, oldY);\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        this.frontPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n    redo_moveFrontTracker(offset, fromSize) {\r\n        let index = this.getIndex(this.frontPointerValue + offset + (fromSize ? this.size : 0));\r\n        let pos = this.getElementPosition(index);\r\n        this.frontPointerHighlighter.highlight();\r\n        this.frontPointerHighlighter.shift(pos[0], pos[1] + DequeArray.ELEMENT_SIZE);\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        this.frontPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n\r\n    extractElement(front) {\r\n        let index = this.getIndex(this.frontPointerValue + (front ? 0 : this.size - 1));\r\n        this.tempElement = this.backingArray[index];\r\n        this.backingArray[index] = null;\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(45,45);\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n    undo_extractElement(front) {\r\n        let index = this.getIndex(this.frontPointerValue + (front ? 0 : this.size - 1));\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.backingArray[index] = this.tempElement;\r\n        this.tempElement = null;\r\n    }\r\n    redo_extractElement(front) {\r\n        let index = this.getIndex(this.frontPointerValue + (front ? 0 : this.size - 1));\r\n        this.tempElement = this.backingArray[index];\r\n        this.backingArray[index] = null;\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(45,45);\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n\r\n    unmakeElement() {\r\n        let oldTemp = this.tempElement;\r\n        this.tempElement = null;\r\n        return [oldTemp];\r\n    }\r\n    undo_unmakeElement(oldTemp) {\r\n        this.tempElement = oldTemp;\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n    undo_sizeIncr() {\r\n        this.size--;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n    undo_sizeDecr() {\r\n        this.size++;\r\n    }\r\n\r\n    updateFrontPointer(offset) {\r\n        let animation = [];\r\n        animation.push({method:this.frontPointerHighlighter.highlight,scope:this.frontPointerHighlighter,params:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],isForwardStep:false,});\r\n        animation.push({method:this.changeFrontPointerValue,params:[offset],explanation:`Update front pointer to |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,returnsUndoData:true,});\r\n        animation.push({method:this.frontPointerHighlighter.unhighlight,scope:this.frontPointerHighlighter,noAnim:true,isBackStep:false,undoData:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],});\r\n        return animation;\r\n    }\r\n\r\n    changeFrontPointerValue(offset) {\r\n        let oldFront = this.frontPointerValue;\r\n        if (offset === 0) {\r\n            this.frontPointerValue = 0;\r\n        } else {\r\n            this.frontPointerValue = this.getIndex(this.frontPointerValue + offset);\r\n        }\r\n        return [this.frontPointerValue,[oldFront]];\r\n    }\r\n    undo_changeFrontPointerValue(oldFront) {\r\n        this.frontPointerValue = oldFront;\r\n        return this.frontPointerValue;\r\n    }\r\n\r\n    updateSizePointer(offset) {\r\n        let animation = [];\r\n        animation.push({method:this.sizePointerHighlighter.highlight,scope:this.sizePointerHighlighter,params:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],isForwardStep:false,});\r\n        animation.push({method:this.changeSizePointerValue,params:[offset],explanation:`Update size to |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,returnsUndoData:true,});\r\n        animation.push({method:this.sizePointerHighlighter.unhighlight,scope:this.sizePointerHighlighter,noAnim:true,isBackStep:false,undoData:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],});\r\n        return animation;\r\n    }\r\n\r\n    changeSizePointerValue(offset) {\r\n        let oldSize = this.size;\r\n        this.size += offset;\r\n        return [this.size,[oldSize]];\r\n    }\r\n    undo_changeSizePointerValue(oldSize) {\r\n        this.size = oldSize;\r\n        return this.size;\r\n    }\r\n\r\n\r\n    getIndex(index, copy = false) {\r\n        let array = copy ? this.copyArray : this.backingArray;\r\n        index %= array.length;\r\n        if (index < 0) {\r\n            index += array.length;\r\n        }\r\n        return index;\r\n    }\r\n\r\n    getElementPosition(index, copy = false) {\r\n        let maxPerRow = Math.floor(this.width / DequeArray.ELEMENT_SIZE);\r\n        let x = DequeArray.ELEMENT_SIZE * index;\r\n        let y = 50 + Math.floor(index / maxPerRow) * 2 * DequeArray.ELEMENT_SIZE;\r\n        x = (index % maxPerRow) * DequeArray.ELEMENT_SIZE;\r\n        return [x + DequeArray.ELEMENT_SIZE/2 + this.x,y + DequeArray.ELEMENT_SIZE/2 + this.y + (copy ? (Math.ceil(this.backingArray.length / maxPerRow)*DequeArray.ELEMENT_SIZE*2) : 0)];\r\n    }\r\n\r\n    updateElement(element, animationSpeed, p5) {\r\n        if (element) {\r\n            element.update(animationSpeed, p5);\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            for (let i = 0; i < this.backingArray.length; i++) {\r\n                this.updateElement(this.backingArray[i], animationSpeed, p5);\r\n            }\r\n            if (this.copyArray) {\r\n                for (let i = 0; i < this.copyArray.length; i++) {\r\n                    this.updateElement(this.copyArray[i], animationSpeed, p5);\r\n                }\r\n            }\r\n            if (this.tempElement) {\r\n                this.updateElement(this.tempElement, animationSpeed, p5);\r\n            }\r\n            this.frontPointerHighlighter.update(animationSpeed, p5);\r\n            this.sizePointerHighlighter.update(animationSpeed, p5);\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        super.draw(p5);\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_SIZE/3 - 2);\r\n\r\n        p5.fill(0);\r\n        p5.text(\"Front: \", DequeArray.FRONT_LOCATION_X - 50, DequeArray.FRONT_LOCATION_Y, DequeArray.ELEMENT_SIZE);\r\n        p5.text(this.frontPointerValue.toString(), DequeArray.FRONT_LOCATION_X-25, DequeArray.FRONT_LOCATION_Y, DequeArray.ELEMENT_SIZE);\r\n        p5.text(\"Size: \", DequeArray.SIZE_LOCATION_X - 50, DequeArray.SIZE_LOCATION_Y, DequeArray.ELEMENT_SIZE);\r\n        p5.text(this.size.toString(), DequeArray.SIZE_LOCATION_X-25, DequeArray.SIZE_LOCATION_Y, DequeArray.ELEMENT_SIZE);\r\n\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i]) {\r\n                this.backingArray[i].draw(p5);\r\n            }\r\n            let pos = this.getElementPosition(i);\r\n            p5.noFill();\r\n            p5.stroke(0);\r\n            p5.square(pos[0] - DequeArray.ELEMENT_SIZE/2,pos[1] - DequeArray.ELEMENT_SIZE/2, DequeArray.ELEMENT_SIZE);\r\n            p5.fill(...Colors.BLUE);\r\n            p5.stroke(...Colors.BLUE);\r\n            p5.text(i.toString(), pos[0] - DequeArray.ELEMENT_SIZE/2,pos[1] + DequeArray.ELEMENT_SIZE/2, DequeArray.ELEMENT_SIZE, DequeArray.ELEMENT_SIZE);\r\n        }\r\n\r\n        if (this.copyArray) {\r\n            for (let i = 0; i < this.copyArray.length; i++) {\r\n                if (this.copyArray[i]) {\r\n                    this.copyArray[i].draw(p5);\r\n                }\r\n                let pos = this.getElementPosition(i, true);\r\n                p5.noFill();\r\n                p5.stroke(0);\r\n                p5.square(pos[0] - DequeArray.ELEMENT_SIZE/2,pos[1] - DequeArray.ELEMENT_SIZE/2, DequeArray.ELEMENT_SIZE);\r\n                p5.fill(...Colors.BLUE);\r\n                p5.stroke(...Colors.BLUE);\r\n                p5.text(i.toString(), pos[0] - DequeArray.ELEMENT_SIZE/2,pos[1] + DequeArray.ELEMENT_SIZE/2, DequeArray.ELEMENT_SIZE, DequeArray.ELEMENT_SIZE);\r\n            }\r\n        }\r\n        if (this.tempElement) {\r\n            this.tempElement.draw(p5);\r\n        }\r\n        this.frontPointerHighlighter.draw(p5);\r\n        this.sizePointerHighlighter.draw(p5);\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, (this.copyArray ? this.getElementPosition(this.copyArray.length-1, true)[1] : this.getElementPosition(this.backingArray.length-1)[1]) + DequeArray.ELEMENT_SIZE, () => {\r\n            for (let i = 0; i < this.backingArray.length; i++) {\r\n                if (this.backingArray[i]) {\r\n                    this.backingArray[i].shift(...this.getElementPosition(i));\r\n                }\r\n            }\r\n            if (this.copyArray) {\r\n                for (let i = 0; i < this.copyArray.length; i++) {\r\n                    if (this.copyArray[i]) {\r\n                        this.copyArray[i].shift(...this.getElementPosition(i,true));\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\nclass DequeArrayElement extends AttractedHighlightableObject {\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        // this.highlightInnerRadius = DequeArray.ELEMENT_SIZE/2 - 5;\r\n        this.highlightOuterRadius = DequeArray.ELEMENT_SIZE/2;\r\n\r\n        this.value = data;\r\n        this.index = index;\r\n\r\n        this.toDelete = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    highlightForMovement() {\r\n        super.highlight(Colors.BLUE);\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        super.highlight(Colors.RED);\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5);\r\n    }\r\n\r\n    drawValue(p5) {\r\n        p5.push();\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.stroke(...this.color);\r\n        p5.text(this.value.toString(), this.currentX - DequeArray.ELEMENT_SIZE/2,this.currentY - DequeArray.ELEMENT_SIZE/2, DequeArray.ELEMENT_SIZE, DequeArray.ELEMENT_SIZE);\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nimport { AttractedDraggableObject } from 'animation';\r\nimport { Utils, Colors } from 'utils';\r\n\r\nexport default class DequeLinkedList extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static CAN_DRAG = true;\r\n    static SUPPORTS_NO_LOOP = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n    static SUPPORTS_TEXT = true;\r\n    static SUPPORTS_ANIMATION_CONTROL = true;\r\n    static SUPPORTS_STOP_ID = true;\r\n\r\n    static ELEMENT_HEIGHT = 35;\r\n    static ELEMENT_WIDTH = 50;\r\n    static POINTER_WIDTH = 15;\r\n    static ITEM_WIDTH = DequeLinkedList.ELEMENT_WIDTH + 2 * DequeLinkedList.POINTER_WIDTH;\r\n    static SPACING = 50;\r\n    static ELEMENT_SIZE = DequeLinkedList.ITEM_WIDTH + DequeLinkedList.SPACING;\r\n\r\n    static HEAD_TAIL_SIZE = 35;\r\n    static HEAD_TAIL_X = 130;\r\n\r\n\r\n    constructor(animator) {\r\n        super(animator);\r\n\r\n        this.reset();\r\n        this.made = true;\r\n    }\r\n\r\n    reset() {\r\n        super.reset();\r\n        if (this.made) {\r\n            this.beginDrawLoop();\r\n        }\r\n\r\n        this.head = null;\r\n        this.tail = null;\r\n        this.size = 0;\r\n        this.nodes = [];\r\n        this.tempNode = null;\r\n        this.pinnedNode = null;\r\n\r\n        this.resizing = false;\r\n        if (this.made) {\r\n            this.endDrawLoop();\r\n        }\r\n    }\r\n\r\n    ensureDrawn(skipDraw = false) {\r\n        this.beginDrawLoop();\r\n        let maxNode = this.tempNode || this.head;\r\n        let curr = this.head;\r\n        while (curr) {\r\n            if (curr.displacement() > maxNode.displacement()) {\r\n                maxNode = curr;\r\n            }\r\n            curr = curr.next;\r\n        }\r\n        if (maxNode && maxNode.displacement() > 0) {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            maxNode.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n            if (skipDraw) {\r\n                let curr = this.head;\r\n                while (curr) {\r\n                    curr.stop();\r\n                    curr = curr.next;\r\n                }\r\n                if (this.tempNode) {\r\n                    this.tempNode.stop();\r\n                }\r\n            }\r\n        } else {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            this.stopDrawing(stopID);\r\n        }\r\n    }\r\n\r\n\r\n    add(data,front) {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot add null to Deque.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        animation.push({method:this.makeNode,params:[data,front],explanation:`Create value: ${data}`,isAnimationStep:true,returnsRedoData:true,});\r\n        if (this.size > 0) {\r\n            if (front) {\r\n                animation.push({method:this.setTempNodeBeforeHead,explanation:`Assign next pointer`,isAnimationStep:true,});\r\n                animation.push({method:this.setHeadAfterTempNode,explanation:`Assign prev pointer`,isAnimationStep:true,});\r\n                animation.push({method:this.shiftHeadForNode,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n            } else {\r\n                animation.push({method:this.setTempNodeAfterTail,explanation:`Assign next pointer`,isAnimationStep:true,});\r\n                animation.push({method:this.setTailBeforeTempNode,explanation:`Assign prev pointer`,isAnimationStep:true,});\r\n            }\r\n        }\r\n        animation.push({method:this.insertTempNode,params:[front],explanation:`Reset ${front ? \"head\" : \"tail\"} pointer`,quick:true,isAnimationStep:true,returnsUndoData:true,});\r\n        if (front) {\r\n            animation.push({method:this.shiftNewHead,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        } else {\r\n            animation.push({method:this.shiftNewTail,customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        }\r\n        animation.push({method:this.sizeIncr,noAnim:true,});\r\n        animation.push({method:this.showText,params:[`Successfully added ${data} to ${front ? \"front\" : \"back\"} of deque.`, Colors.GREEN],noAnim:true,});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return true;\r\n    }\r\n\r\n    addFirst(data) {\r\n        return this.add(data,true);\r\n    }\r\n\r\n    addLast(data) {\r\n        return this.add(data,false);\r\n    }\r\n\r\n    remove(front) {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (this.size === 0) {\r\n            this.updateText(\"Cannot dedeque empty Deque\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let data = (front ? this.head : this.tail).data;\r\n        animation.push({method:this.markNodeForDeletion,params:[front],quick:true,});\r\n        animation.push({method:this.unmakeNode,params:[front],explanation:`Extract data`,customEnd:true,isForwardStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        if (front && this.size > 1) {\r\n            animation.push({method:this.shiftIntoNode,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        }\r\n        animation.push({method:this.skipTempNode,params:[front],explanation:`Reset ${front ? \"head\" : \"tail\"} pointer`,quick:true,isBackStep:true,returnsUndoData:true,});\r\n        animation.push({method:this.sizeDecr,noAnim:true,});\r\n        animation.push({method:this.showText,params:[`Successfully removed ${data} from ${front ? \"front of \" : \"back of\"} deque.`, Colors.GREEN],noAnim:true,});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return data;\r\n    }\r\n\r\n    removeFirst() {\r\n        return this.remove(true);\r\n    }\r\n\r\n    removeLast() {\r\n        return this.remove(false);\r\n    }\r\n\r\n    makeNode(data,front) {\r\n        this.tempNode = new DequeLinkedListNode({data: data, index: front ? 0 : this.size, x:20,y:20,});\r\n        return [this.tempNode];\r\n    }\r\n    undo_makeNode(data) {\r\n        this.tempNode = null;\r\n    }\r\n    redo_makeNode(newTemp) {\r\n        this.tempNode = newTemp;\r\n    }\r\n\r\n    setTempNodeBeforeHead() {\r\n        this.tempNode.next = this.head;\r\n    }\r\n    undo_setTempNodeBeforeHead() {\r\n        this.tempNode.next = null;\r\n    }\r\n\r\n    setHeadAfterTempNode() {\r\n        this.head.prev = this.tempNode;\r\n    }\r\n    undo_setHeadAfterTempNode() {\r\n        this.head.prev = null;\r\n    }\r\n\r\n    setTempNodeAfterTail() {\r\n        this.tail.next = this.tempNode;\r\n    }\r\n    undo_setTempNodeAfterTail() {\r\n        this.tail.next = null;\r\n    }\r\n\r\n    setTailBeforeTempNode() {\r\n        this.tempNode.prev = this.tail;\r\n    }\r\n    undo_setTailBeforeTempNode() {\r\n        this.tempNode.prev = null;\r\n    }\r\n\r\n    insertTempNode(atHead) {\r\n        let oldTail = this.tail;\r\n        if (atHead) {\r\n            this.nodes.splice(0, 0, this.tempNode);\r\n            if (!oldTail) {\r\n                this.tail = this.tempNode;\r\n            }\r\n            this.head = this.tempNode;\r\n        } else {\r\n            this.nodes.splice(this.size, 0, this.tempNode);\r\n            this.tail = this.tempNode;\r\n            if (!oldTail) {\r\n                this.head = this.tempNode;\r\n            }\r\n        }\r\n        return [atHead, oldTail];\r\n    }\r\n    undo_insertTempNode(atHead, oldTail) {\r\n        if (atHead) {\r\n            this.head = this.tempNode.next;\r\n            this.nodes.splice(0, 1);\r\n        } else {\r\n            this.tail = oldTail;\r\n            if (!oldTail) {\r\n                this.head = null;\r\n            }\r\n            this.nodes.splice(this.size, 1);\r\n        }\r\n    }\r\n\r\n    shiftNewHead() {\r\n        this.tempNode.shift(...this.getNodePosition(0));\r\n        this.tempNode = null;\r\n    }\r\n    undo_shiftNewHead() {\r\n        this.tempNode = this.nodes[0];\r\n        this.tempNode.shift(20,20);\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n    redo_shiftNewHead() {\r\n        this.tempNode.shift(...this.getNodePosition(0));\r\n        let temp = this.tempNode;\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        temp.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n\r\n    shiftNewTail() {\r\n        this.tempNode.shift(...this.getNodePosition(this.size));\r\n        this.tempNode.addOnStop((element) => {\r\n            this.doneAnimating(0);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n    undo_shiftNewTail() {\r\n        this.tempNode = this.tail;\r\n        this.tempNode.shift(20,20);\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n    redo_shiftNewTail() {\r\n        this.tempNode.shift(...this.getNodePosition(this.size));\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n\r\n    markNodeForDeletion(front) {\r\n        (front ? this.head : this.tail).markForDeletion();\r\n    }\r\n    undo_markNodeForDeletion(front) {\r\n        (front ? this.head : this.tail).unhighlight();\r\n    }\r\n\r\n    unmakeNode(front) {\r\n        this.tempNode = this.nodes.splice(front ? 0 : (this.size - 1), 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        this.tempNode.addOnStop(() => {\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n    undo_unmakeNode(front) {\r\n        this.tempNode.shift(...this.getNodePosition(front ? 0 : (this.size - 1)));\r\n        this.nodes.splice(front ? 0 : (this.size - 1), 0, this.tempNode);\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n    redo_unmakeNode(front) {\r\n        this.tempNode = this.nodes.splice(front ? 0 : (this.size - 1), 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n\r\n    skipTempNode(front) {\r\n        let oldTemp = this.tempNode;\r\n        if (front) {\r\n            this.head = this.head.next;\r\n            this.head.prev = null;\r\n        } else {\r\n            this.tail = this.tail.prev;\r\n            this.tail.next = null;\r\n        }\r\n\r\n        this.tempNode = null;\r\n        return [front,oldTemp]\r\n    }\r\n    undo_skipTempNode(front,oldTemp) {\r\n        this.tempNode = oldTemp;\r\n        if (front) {\r\n            this.tempNode.next = this.head;\r\n            this.head.prev = this.tempNode;\r\n            this.head = this.tempNode;\r\n        } else {\r\n            this.tempNode.prev = this.tail;\r\n            this.tail.next = this.tempNode;\r\n            this.tail = this.tempNode;\r\n        }\r\n        this.tempNode.markForDeletion();\r\n    }\r\n\r\n    shiftHeadForNode() {\r\n        let node = this.head;\r\n        let furthest = node;\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            if (node.displacement() > furthest.displacement()) {\r\n                furthest = node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (furthest) {\r\n            furthest.addOnStop(() => {\r\n                this.doneAnimating(0);\r\n            });\r\n        }\r\n    }\r\n    undo_shiftHeadForNode() {\r\n        let node = this.head;\r\n        let furthest = node;\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            if (node.displacement() > furthest.displacement()) {\r\n                furthest = node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (furthest) {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            furthest.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n        }\r\n    }\r\n    redo_shiftHeadForNode() {\r\n        let node = this.head;\r\n        let furthest = node;\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            if (node.displacement() > furthest.displacement()) {\r\n                furthest = node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (furthest) {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            furthest.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n        }\r\n    }\r\n\r\n    shiftIntoNode() {\r\n        let node = this.head.next;\r\n        let furthest = node;\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            if (node.displacement() > furthest.displacement()) {\r\n                furthest = node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (furthest) {\r\n            furthest.addOnStop((element) => {\r\n                this.doneAnimating(0);\r\n            });\r\n        }\r\n    }\r\n    undo_shiftIntoNode() {\r\n        let node = this.head.next;\r\n        let furthest = node;\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            if (node.displacement() > furthest.displacement()) {\r\n                furthest = node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (furthest) {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            furthest.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n        }\r\n    }\r\n    redo_shiftIntoNode() {\r\n        let node = this.head.next;\r\n        let furthest = node;\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            if (node.displacement() > furthest.displacement()) {\r\n                furthest = node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (furthest) {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            furthest.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n        }\r\n    }\r\n\r\n    shiftNode(node, direction) {\r\n        node.shift(...this.getNodePosition(node.index + direction), direction);\r\n    }\r\n    undo_shiftNode(node, direction) {\r\n        // console.log(\"undo_shiftNode\");\r\n        this.shiftNode(node, -direction);\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n    undo_sizeIncr() {\r\n        this.size--;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n    undo_sizeDecr() {\r\n        this.size++;\r\n    }\r\n\r\n    getNodePosition(index) {\r\n        let maxPerRow = Math.max(1, Math.floor(this.width / DequeLinkedList.ELEMENT_SIZE));\r\n        let x = DequeLinkedList.ELEMENT_SIZE * index;\r\n        let y = 75 + Math.floor(index / maxPerRow) * 2 * DequeLinkedList.ELEMENT_HEIGHT;\r\n        x = (index % maxPerRow) * DequeLinkedList.ELEMENT_SIZE;\r\n        return [x + this.x,y + this.y];\r\n    }\r\n\r\n    getNodeAtPos(x,y) {\r\n        let node = this.head;\r\n        while (node) {\r\n            if (node.containsPos(x,y)) {\r\n                return node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode && this.tempNode.containsPos(x,y)) {\r\n            return this.tempNode;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    getTailY() {\r\n        return this.getNodePosition(this.size)[1] + DequeLinkedList.ELEMENT_HEIGHT + DequeLinkedList.HEAD_TAIL_SIZE;\r\n    }\r\n\r\n    pin(node, x,y) {\r\n        this.pinnedNode = node;\r\n        node.pin(x,y);\r\n    }\r\n\r\n    unpin() {\r\n        this.pinnedNode.unpin();\r\n        this.pinnedNode = null;\r\n    }\r\n\r\n    updateNode(node, animationSpeed, p5) {\r\n        node.update(animationSpeed, p5);\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            let node = this.head;\r\n            while (node) {\r\n                this.updateNode(node, animationSpeed, p5);\r\n                node = node.next;\r\n            }\r\n            if (this.tempNode) {\r\n                this.updateNode(this.tempNode, animationSpeed, p5);\r\n            }\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        // console.log(\"draw\");\r\n        super.draw(p5);\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_WIDTH/3 - 2);\r\n\r\n        p5.noFill();\r\n        p5.stroke(0);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        let headY = 20;\r\n        p5.text(\"Head:\",95-5,headY,DequeLinkedList.HEAD_TAIL_SIZE + 10,DequeLinkedList.HEAD_TAIL_SIZE);\r\n        p5.square(DequeLinkedList.HEAD_TAIL_X,headY,DequeLinkedList.HEAD_TAIL_SIZE);\r\n        if (this.head) {\r\n            p5.stroke(Colors.BLUE);\r\n            p5.fill(Colors.BLUE);\r\n            p5.circle(DequeLinkedList.HEAD_TAIL_X + DequeLinkedList.HEAD_TAIL_SIZE / 2, headY + DequeLinkedList.HEAD_TAIL_SIZE / 2, 5);\r\n            p5.line(DequeLinkedList.HEAD_TAIL_X + DequeLinkedList.HEAD_TAIL_SIZE / 2, headY + DequeLinkedList.HEAD_TAIL_SIZE / 2, this.head.currentX + DequeLinkedList.ITEM_WIDTH / 2, this.head.currentY);\r\n            p5.rect(this.head.currentX + DequeLinkedList.ITEM_WIDTH / 2 - 3, this.head.currentY - 3, 6,6);\r\n        } else {\r\n            p5.line(DequeLinkedList.HEAD_TAIL_X,headY,DequeLinkedList.HEAD_TAIL_X + DequeLinkedList.HEAD_TAIL_SIZE,headY + DequeLinkedList.HEAD_TAIL_SIZE);\r\n        }\r\n        p5.noFill();\r\n        p5.stroke(0);\r\n        let tailY = this.getTailY();\r\n        p5.text(\"Tail:\",95,tailY,DequeLinkedList.HEAD_TAIL_SIZE,DequeLinkedList.HEAD_TAIL_SIZE);\r\n        p5.square(DequeLinkedList.HEAD_TAIL_X,tailY,DequeLinkedList.HEAD_TAIL_SIZE);\r\n        if (this.tail) {\r\n            p5.stroke(Colors.BLUE);\r\n            p5.fill(Colors.BLUE);\r\n            p5.circle(DequeLinkedList.HEAD_TAIL_X + DequeLinkedList.HEAD_TAIL_SIZE / 2, tailY + DequeLinkedList.HEAD_TAIL_SIZE / 2, 5);\r\n            p5.line(DequeLinkedList.HEAD_TAIL_X + DequeLinkedList.HEAD_TAIL_SIZE / 2, tailY + DequeLinkedList.HEAD_TAIL_SIZE / 2, this.tail.currentX + DequeLinkedList.ITEM_WIDTH / 2, this.tail.currentY + DequeLinkedList.ELEMENT_HEIGHT);\r\n            p5.rect(this.tail.currentX + DequeLinkedList.ITEM_WIDTH / 2 - 3, this.tail.currentY + DequeLinkedList.ELEMENT_HEIGHT - 3, 6,6);\r\n        } else {\r\n            p5.line(DequeLinkedList.HEAD_TAIL_X,tailY,DequeLinkedList.HEAD_TAIL_X + DequeLinkedList.HEAD_TAIL_SIZE,tailY + DequeLinkedList.HEAD_TAIL_SIZE);\r\n        }\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.draw(p5, node.next === this.head);\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode) {\r\n            this.tempNode.draw(p5);\r\n        }\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    mousePressed(p5) {\r\n        // this.drawingBeforeMouseDown = this.drawing;\r\n        let pressedNode = this.getNodeAtPos(p5.mouseX, p5.mouseY);\r\n        if (pressedNode) {\r\n            this.animator.loop();\r\n            this.pin(pressedNode, p5.mouseX,p5.mouseY);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    mouseReleased(p5) {\r\n        if (this.pinnedNode) {\r\n            this.pinnedNode.addOnStop(() => {\r\n                this.ensureDrawn();\r\n            });\r\n            this.unpin();\r\n        } else {\r\n            // this.ensureDrawn();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, this.getTailY() + DequeLinkedList.HEAD_TAIL_SIZE + 20,() => {\r\n            let shiftTemp = this.tempNode && this.tempNode.desiredX === 20 && this.tempNode.desiredY === 20;\r\n            let node = this.head;\r\n            while (node) {\r\n                node.shift(...this.getNodePosition(node.index));\r\n                node = node.next;\r\n            }\r\n            if (shiftTemp) {\r\n                this.tempNode.shift(20,20);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\nclass DequeLinkedListNode extends AttractedDraggableObject {\r\n    static CAN_DRAG = true;\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        this.data = data;\r\n        this.index = index;\r\n        this.next = null;\r\n        this.prev = null;\r\n\r\n        this.toDelete = false;\r\n        this.handBroken = false;\r\n        this.frozen = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    containsPos(x,y) {\r\n        return ((this.currentX <= x && x <= (this.currentX + DequeLinkedList.ITEM_WIDTH)) && (this.currentY <= y && y <= (this.currentY + DequeLinkedList.ELEMENT_HEIGHT)))\r\n    }\r\n\r\n    highlight() {\r\n        this.color = [255,165,0];\r\n    }\r\n\r\n    unhighlight() {\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        this.color[0] = 255;\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    draw(p5) {\r\n        p5.push();\r\n        p5.fill(255);\r\n        p5.stroke(...this.color);\r\n        p5.rect(this.currentX, this.currentY, DequeLinkedList.ITEM_WIDTH, DequeLinkedList.ELEMENT_HEIGHT);\r\n        p5.line(this.currentX + DequeLinkedList.POINTER_WIDTH, this.currentY, this.currentX + DequeLinkedList.POINTER_WIDTH, this.currentY + DequeLinkedList.ELEMENT_HEIGHT);\r\n        p5.line(this.currentX + DequeLinkedList.POINTER_WIDTH + DequeLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + DequeLinkedList.POINTER_WIDTH + DequeLinkedList.ELEMENT_WIDTH, this.currentY + DequeLinkedList.ELEMENT_HEIGHT);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.text(this.data.toString(), this.currentX + DequeLinkedList.POINTER_WIDTH,this.currentY, DequeLinkedList.ELEMENT_WIDTH,DequeLinkedList.ELEMENT_HEIGHT);\r\n        if (this.prev) {\r\n            p5.stroke(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.fill(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.circle(this.currentX + DequeLinkedList.POINTER_WIDTH / 2, this.currentY + DequeLinkedList.ELEMENT_HEIGHT *2/3, 5);\r\n            p5.line(this.currentX + DequeLinkedList.POINTER_WIDTH / 2, this.currentY + DequeLinkedList.ELEMENT_HEIGHT *2/3, this.prev.currentX + DequeLinkedList.ITEM_WIDTH, this.prev.currentY + DequeLinkedList.ELEMENT_HEIGHT *2/3)\r\n            p5.rect(this.prev.currentX + DequeLinkedList.ITEM_WIDTH - 3, this.prev.currentY + DequeLinkedList.ELEMENT_HEIGHT *2/3 - 3, 6,6);\r\n        } else {\r\n            p5.line(this.currentX, this.currentY, this.currentX + DequeLinkedList.POINTER_WIDTH, this.currentY + DequeLinkedList.ELEMENT_HEIGHT);\r\n        }\r\n        if (this.next) {\r\n            p5.stroke(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.fill(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.circle(this.currentX + DequeLinkedList.ITEM_WIDTH - DequeLinkedList.POINTER_WIDTH / 2, this.currentY + DequeLinkedList.ELEMENT_HEIGHT / 3, 5);\r\n            p5.line(this.currentX + DequeLinkedList.ITEM_WIDTH - DequeLinkedList.POINTER_WIDTH / 2, this.currentY + DequeLinkedList.ELEMENT_HEIGHT / 3, this.next.currentX, this.next.currentY + DequeLinkedList.ELEMENT_HEIGHT / 3)\r\n            p5.rect(this.next.currentX - 3, this.next.currentY + DequeLinkedList.ELEMENT_HEIGHT / 3 - 3, 6,6);\r\n        } else {\r\n            p5.stroke(...this.color);\r\n            p5.line(this.currentX + DequeLinkedList.POINTER_WIDTH + DequeLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + DequeLinkedList.ITEM_WIDTH, this.currentY + DequeLinkedList.ELEMENT_HEIGHT);\r\n        }\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class BST extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nimport { AttractedHighlightableObject } from 'animation';\r\nimport { Colors } from 'utils';\r\n\r\nexport default class Heap extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static SUPPORTS_NO_LOOP = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n    static SUPPORTS_TEXT = true;\r\n    static SUPPORTS_ANIMATION_CONTROL = true;\r\n    static SUPPORTS_STOP_ID = true;\r\n\r\n    static INITIAL_CAPACITY = 9;\r\n\r\n    static ELEMENT_SIZE = 50;\r\n    static FRONT_LOCATION_X = 125;\r\n    static FRONT_LOCATION_Y = 35;\r\n    static SIZE_LOCATION_X = 125;\r\n    static SIZE_LOCATION_Y = 55;\r\n\r\n    constructor(animator) {\r\n        super(animator);\r\n\r\n        this.reset();\r\n        this.made = true;\r\n    }\r\n\r\n    reset() {\r\n        super.reset();\r\n        if (this.made) {\r\n            this.beginDrawLoop();\r\n        }\r\n\r\n        this.backingArray = new Array(Heap.INITIAL_CAPACITY);\r\n        this.size = 0;\r\n        this.copyArray = null;\r\n        this.tempElement = null;\r\n        this.frontPointerValue = 0;\r\n        this.frontPointerHighlighter = new AttractedHighlightableObject(Heap.FRONT_LOCATION_X, Heap.FRONT_LOCATION_Y, {\r\n            highlightOuterRadius: 15\r\n        });\r\n        this.sizePointerHighlighter = new AttractedHighlightableObject(Heap.SIZE_LOCATION_X, Heap.SIZE_LOCATION_Y, {\r\n            highlightOuterRadius: 15\r\n        });\r\n\r\n        if (this.made) {\r\n            // this.updateText(\"Animation Ready\");\r\n            this.endDrawLoop();\r\n        }\r\n    }\r\n\r\n    ensureDrawn(skipDraw = false) {\r\n        this.beginDrawLoop();\r\n        let furthestObject = this.tempElement || this.frontPointerHighlighter;\r\n        if (this.frontPointerHighlighter.displacement() > furthestObject.displacement()) {\r\n            furthestObject = this.frontPointerHighlighter;\r\n        }\r\n        if (this.sizePointerHighlighter.displacement() > furthestObject.displacement()) {\r\n            furthestObject = this.sizePointerHighlighter;\r\n        }\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i] && this.backingArray[i].displacement() > furthestObject.displacement()) {\r\n                furthestObject = this.backingArray[i];\r\n            }\r\n        }\r\n        if (this.copyArray) {\r\n            for (let i = 0; i < this.copyArray.length; i++) {\r\n                if (this.copyArray[i] && this.copyArray[i].displacement() > furthestObject.displacement()) {\r\n                    furthestObject = this.copyArray[i];\r\n                }\r\n            }\r\n        }\r\n        if (furthestObject.displacement() > 0) {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            furthestObject.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n            if (skipDraw) {\r\n                if (this.tempElement) {\r\n                    this.tempElement.stop();\r\n                }\r\n                this.frontPointerHighlighter.stop();\r\n                this.sizePointerHighlighter.stop();\r\n                for (let i = 0; i < this.backingArray.length; i++) {\r\n                    if (this.backingArray[i]) {\r\n                        this.backingArray[i].stop();\r\n                    }\r\n                }\r\n                if (this.copyArray) {\r\n                    for (let i = 0; i < this.copyArray.length; i++) {\r\n                        if (this.copyArray[i]) {\r\n                            this.copyArray[i].stop();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            this.stopDrawing(stopID);\r\n        }\r\n    }\r\n\r\n\r\n    add(data,front) {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot add null to Deque.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        if (this.size === this.backingArray.length) {\r\n            animation.push({method:this.showText,params:[`Deque full, resizing to length ${this.backingArray.length*2}`,Colors.GREEN,],});\r\n            animation.push(...this.createCopyArray());\r\n        }\r\n        animation.push({method:this.createElement,params:[data,front],explanation:`Create value: ${data}`,isAnimationStep:true,returnsRedoData:true,});\r\n        animation.push(...this.useFrontPointer());\r\n        if (front) {\r\n            animation.push(...this.useFrontDecrementPointer(true));\r\n        } else {\r\n            animation.push(...this.useFrontSizePointer(true));\r\n        }\r\n        animation.push({method:this.highlightTemp,noAnim:true});\r\n        animation.push({method:this.insertElement,customEnd:true,explanation:`Added ${data} to backingArray`,isAnimationStep:true,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true,});\r\n        if (front) {\r\n            // animation.push({method:this.noAction,noAnim:true,isBackStep:true});\r\n            animation.push(...this.updateFrontPointer(-1));\r\n        }\r\n        animation.push(...this.updateSizePointer(1));\r\n        animation.push({method:this.showText,params:[`Successfully added ${data} to ${front ? \"front\" : \"back\"} of deque.`,Colors.GREEN,],});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return true;\r\n    }\r\n\r\n    addFirst(data) {\r\n        return this.add(data, true);\r\n    }\r\n\r\n    addLast(data) {\r\n        return this.add(data, false);\r\n    }\r\n\r\n    remove(front) {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (this.size === 0) {\r\n            this.updateText(\"Cannot pop empty Deque\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let data = this.backingArray[front ? this.frontPointerValue : this.getIndex(this.frontPointerValue + this.size - 1)].value;\r\n        animation.push({method:this.showText,params:[`Dequeuing from index ${this.frontPointerValue}.`]});\r\n        animation.push(...this.useFrontPointer(front));\r\n        if (!front) {\r\n            animation.push(...this.useFrontSizePointer(false,false));\r\n            animation.push(...this.useFrontDecrementPointer(false));\r\n        }\r\n        animation.push({method:this.extractElement,params:[front],explanation:`Remove value: ${data} from deque`,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.unmakeElement,noAnim:true,returnsUndoData:true});\r\n        if (front) {\r\n            animation.push(...this.updateFrontPointer(1));\r\n        }\r\n        animation.push(...this.updateSizePointer(-1));\r\n        animation.push({method:this.showText,params:[`Successfully removed ${data} from ${front ? \"front of \" : \"back of\"} deque.`,Colors.GREEN],noAnim:true});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return data;\r\n    }\r\n\r\n    removeFirst() {\r\n        return this.remove(true);\r\n    }\r\n\r\n    removeLast() {\r\n        return this.remove(false);\r\n    }\r\n\r\n    createCopyArray() {\r\n        let animation = [];\r\n        animation.push({method:this.initCopyArray,noAnim:true,explanation:`Deque full, resizing to length ${this.backingArray.length*2}`,isForwardStep:true,});\r\n        animation.push(...this.useFrontPointer(true));\r\n        for (let i = 0; i < this.size; i++) {\r\n            animation.push(...this.addItemToCopy(i));\r\n        }\r\n        animation.push(...this.useCopyArr());\r\n        animation.push(...this.updateFrontPointer(0));\r\n        return animation;\r\n    }\r\n\r\n    initCopyArray() {\r\n        this.copyArray = new Array(this.backingArray.length * 2);\r\n        for (let i = 0; i < this.size; i++) {\r\n            let arrIndex = (i + this.frontPointerValue) % this.backingArray.length;\r\n            let pos = this.getElementPosition(arrIndex);\r\n            this.copyArray[i] = new HeapElement({data: this.backingArray[arrIndex].value, index: i, x:pos[0],y:pos[1],},);\r\n        }\r\n    }\r\n    undo_initCopyArray() {\r\n        this.copyArray = null;\r\n    }\r\n\r\n    addItemToCopy(index) {\r\n        let animation = [];\r\n        // animation.push({method:this.shiftElementToCopyArray,params:[index,...this.getElementPosition(index,true)],customEnd:true,isBackStep:(index === 0),isForwardStep:(index === this.size - 1),customUndoEnd:(index === 0),customRedoEnd:(index === this.size - 1),});\r\n        animation.push({method:this.shiftElementToCopyArray,params:[index,...this.getElementPosition(index,true)],customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n        return animation;\r\n    }\r\n\r\n    shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        let oldX = element.desiredX;\r\n        let oldY = element.desiredY;\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        element.addOnStop((el) => {\r\n            el.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        return [index, oldX, oldY];\r\n    }\r\n    undo_shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        if (true || index === 0) {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n                this.stopDrawing(stopID);\r\n            });\r\n        } else {\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n            });\r\n        }\r\n    }\r\n    redo_shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        if (true || index === this.size - 1) {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n                this.stopDrawing(stopID);\r\n            });\r\n        } else {\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n            });\r\n        }\r\n    }\r\n\r\n    useCopyArr() {\r\n        let animation = [];\r\n        animation.push({method:this.assignCopyArray,noAnim:true,isBackStep:true,customUndoEnd:true,returnsUndoData:true});\r\n        for (let i = 0; i < this.size; i++) {\r\n            animation.push({method:this.shiftElementToBackingArray,params:[i,],noAnim:true,isForwardStep:(i === this.size - 1),customUndoEnd:true,customRedoEnd:true});\r\n        }\r\n        animation.push({method:this.noAction,noAnim:true,isBackStep:true});\r\n        return animation;\r\n    }\r\n\r\n    assignCopyArray() {\r\n        let oldBacking = this.backingArray;\r\n        this.backingArray = this.copyArray;\r\n        this.copyArray = null;\r\n        return [oldBacking];\r\n    }\r\n    undo_assignCopyArray(oldBacking) {\r\n        this.copyArray = this.backingArray;\r\n        this.backingArray = oldBacking;\r\n    }\r\n\r\n    shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(element.index));\r\n    }\r\n    undo_shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(index,true));\r\n        if (index === 0) {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            element.addOnStop((el) => {\r\n                this.stopDrawing(stopID);\r\n            })\r\n        }\r\n    }\r\n    redo_shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(element.index));\r\n        if (index === this.size - 1) {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            element.addOnStop((el) => {\r\n                this.stopDrawing(stopID);\r\n            })\r\n        }\r\n    }\r\n\r\n    createElement(data, front) {\r\n        this.tempElement = new HeapElement({data: data, index: this.getIndex(front ? this.frontPointerValue - 1 : this.frontPointerValue + this.size), x:45,y:45,},);\r\n        return [this.tempElement];\r\n    }\r\n    undo_createElement() {\r\n        this.tempElement = null;\r\n    }\r\n    redo_createElement(newTemp) {\r\n        this.tempElement = newTemp;\r\n        this.tempElement.goTo(45,45);\r\n    }\r\n\r\n    useSizePointer() {\r\n        let animation = [];\r\n        animation.push({method:this.sizePointerHighlighter.highlight,scope:this.sizePointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.moveSizeTracker,customEnd:true,explanation:`Size points to index |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.sizePointerHighlighter.unhighlight,scope:this.sizePointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.sizePointerHighlighter.goTo,scope:this.sizePointerHighlighter,params:[Heap.SIZE_LOCATION_X,Heap.SIZE_LOCATION_Y,],noAnim:true,returnsUndoData:true});\r\n        return animation;\r\n    }\r\n\r\n    // moveSizeTracker() {\r\n    //     let pos = this.getElementPosition(this.size);\r\n    //     this.sizePointerHighlighter.highlight();\r\n    //     this.sizePointerHighlighter.shift(pos[0], pos[1] + Heap.ELEMENT_SIZE);\r\n    //     this.sizePointerHighlighter.addOnStop((element) => {\r\n    //         element.unhighlight();\r\n    //         this.doneAnimating(0);\r\n    //     });\r\n    //     return this.size;\r\n    // }\r\n    // undo_moveSizeTracker() {\r\n    //     this.sizePointerHighlighter.shift(Heap.SIZE_LOCATION_X,Heap.SIZE_LOCATION_Y);\r\n    //     this.sizePointerHighlighter.highlight();\r\n    //     let stopID = ++this.stopID;console.log(stopID);\r\n    //     this.sizePointerHighlighter.addOnStop((element) => {\r\n    //         element.unhighlight();\r\n    //         this.stopDrawing(stopID);\r\n    //     });\r\n    //     return this.size;\r\n    // }\r\n    // redo_moveSizeTracker() {\r\n    //     let pos = this.getElementPosition(this.size);\r\n    //     this.sizePointerHighlighter.highlight();\r\n    //     this.sizePointerHighlighter.shift(pos[0], pos[1] + Heap.ELEMENT_SIZE);\r\n    //     let stopID = ++this.stopID;console.log(stopID);\r\n    //     this.sizePointerHighlighter.addOnStop((element) => {\r\n    //         element.unhighlight();\r\n    //         this.stopDrawing(stopID);\r\n    //     });\r\n    //     return this.size;\r\n    // }\r\n\r\n    highlightTemp(color = Colors.BLUE) {\r\n        this.tempElement.highlight(color);\r\n    }\r\n    undo_highlightTemp() {\r\n        this.tempElement.unhighlight();\r\n    }\r\n\r\n    insertElement() {\r\n        let index = this.tempElement.index;\r\n        this.backingArray[index] = this.tempElement;\r\n        this.highlightTemp();\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        let oldTemp = this.tempElement;\r\n        this.tempElement = null;\r\n        return [oldTemp];\r\n    }\r\n    undo_insertElement(oldTemp) {\r\n        this.tempElement = oldTemp;\r\n        let index = this.tempElement.index;\r\n        this.highlightTemp();\r\n        this.tempElement.shift(45,45);\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.backingArray[index] = null;\r\n    }\r\n    redo_insertElement() {\r\n        let index = this.tempElement.index;\r\n        this.backingArray[index] = this.tempElement;\r\n        this.highlightTemp();\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        console.log(stopID);\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempElement = null;\r\n    }\r\n\r\n    useFrontPointer(end = false) {\r\n        let animation = [];\r\n        animation.push({method:this.frontPointerHighlighter.highlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.moveFrontTracker,params:[0,false],customEnd:true,explanation:`Front points to index |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.frontPointerHighlighter.unhighlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        if (end) {\r\n            animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[Heap.FRONT_LOCATION_X,Heap.FRONT_LOCATION_Y,],noAnim:true,returnsUndoData:true,});\r\n        }\r\n        return animation;\r\n    }\r\n    useFrontDecrementPointer(add) {\r\n        let animation = [];\r\n        // animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[...this.getElementPosition(this.frontPointerValue)],noAnim:true,returnsUndoData:true,});\r\n        animation.push({method:this.frontPointerHighlighter.highlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.moveFrontTracker,params:[-1,!add],customEnd:true,explanation:`${add ? \"Add at\" : \"Remove from\"} index (front${add ? \" \" : \" + size \"}- 1) % backingArray.length = |RETURN|`,explanationUsesReturn:true,isForwardStep:true,isBackStep:add,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.frontPointerHighlighter.unhighlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[Heap.FRONT_LOCATION_X,Heap.FRONT_LOCATION_Y,],noAnim:true,returnsUndoData:true,});\r\n        return animation;\r\n    }\r\n    useFrontSizePointer(add, end = true) {\r\n        let animation = [];\r\n        // animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[...this.getElementPosition(this.frontPointerValue)],noAnim:true,returnsUndoData:true,});\r\n        animation.push({method:this.frontPointerHighlighter.highlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.moveFrontTracker,params:[0,true],customEnd:true,explanation:`${add ? \"Add at\" : \"Remove from\"} index (front + size${add ? \"\" : \" - 1\"}) % backingArray.length = |RETURN|`,explanationUsesReturn:true,isForwardStep:end,isBackStep:true,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.frontPointerHighlighter.unhighlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        if (end) {\r\n            animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[Heap.FRONT_LOCATION_X,Heap.FRONT_LOCATION_Y,],noAnim:true,returnsUndoData:true,});\r\n        }\r\n        return animation;\r\n    }\r\n\r\n    moveFrontTracker(offset, fromSize) {\r\n        let oldX = this.frontPointerHighlighter.desiredX;\r\n        let oldY = this.frontPointerHighlighter.desiredY;\r\n        let index = this.getIndex(this.frontPointerValue + offset + (fromSize ? this.size : 0));\r\n        let pos = this.getElementPosition(index);\r\n        this.frontPointerHighlighter.highlight();\r\n        this.frontPointerHighlighter.shift(pos[0], pos[1] + Heap.ELEMENT_SIZE);\r\n        this.frontPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        return [index, [oldX,oldY]];\r\n    }\r\n    undo_moveFrontTracker(oldX,oldY) {\r\n        this.frontPointerHighlighter.highlight();\r\n        this.frontPointerHighlighter.shift(oldX, oldY);\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        this.frontPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n    redo_moveFrontTracker(offset, fromSize) {\r\n        let index = this.getIndex(this.frontPointerValue + offset + (fromSize ? this.size : 0));\r\n        let pos = this.getElementPosition(index);\r\n        this.frontPointerHighlighter.highlight();\r\n        this.frontPointerHighlighter.shift(pos[0], pos[1] + Heap.ELEMENT_SIZE);\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        this.frontPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n\r\n    extractElement(front) {\r\n        let index = this.getIndex(this.frontPointerValue + (front ? 0 : this.size - 1));\r\n        this.tempElement = this.backingArray[index];\r\n        this.backingArray[index] = null;\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(45,45);\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n    undo_extractElement(front) {\r\n        let index = this.getIndex(this.frontPointerValue + (front ? 0 : this.size - 1));\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.backingArray[index] = this.tempElement;\r\n        this.tempElement = null;\r\n    }\r\n    redo_extractElement(front) {\r\n        let index = this.getIndex(this.frontPointerValue + (front ? 0 : this.size - 1));\r\n        this.tempElement = this.backingArray[index];\r\n        this.backingArray[index] = null;\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(45,45);\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n\r\n    unmakeElement() {\r\n        let oldTemp = this.tempElement;\r\n        this.tempElement = null;\r\n        return [oldTemp];\r\n    }\r\n    undo_unmakeElement(oldTemp) {\r\n        this.tempElement = oldTemp;\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n    undo_sizeIncr() {\r\n        this.size--;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n    undo_sizeDecr() {\r\n        this.size++;\r\n    }\r\n\r\n    updateFrontPointer(offset) {\r\n        let animation = [];\r\n        animation.push({method:this.frontPointerHighlighter.highlight,scope:this.frontPointerHighlighter,params:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],isForwardStep:false,});\r\n        animation.push({method:this.changeFrontPointerValue,params:[offset],explanation:`Update front pointer to |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,returnsUndoData:true,});\r\n        animation.push({method:this.frontPointerHighlighter.unhighlight,scope:this.frontPointerHighlighter,noAnim:true,isBackStep:false,undoData:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],});\r\n        return animation;\r\n    }\r\n\r\n    changeFrontPointerValue(offset) {\r\n        let oldFront = this.frontPointerValue;\r\n        if (offset === 0) {\r\n            this.frontPointerValue = 0;\r\n        } else {\r\n            this.frontPointerValue = this.getIndex(this.frontPointerValue + offset);\r\n        }\r\n        return [this.frontPointerValue,[oldFront]];\r\n    }\r\n    undo_changeFrontPointerValue(oldFront) {\r\n        this.frontPointerValue = oldFront;\r\n        return this.frontPointerValue;\r\n    }\r\n\r\n    updateSizePointer(offset) {\r\n        let animation = [];\r\n        animation.push({method:this.sizePointerHighlighter.highlight,scope:this.sizePointerHighlighter,params:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],isForwardStep:false,});\r\n        animation.push({method:this.changeSizePointerValue,params:[offset],explanation:`Update size to |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,returnsUndoData:true,});\r\n        animation.push({method:this.sizePointerHighlighter.unhighlight,scope:this.sizePointerHighlighter,noAnim:true,isBackStep:false,undoData:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],});\r\n        return animation;\r\n    }\r\n\r\n    changeSizePointerValue(offset) {\r\n        let oldSize = this.size;\r\n        this.size += offset;\r\n        return [this.size,[oldSize]];\r\n    }\r\n    undo_changeSizePointerValue(oldSize) {\r\n        this.size = oldSize;\r\n        return this.size;\r\n    }\r\n\r\n\r\n    getIndex(index, copy = false) {\r\n        let array = copy ? this.copyArray : this.backingArray;\r\n        index %= array.length;\r\n        if (index < 0) {\r\n            index += array.length;\r\n        }\r\n        return index;\r\n    }\r\n\r\n    getElementPosition(index, copy = false) {\r\n        let maxPerRow = Math.floor(this.width / Heap.ELEMENT_SIZE);\r\n        let x = Heap.ELEMENT_SIZE * index;\r\n        let y = 50 + Math.floor(index / maxPerRow) * 2 * Heap.ELEMENT_SIZE;\r\n        x = (index % maxPerRow) * Heap.ELEMENT_SIZE;\r\n        return [x + Heap.ELEMENT_SIZE/2 + this.x,y + Heap.ELEMENT_SIZE/2 + this.y + (copy ? (Math.ceil(this.backingArray.length / maxPerRow)*Heap.ELEMENT_SIZE*2) : 0)];\r\n    }\r\n\r\n    updateElement(element, animationSpeed, p5) {\r\n        if (element) {\r\n            element.update(animationSpeed, p5);\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            for (let i = 0; i < this.backingArray.length; i++) {\r\n                this.updateElement(this.backingArray[i], animationSpeed, p5);\r\n            }\r\n            if (this.copyArray) {\r\n                for (let i = 0; i < this.copyArray.length; i++) {\r\n                    this.updateElement(this.copyArray[i], animationSpeed, p5);\r\n                }\r\n            }\r\n            if (this.tempElement) {\r\n                this.updateElement(this.tempElement, animationSpeed, p5);\r\n            }\r\n            this.frontPointerHighlighter.update(animationSpeed, p5);\r\n            this.sizePointerHighlighter.update(animationSpeed, p5);\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        super.draw(p5);\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_SIZE/3 - 2);\r\n\r\n        p5.fill(0);\r\n        p5.text(\"Front: \", Heap.FRONT_LOCATION_X - 50, Heap.FRONT_LOCATION_Y, Heap.ELEMENT_SIZE);\r\n        p5.text(this.frontPointerValue.toString(), Heap.FRONT_LOCATION_X-25, Heap.FRONT_LOCATION_Y, Heap.ELEMENT_SIZE);\r\n        p5.text(\"Size: \", Heap.SIZE_LOCATION_X - 50, Heap.SIZE_LOCATION_Y, Heap.ELEMENT_SIZE);\r\n        p5.text(this.size.toString(), Heap.SIZE_LOCATION_X-25, Heap.SIZE_LOCATION_Y, Heap.ELEMENT_SIZE);\r\n\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i]) {\r\n                this.backingArray[i].draw(p5);\r\n            }\r\n            let pos = this.getElementPosition(i);\r\n            p5.noFill();\r\n            p5.stroke(0);\r\n            p5.square(pos[0] - Heap.ELEMENT_SIZE/2,pos[1] - Heap.ELEMENT_SIZE/2, Heap.ELEMENT_SIZE);\r\n            p5.fill(...Colors.BLUE);\r\n            p5.stroke(...Colors.BLUE);\r\n            p5.text(i.toString(), pos[0] - Heap.ELEMENT_SIZE/2,pos[1] + Heap.ELEMENT_SIZE/2, Heap.ELEMENT_SIZE, Heap.ELEMENT_SIZE);\r\n        }\r\n\r\n        if (this.copyArray) {\r\n            for (let i = 0; i < this.copyArray.length; i++) {\r\n                if (this.copyArray[i]) {\r\n                    this.copyArray[i].draw(p5);\r\n                }\r\n                let pos = this.getElementPosition(i, true);\r\n                p5.noFill();\r\n                p5.stroke(0);\r\n                p5.square(pos[0] - Heap.ELEMENT_SIZE/2,pos[1] - Heap.ELEMENT_SIZE/2, Heap.ELEMENT_SIZE);\r\n                p5.fill(...Colors.BLUE);\r\n                p5.stroke(...Colors.BLUE);\r\n                p5.text(i.toString(), pos[0] - Heap.ELEMENT_SIZE/2,pos[1] + Heap.ELEMENT_SIZE/2, Heap.ELEMENT_SIZE, Heap.ELEMENT_SIZE);\r\n            }\r\n        }\r\n        if (this.tempElement) {\r\n            this.tempElement.draw(p5);\r\n        }\r\n        this.frontPointerHighlighter.draw(p5);\r\n        this.sizePointerHighlighter.draw(p5);\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, (this.copyArray ? this.getElementPosition(this.copyArray.length-1, true)[1] : this.getElementPosition(this.backingArray.length-1)[1]) + Heap.ELEMENT_SIZE, () => {\r\n            for (let i = 0; i < this.backingArray.length; i++) {\r\n                if (this.backingArray[i]) {\r\n                    this.backingArray[i].shift(...this.getElementPosition(i));\r\n                }\r\n            }\r\n            if (this.copyArray) {\r\n                for (let i = 0; i < this.copyArray.length; i++) {\r\n                    if (this.copyArray[i]) {\r\n                        this.copyArray[i].shift(...this.getElementPosition(i,true));\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\nclass HeapElement extends AttractedHighlightableObject {\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        // this.highlightInnerRadius = Heap.ELEMENT_SIZE/2 - 5;\r\n        this.highlightOuterRadius = Heap.ELEMENT_SIZE/2;\r\n\r\n        this.value = data;\r\n        this.index = index;\r\n\r\n        this.toDelete = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    highlightForMovement() {\r\n        super.highlight(Colors.BLUE);\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        super.highlight(Colors.RED);\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5);\r\n    }\r\n\r\n    drawValue(p5) {\r\n        p5.push();\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.stroke(...this.color);\r\n        p5.text(this.value.toString(), this.currentX - Heap.ELEMENT_SIZE/2,this.currentY - Heap.ELEMENT_SIZE/2, Heap.ELEMENT_SIZE, Heap.ELEMENT_SIZE);\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class AVL extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class SplayTree extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class BTree extends Visualization {\r\n    \r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class SkipList extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class HashMapProbing extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class HashMapChaining extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class BubbleSort extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class CocktailShakerSort extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class InsertionSort extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class SelectionSort extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class QuickSort extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class QuickSelect extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class MergeSort extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class LSDRadixSort extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class BruteForce extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class BoyerMoore extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class KMP extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class RabinKarp extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class BFS extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class DFS extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class Dijkstras extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class Prims extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class Kruskals extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class LCS extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class FloydWarshall extends Visualization {\r\n\r\n}\r\n","import React, { PureComponent } from 'react';\r\nimport Sketch from 'react-p5';\r\nimport './visualizer.scss';\r\n\r\nimport ControlBar from './controlBar';\r\n\r\nimport { ControlBuilder, Utils } from 'utils';\r\nimport { Animator } from 'animation';\r\n\r\nexport default class Visualizer extends PureComponent {\r\n\r\n    static INITIAL_SPEED = 50;\r\n    static MAX_SPEED = 20;\r\n    static SPEED_SLIDER_DEGREE = 1.5;\r\n\r\n    static maxAnimationSpeed() {\r\n        return Math.pow(Visualizer.MAX_SPEED, Visualizer.SPEED_SLIDER_DEGREE);\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this[this.constructor.ADT_NAME] = null;\r\n\r\n        //INHERIT METHODS FROM VISUALIZATION\r\n        let currConstructor = this.constructor;\r\n        while (currConstructor.VISUALIZATION_METHODS) {\r\n            currConstructor.VISUALIZATION_METHODS.forEach((methodName) => {\r\n                this[methodName] = (...args) => {\r\n                    if (this[this.constructor.ADT_NAME][methodName]) {\r\n                        return this[this.constructor.ADT_NAME][methodName](...args);\r\n                    } else {\r\n                        return console.log(this[this.constructor.ADT_NAME], methodName, ...args);\r\n                    }\r\n                    // return this[this.constructor.ADT_NAME][methodName](...args);\r\n                };\r\n            });\r\n            currConstructor = currConstructor.__proto__;\r\n        }\r\n\r\n\r\n        //FUNCTION BINDING\r\n        this.setup = this.setup.bind(this);\r\n        this.draw = this.draw.bind(this);\r\n        this.mousePressed = this.mousePressed.bind(this);\r\n        this.touchMoved = this.touchMoved.bind(this);\r\n        this.mouseReleased = this.mouseReleased.bind(this);\r\n        this.windowResized = this.windowResized.bind(this);\r\n\r\n\r\n        this.controlBarRef = React.createRef();\r\n\r\n        this.controlGroups = [];\r\n        this.defaultControlGroups = [];\r\n        this.controls = [];\r\n\r\n        // this.animationSpeed = Visualizer.INITIAL_SPEED;\r\n\r\n        this.onAnimStart = this.onAnimStart.bind(this);\r\n        this.onAnimEnd = this.onAnimEnd.bind(this);\r\n        this.animating = false;\r\n\r\n        this.focusedElement = null;\r\n\r\n        this.animator = new Proxy(new Animator(), {\r\n            get: function (target, propertyName, receiver) {\r\n                if (target[propertyName]) {\r\n                    return target[propertyName];\r\n                } else {\r\n                    return (param) => target.emit(propertyName + (param ? (\"-\" + param) : \"\"));\r\n                }\r\n            }\r\n        });\r\n        this.animator.on(\"anim-start\", this.onAnimStart);\r\n        this.animator.on(\"anim-end\", this.onAnimEnd);\r\n\r\n        this.addControlLabel(this.constructor.NAME);\r\n        this.addControls();\r\n        this.addDefaultControls();\r\n    }\r\n\r\n    addDefaultControls() {\r\n        this.speedSlider = ControlBuilder.createSlider(1, Visualizer.MAX_SPEED, Math.pow(Visualizer.INITIAL_SPEED,1/Visualizer.SPEED_SLIDER_DEGREE), 0);\r\n        let sliderLabel = ControlBuilder.createLabel(\"Animation Speed\", this.speedSlider);\r\n        let speedSliderGroup = ControlBuilder.createControlGroup(\"speedSliderGroup\", this.speedSlider, sliderLabel);\r\n        let extraGroups = []\r\n        if (this.constructor.VISUALIZATION_CLASS.SUPPORTS_ANIMATION_CONTROL) {\r\n            let skipBackButton = ControlBuilder.createButton(\"Skip Back\");\r\n            skipBackButton.addEventListener(\"click\", () => {\r\n                this.visualization.skipBack();\r\n            });\r\n            skipBackButton.disabled = true;\r\n            this.animator.on(\"disable-skipBack\", () => {\r\n                skipBackButton.disabled = true;\r\n            });\r\n            this.animator.on(\"enable-skipBack\", () => {\r\n                skipBackButton.disabled = false;\r\n            });\r\n            let stepBackButton = ControlBuilder.createButton(\"Step Back\");\r\n            stepBackButton.addEventListener(\"click\", () => {\r\n                this.visualization.stepBack();\r\n            });\r\n            stepBackButton.disabled = true;\r\n            this.animator.on(\"disable-stepBack\", () => {\r\n                stepBackButton.disabled = true;\r\n            });\r\n            this.animator.on(\"enable-stepBack\", () => {\r\n                stepBackButton.disabled = false;\r\n            });\r\n            let playPauseButton = ControlBuilder.createButton(\"Pause\");\r\n            playPauseButton.addEventListener(\"click\", () => {\r\n                this.visualization.playPause();\r\n                playPauseButton.setAttribute(\"value\", this.visualization.paused ? \"Play\" : \"Pause\");\r\n            });\r\n            this.animator.on(\"enable-playPause\", () => {\r\n                playPauseButton.setAttribute(\"value\", this.visualization.paused ? \"Play\" : \"Pause\");\r\n            });\r\n            let stepForwardButton = ControlBuilder.createButton(\"Step Forward\");\r\n            stepForwardButton.addEventListener(\"click\", () => {\r\n                this.visualization.stepForward();\r\n            });\r\n            stepForwardButton.disabled = true;\r\n            this.animator.on(\"disable-stepForward\", () => {\r\n                stepForwardButton.disabled = true;\r\n            });\r\n            this.animator.on(\"enable-stepForward\", () => {\r\n                stepForwardButton.disabled = false;\r\n            });\r\n            let skipForwardButton = ControlBuilder.createButton(\"Skip Forward\");\r\n            skipForwardButton.addEventListener(\"click\", () => {\r\n                this.visualization.skipForward();\r\n            });\r\n            skipForwardButton.disabled = true;\r\n            this.animator.on(\"disable-skipForward\", () => {\r\n                skipForwardButton.disabled = true;\r\n            });\r\n            this.animator.on(\"enable-skipForward\", () => {\r\n                skipForwardButton.disabled = false;\r\n            });\r\n\r\n            extraGroups.push(ControlBuilder.createControlGroup(\"stepButtonGroup\",skipBackButton,stepBackButton,playPauseButton,stepForwardButton,skipForwardButton));\r\n            let animationControls = ControlBuilder.createControlGroup(\"animationControls\",...extraGroups);\r\n            ControlBuilder.applyStyle(animationControls,\"width\",\"441px\");\r\n            this.defaultControlGroups.push(animationControls);\r\n        }\r\n        this.defaultControlGroups.push(speedSliderGroup);\r\n        this.defaultsLabel = \"Animation controls\";\r\n    }\r\n\r\n    addControlLabel(label) {\r\n        this.mainLabel = label;\r\n    }\r\n\r\n    addControlGroups(...controlGroups) {\r\n        this.controlGroups.push(...controlGroups);\r\n        controlGroups.forEach((controlGroup) => {\r\n            if (controlGroup.tagName === \"INPUT\") {\r\n                this.controls.push(controlGroup);\r\n            } else {\r\n                this.registerControlGroup(controlGroup);\r\n            }\r\n        });\r\n    }\r\n\r\n    registerControlGroup(controlGroup) {\r\n        controlGroup.childNodes.forEach((child) => {\r\n            if (child.tagName === \"INPUT\") {\r\n                this.controls.push(child);\r\n            } else {\r\n                this.registerControlGroup(child);\r\n            }\r\n        });\r\n    }\r\n\r\n    onAnimStart() {\r\n        this.disableUI();\r\n        if (this.constructor.VISUALIZATION_CLASS.SUPPORTS_NO_LOOP) {\r\n            // this.animator.loop();\r\n        }\r\n        this.animating = true;\r\n    }\r\n\r\n    onAnimEnd() {\r\n        this.enableUI();\r\n        if (this.constructor.VISUALIZATION_CLASS.SUPPORTS_NO_LOOP) {\r\n            // this.animator.noLoop();\r\n        }\r\n        this.animating = false;\r\n    }\r\n\r\n    disableUI() {\r\n        // console.log(\"disable\");\r\n        this.controls.forEach((control) => {\r\n            if (control === document.activeElement) {\r\n                this.focusedElement = control;\r\n            }\r\n            control.disabled = true;\r\n        });\r\n    }\r\n\r\n    enableUI() {\r\n        // console.log(\"enable\");\r\n        this.controls.forEach((control) => {\r\n            control.disabled = false;\r\n            if (control === this.focusedElement) {\r\n                control.focus();\r\n            }\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n        this[this.constructor.ADT_NAME] = new this.constructor.VISUALIZATION_CLASS(this.animator);\r\n        this.visualization = this[this.constructor.ADT_NAME];\r\n        if (Utils.isDev()) {\r\n            window.vis = this.visualization;\r\n        } else {\r\n            console.log = () => {};\r\n        }\r\n        this.controlBar = this.controlBarRef.current;\r\n        this.controlBar.setMainLabel(this.mainLabel);\r\n        this.controlBar.setDefaultsLabel(this.defaultsLabel);\r\n        this.defaultControlGroups.forEach((defaultGroup) => {\r\n            this.controlBar.addDefaultGroup(defaultGroup);\r\n        });\r\n        this.controlGroups.forEach((controlGroup) => {\r\n            this.controlBar.addControlGroup(controlGroup);\r\n        });\r\n        this.mounted = true;\r\n        this.forceUpdate();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        // console.log(\"update\");\r\n    }\r\n\r\n    setup(p5, canvasParentRef) {\r\n        // let width = this.controlBar.controlBar.current.getBoundingClientRect().width;\r\n        let height = document.querySelector(\".app-content\").getBoundingClientRect().height\r\n                - document.querySelector(\"#main-control\").getBoundingClientRect().height\r\n                - document.querySelector(\"#default-control\").getBoundingClientRect().height;\r\n\r\n        this.mobile = window.ontouchstart !== undefined;\r\n        if (this.mobile) {\r\n            height = 1000;\r\n            // document.querySelector(\".canvas-container\").style.height = height + \"px\";\r\n            document.querySelector(\".canvas-container\").classList.add(\"mobile\");\r\n        }\r\n\r\n        //config\r\n        let canvas = p5.createCanvas(p5.windowWidth\r\n            ,height);\r\n        canvas.parent(canvasParentRef);\r\n        //\r\n        // canvas.touchStarted((event) => {\r\n        //     console.log(\"touchdown\");\r\n        //     if (!this.mousePressed(p5)) {\r\n        //         event.preventDefault();\r\n        //     }\r\n        //     // event.preventDefault();\r\n        // });\r\n        //\r\n        // canvas.touchMoved((event) => {\r\n        //     console.log(\"touchmove\");\r\n        //     if (!this.touchMoved(p5)) {\r\n        //         // event.preventDefault();\r\n        //     }\r\n        //     return true;\r\n        //     // event.preventDefault();\r\n        // });\r\n        //\r\n        // canvas.touchEnded(() => {\r\n        //     console.log(\"touchup\");\r\n        //     this.mouseReleased(p5);\r\n        //     // event.preventDefault();\r\n        // });\r\n        // canvas.mousePressed(() => {\r\n        //     console.log(\"mousedown\");\r\n        //     if (!this.mousePressed(p5)) {\r\n        //         // event.preventDefault();\r\n        //     }\r\n        // });\r\n        // canvas.mouseReleased(() => {\r\n        //     console.log(\"mouseup\");\r\n        //     this.mouseReleased(p5);\r\n        //     // event.preventDefault();\r\n        // });\r\n        // p5.background(200);\r\n        // p5.frameRate(8);\r\n\r\n        // document.addEventListener(\"resize\", (event) => {\r\n        //     console.log(\"resize\");\r\n        // });\r\n        this.animator.on(\"noLoop\", () => {\r\n            // console.log(\"noLoop\");\r\n            p5.noLoop();\r\n        });\r\n        this.animator.on(\"loop\", () => {\r\n            // console.log(\"loop\");\r\n            p5.loop();\r\n        });\r\n        this.windowResized(p5);\r\n\r\n        if (this.constructor.VISUALIZATION_CLASS.SUPPORTS_NO_LOOP) {\r\n            this.animator.noLoop();\r\n        }\r\n    }\r\n    draw(p5) {\r\n        //inputs\r\n        let animationSpeed = Math.pow(this.speedSlider.value,Visualizer.SPEED_SLIDER_DEGREE);\r\n\r\n        p5.background(255);\r\n\r\n        //objects\r\n        this.visualization.update(animationSpeed, p5);\r\n        this.visualization.draw(p5);\r\n        // if (!this.animating) {\r\n        //     if (this.constructor.VISUALIZATION_CLASS.SUPPORTS_NO_LOOP) {\r\n        //         this.animator.noLoop();\r\n        //     }\r\n        // }\r\n    }\r\n    mousePressed(p5) {\r\n        if (this.visualization.mousePressed) {\r\n            // console.log(\"down\");\r\n            //let pressed =\r\n            this.visualization.mousePressed(p5);\r\n            // console.log(pressed);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    touchMoved(p5) {\r\n        if (this.visualization.touchMoved) {\r\n            // console.log(\"move\");\r\n            return this.visualization.touchMoved();\r\n        }\r\n        return true;\r\n    }\r\n    mouseReleased(p5) {\r\n        if (this.visualization.mouseReleased) {\r\n            // console.log(\"up\");\r\n            //let released =\r\n            this.visualization.mouseReleased(p5);\r\n            // console.log(released);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    windowResized(p5) {\r\n        // console.log(\"resize\");\r\n\r\n        //cosmetics for visualizer label\r\n        let controlWidth = Array.from(document.querySelector(\"#main-control-label + .controls\").childNodes).map(node => node.getBoundingClientRect().width).reduce((sum,curr) => sum + curr);\r\n        controlWidth = Math.min(controlWidth, p5.windowWidth);\r\n        let label = document.querySelector(\"#main-control-label\");\r\n        let labelWidth = label.getBoundingClientRect().width;\r\n        label.style.left = Math.max(0, (controlWidth - labelWidth) / 2) + \"px\";\r\n\r\n        //config\r\n        let height = document.querySelector(\".app-content\").getBoundingClientRect().height\r\n                - document.querySelector(\"#main-control\").getBoundingClientRect().height\r\n                - document.querySelector(\"#default-control\").getBoundingClientRect().height;\r\n        if (this.mobile) {\r\n            // height = 1000;\r\n        }\r\n        // height = document.querySelector(\".react-p5\").getBoundingClientRect().height;\r\n        document.querySelector(\".canvas-container\").style.height = height+\"px\";\r\n        height = document.querySelector(\".canvas-container\").getBoundingClientRect().height;\r\n        // console.log(height);\r\n        // p5.resizeCanvas(p5.windowWidth, p5.height);\r\n\r\n        //objects\r\n        let numScrollbars = this.controlBar.windowResized();\r\n        this.visualization.windowResized(p5, height, numScrollbars);\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n                <div className={`visualizer ${this.constructor.DIV_CLASS}`}>\r\n                    <ControlBar ref={this.controlBarRef}/>\r\n                    {\r\n                        true || this.constructor.VISUALIZATION_CLASS.USE_CANVAS ?\r\n                                <div className=\"canvas-container\">\r\n                                    {\r\n                                        this.mounted ?\r\n                                                <Sketch setup={this.setup} draw={this.draw} windowResized={this.windowResized} mousePressed={this.mousePressed} mouseReleased={this.mouseReleased} touchStarted={this.mousePressed} touchEnded={this.mouseReleased} touchMoved={this.touchMoved}/>\r\n                                            :\r\n                                                <p>Loading Sketch</p>\r\n                                    }\r\n                                </div>\r\n                            :\r\n                                <this.constructor.VISUALIZATION_CLASS />\r\n                    }\r\n                </div>\r\n            );\r\n    }\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class ListVisualizer extends Visualizer {\r\n    static ADT_NAME = \"list\";\r\n    static VISUALIZATION_METHODS = [\"addAtIndex\", \"addToFront\", \"addToBack\", \"removeFromIndex\", \"removeFromBack\", \"removeFromFront\", \"reset\"];\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"value\", callback: false}, ControlBuilder.validatorMaxLength(6), ControlBuilder.validatorIntOnly());\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"index\", callback: false, args: {size: 10}}, ControlBuilder.validatorMaxLength(6), ControlBuilder.validatorPositiveIntOnly());\r\n        ControlBuilder.addFieldSubmit(this.valueField, this.addToBack,\r\n                {\r\n                    secondary: {\r\n                        field: this.indexField,\r\n                        callback: this.addAtIndex,\r\n                        isFirstParam: true\r\n                    }\r\n                }\r\n            );\r\n        ControlBuilder.addFieldSubmit(this.indexField, this.addAtIndex,\r\n                {\r\n                    secondaryRequired: true,\r\n                    secondary: {\r\n                        field: this.valueField\r\n                    }\r\n                }\r\n            );\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"addAtIndex\", this.indexField, {field: this.valueField, focus: true});\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"addToFront\", this.valueField);\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"addToBack\", this.valueField);\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"removeFromIndex\", this.indexField);\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"removeFromFront\");\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"removeFromBack\");\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.valueField);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.valueField, this.indexField);\r\n        ControlBuilder.setTabControl(this.indexField, this.addToFrontButton);\r\n        ControlBuilder.setTabControl(this.removeFromBackButton, this.addAtIndexButton);\r\n        ControlBuilder.setTabControl(this.resetButton, this.valueField);\r\n\r\n        // build groups\r\n        let addFrontBackGroup = ControlBuilder.createControlGroup(\"addFrontBack\", this.addToFrontButton, this.addToBackButton);\r\n        let removeFrontBackGroup = ControlBuilder.createControlGroup(\"removeFrontBack\", this.removeFromFrontButton, this.removeFromBackButton);\r\n        let valueFrontBackGroup = ControlBuilder.createControlGroup(\"valueFrontBack\", this.valueField, addFrontBackGroup, removeFrontBackGroup);\r\n\r\n        let indexGroup = ControlBuilder.createControlGroup(\"indexAddRemove\", this.indexField, this.addAtIndexButton, this.removeFromIndexButton);\r\n\r\n        let resetGroup = ControlBuilder.createControlGroup(\"reset\", this.resetButton);\r\n\r\n        super.addControlGroups(valueFrontBackGroup, indexGroup, resetGroup);\r\n    }\r\n}\r\n","import { ListVisualizer } from '../';\r\nimport { ArrayList } from 'animation';\r\nimport './arraylist.scss';\r\n\r\n\r\nexport default class ArrayListVisualizer extends ListVisualizer {\r\n    static VISUALIZATION_CLASS = ArrayList;\r\n    static DIV_CLASS = \"arraylist\";\r\n    static NAME = \"ArrayList\";\r\n}\r\n","import { ListVisualizer } from '../';\r\nimport { SinglyLinkedList } from 'animation';\r\nimport './singly-linked-list.scss';\r\n\r\n\r\nexport default class SinglyLinkedListVisualizer extends ListVisualizer {\r\n    static VISUALIZATION_CLASS = SinglyLinkedList;\r\n    static DIV_CLASS = \"singlylinkedlist\";\r\n    static NAME = \"SinglyLinkedList\";\r\n}\r\n","import { ListVisualizer } from '../';\r\nimport { DoublyLinkedList } from 'animation';\r\nimport './doubly-linked-list.scss';\r\n\r\n\r\nexport default class DoublyLinkedListVisualizer extends ListVisualizer {\r\n    static VISUALIZATION_CLASS = DoublyLinkedList;\r\n    static DIV_CLASS = \"doublylinkedlist\";\r\n    static NAME = \"DoublyLinkedList\";\r\n}\r\n","import { ListVisualizer } from '../';\r\nimport { CircularSinglyLinkedList } from 'animation';\r\nimport './circular-singly-linked-list.scss';\r\n\r\nexport default class CircularSinglyLinkedListVisualizer extends ListVisualizer {\r\n    static VISUALIZATION_CLASS = CircularSinglyLinkedList;\r\n    static DIV_CLASS = \"circularsinglylinkedlist\";\r\n    static NAME = \"CircularSinglyLinkedList\";\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class StackVisualizer extends Visualizer {\r\n    static ADT_NAME = \"stack\";\r\n    static VISUALIZATION_METHODS = [\"push\", \"pop\", \"reset\"];\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"value\", callback: \"push\"}, ControlBuilder.validatorMaxLength(6), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"push\", this.valueField);\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"pop\");\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.valueField);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.valueField);\r\n\r\n        // build groups\r\n        let interactionButtonGroup = ControlBuilder.createControlGroup(\"interactionButtons\", this.pushButton, this.popButton);\r\n        let mainControlGroup = ControlBuilder.createControlGroup(\"mainControl\", this.valueField, interactionButtonGroup);\r\n        let resetGroup = ControlBuilder.createControlGroup(\"resetGroup\", this.resetButton);\r\n\r\n        super.addControlGroups(mainControlGroup, resetGroup);\r\n    }\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class QueueVisualizer extends Visualizer {\r\n    static ADT_NAME = \"queue\";\r\n    static VISUALIZATION_METHODS = [\"enqueue\", \"dequeue\", \"reset\"];\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"value\", callback: \"enqueue\"}, ControlBuilder.validatorMaxLength(6), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"enqueue\", this.valueField);\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"dequeue\");\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.valueField);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.valueField);\r\n\r\n        // build groups\r\n        let interactionButtonGroup = ControlBuilder.createControlGroup(\"interactionButtons\", this.enqueueButton, this.dequeueButton);\r\n        let mainControlGroup = ControlBuilder.createControlGroup(\"mainControl\", this.valueField, interactionButtonGroup);\r\n        let resetGroup = ControlBuilder.createControlGroup(\"resetGroup\", this.resetButton);\r\n\r\n        super.addControlGroups(mainControlGroup, resetGroup);\r\n    }\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class DequeVisualizer extends Visualizer {\r\n    static ADT_NAME = \"deque\";\r\n    static VISUALIZATION_METHODS = [\"addFirst\", \"addLast\", \"removeFirst\", \"removeLast\", \"reset\"];\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"value\", callback: \"addLast\"}, ControlBuilder.validatorMaxLength(6), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, {name: \"addFirst\", longName: \"addFirst (push)\"}, this.valueField);\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, {name: \"addLast\", longName: \"addLast (enqueue)\"}, this.valueField);\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, {name: \"removeFirst\", longName: \"removeFirst (dequeue/pop)\"});\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"removeLast\");\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.valueField);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.valueField);\r\n\r\n        // build groups\r\n        let addButtonGroup = ControlBuilder.createControlGroup(\"addButtons\", this.addFirstButton, this.addLastButton);\r\n        let removeButtonGroup = ControlBuilder.createControlGroup(\"removeButtons\", this.removeFirstButton, this.removeLastButton);\r\n        let interactionGroup = ControlBuilder.createControlGroup(\"interactions\", this.valueField, addButtonGroup, removeButtonGroup);\r\n        let resetGroup = ControlBuilder.createControlGroup(\"resetGroup\", this.resetButton);\r\n\r\n        super.addControlGroups(interactionGroup, resetGroup);\r\n    }\r\n}\r\n","import { StackVisualizer } from '../';\r\nimport { StackArray } from 'animation';\r\nimport './stack-array.scss';\r\n\r\n\r\nexport default class StackArrayVisualizer extends StackVisualizer {\r\n    static VISUALIZATION_CLASS = StackArray;\r\n    static DIV_CLASS = \"stack-array\";\r\n    static NAME = \"Stack (Array)\";\r\n}\r\n","import { StackVisualizer } from '../';\r\nimport { StackLinkedList } from 'animation';\r\nimport './stack-linked-list.scss';\r\n\r\n\r\nexport default class StackLinkedListVisualizer extends StackVisualizer {\r\n    static VISUALIZATION_CLASS = StackLinkedList;\r\n    static DIV_CLASS = \"stack-linkedlist\";\r\n    static NAME = \"Stack (LinkedList)\";\r\n}\r\n","import { QueueVisualizer } from '../';\r\nimport { QueueArray } from 'animation';\r\nimport './queue-array.scss';\r\n\r\nexport default class QueueArrayVisualizer extends QueueVisualizer {\r\n    static VISUALIZATION_CLASS = QueueArray;\r\n    static DIV_CLASS = \"queue-array\";\r\n    static NAME = \"Queue (Array)\";\r\n}\r\n","import { QueueVisualizer } from '../';\r\nimport { QueueLinkedList } from 'animation';\r\nimport './queue-linked-list.scss';\r\n\r\n\r\nexport default class QueueLinkedListVisualizer extends QueueVisualizer {\r\n    static VISUALIZATION_CLASS = QueueLinkedList;\r\n    static DIV_CLASS = \"queue-linkedlist\";\r\n    static NAME = \"Queue (LinkedList)\";\r\n}\r\n","import { DequeVisualizer } from '../';\r\nimport { DequeArray } from 'animation';\r\nimport './deque-array.scss';\r\n\r\n\r\nexport default class DequeArrayVisualizer extends DequeVisualizer {\r\n    static VISUALIZATION_CLASS = DequeArray;\r\n    static DIV_CLASS = \"deque-array\";\r\n    static NAME = \"Deque (Array)\";\r\n}\r\n","import { DequeVisualizer } from '../';\r\nimport { DequeLinkedList } from 'animation';\r\nimport './deque-linked-list.scss';\r\n\r\n\r\nexport default class DequeLinkedListVisualizer extends DequeVisualizer {\r\n    static VISUALIZATION_CLASS = DequeLinkedList;\r\n    static DIV_CLASS = \"deque-linkedlist\";\r\n    static NAME = \"Deque (DequeLinkedList)\";\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\nimport './tree-ADT.scss';\r\n\r\nexport default class TreeVisualizer extends Visualizer {\r\n    static ADT_NAME = \"tree\";\r\n    static VISUALIZATION_METHODS = [\"insert\", \"delete\", \"find\", \"print\", \"reset\"];\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"insert\", longName: \"value\", args: {size: 10}}, ControlBuilder.validatorMaxLength(5), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"insert\", this.insertField);\r\n\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"delete\", longName: \"value\", args: {size: 10}}, ControlBuilder.validatorMaxLength(5), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"delete\", this.deleteField);\r\n\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"find\", longName: \"value\", args: {size: 10}}, ControlBuilder.validatorMaxLength(5), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"find\", this.findField);\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"print\");\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.insertField);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.insertField);\r\n\r\n        // build groups\r\n        let insertGroup = ControlBuilder.createControlGroup(\"insert-group\", this.insertField, this.insertButton);\r\n        let deleteGroup = ControlBuilder.createControlGroup(\"delete-group\", this.deleteField, this.deleteButton);\r\n        let findGroup = ControlBuilder.createControlGroup(\"find-group\", this.findField, this.findButton);\r\n        let printGroup = ControlBuilder.createControlGroup(\"print-group\", this.printButton);\r\n        let resetGroup = ControlBuilder.createControlGroup(\"reset-group\", this.resetButton);\r\n\r\n        super.addControlGroups(insertGroup, deleteGroup, findGroup, printGroup, resetGroup);\r\n    }\r\n}\r\n","import { TreeVisualizer } from './';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class BinarySearchingTreeVisualizer extends TreeVisualizer {\r\n    static VISUALIZATION_METHODS = [\"togglePredecessorSuccessor\"];\r\n\r\n    addControls() {\r\n        super.addControls();\r\n\r\n        this.togglePredecessorSuccessorRadio = ControlBuilder.createRadio(\"togglePredecessorSuccessor\", \"Predeccessor\", \"Successor\");\r\n        ControlBuilder.addRadioSubmit(this.togglePredecessorSuccessorRadio, this.togglePredecessorSuccessor);\r\n\r\n        // build groups\r\n        let togglePredecessorSuccessorGroup = ControlBuilder.createControlGroup(\"togglePredecessorSuccessor\", this.togglePredecessorSuccessorRadio);\r\n\r\n        super.addControlGroups(togglePredecessorSuccessorGroup);\r\n    }\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class HeapVisualizer extends Visualizer {\r\n    static ADT_NAME = \"heap\";\r\n    static VISUALIZATION_METHODS = [\"enqueue\", \"dequeue\", \"reset\", \"buildHeap\", \"toggleMinMax\"];\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"value\", callback: \"enqueue\"}, ControlBuilder.validatorMaxLength(6), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"enqueue\", this.valueField);\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"dequeue\");\r\n\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"buildHeap\", prompt: \"1,-4,23,3-8,... [max 50 elements]\"}, ControlBuilder.validatorIntList(4,50));\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"buildHeap\", this.buildHeapField);\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.valueField);\r\n\r\n        this.toggleMinMaxRadio = ControlBuilder.createRadio(\"toggleMinMax\", \"MinHeap\", \"MaxHeap\");\r\n        ControlBuilder.addRadioSubmit(this.toggleMinMaxRadio, this.toggleMinMax);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.insertField);\r\n\r\n        // build groups\r\n        let interactionButtonGroup = ControlBuilder.createControlGroup(\"interactionButtons\", this.enqueueButton, this.dequeueButton);\r\n        let mainControlGroup = ControlBuilder.createControlGroup(\"mainControl\", this.valueField, interactionButtonGroup);\r\n        let resetGroup = ControlBuilder.createControlGroup(\"resetGroup\", this.resetButton);\r\n        let buildHeapGroup = ControlBuilder.createControlGroup({id: \"build-heap-group\", classes:[\"expanding-group\"]}, this.buildHeapField, this.buildHeapButton);\r\n        let toggleMinMaxGroup = ControlBuilder.createControlGroup(\"toggleMinMax\", this.toggleMinMaxRadio);\r\n\r\n        super.addControlGroups(mainControlGroup, resetGroup, buildHeapGroup, toggleMinMaxGroup);\r\n    }\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class SkipListADTVisualizer extends Visualizer {\r\n    static ADT_NAME = \"skiplist\";\r\n    static VISUALIZATION_METHODS = [\"addRandomly\", \"addWithHeads\", \"remove\", \"get\", \"reset\"];\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"value\", callback: false, args: {size: 10}}, ControlBuilder.validatorMaxLength(6), ControlBuilder.validatorIntOnly());\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"heads\", prompt: \"num heads\", callback: false, args: {size: 10}}, ControlBuilder.validatorSkipListHeads());\r\n        ControlBuilder.addFieldSubmit(this.valueField, this.addRandomly,\r\n                {\r\n                    secondary: {\r\n                        field: this.headsField,\r\n                        callback: this.addWithHeads,\r\n                        clear: true\r\n                    }\r\n                }\r\n            );\r\n        ControlBuilder.addFieldSubmit(this.headsField, this.addWithHeads,\r\n                {\r\n                    secondaryRequired: true,\r\n                    secondary: {\r\n                        field: this.valueField,\r\n                        isFirstParam: true,\r\n                        clear: true\r\n                    }\r\n                }\r\n            );\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"addRandomly\", this.valueField);\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"addWithHeads\", {field: this.valueField, focus: true}, this.headsField);\r\n\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"remove\", longName: \"value\", args: {size: 10}}, ControlBuilder.validatorMaxLength(5), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"remove\", this.removeField);\r\n\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"get\", longName: \"value\", args: {size: 10}}, ControlBuilder.validatorMaxLength(5), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"get\", this.getField);\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"print\");\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.insertField);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.valueField);\r\n\r\n        // build groups\r\n        // let addFieldGroup = ControlBuilder.createControlGroup(\"add-field-group\", this.valueField, this.headsField);\r\n        // let addButtonGroup = ControlBuilder.createControlGroup(\"add-button-group\", this.addRandomlyButton, this.addWithHeadsButton);\r\n        let addRandomlyGroup = ControlBuilder.createControlGroup(\"add-field-group\", this.valueField, this.addRandomlyButton);\r\n        let addWithHeadsGroup = ControlBuilder.createControlGroup(\"add-button-group\", this.headsField, this.addWithHeadsButton);\r\n        // let addGroup = ControlBuilder.createControlGroup(\"add-group\", this.valueField, this.addRandomlyButton, addWithHeadsGroup);\r\n        let removeGroup = ControlBuilder.createControlGroup(\"remove-group\", this.removeField, this.removeButton);\r\n        let getGroup = ControlBuilder.createControlGroup(\"get-group\", this.getField, this.getButton);\r\n        let resetGroup = ControlBuilder.createControlGroup(\"reset-group\", this.resetButton);\r\n\r\n        super.addControlGroups(addRandomlyGroup, addWithHeadsGroup, removeGroup, getGroup, resetGroup);\r\n    }\r\n}\r\n","import { BinarySearchingTreeVisualizer } from '../';\r\nimport { BST } from 'animation';\r\nimport './bst.scss';\r\n\r\n\r\nexport default class BSTVisualizer extends BinarySearchingTreeVisualizer {\r\n    static VISUALIZATION_CLASS = BST;\r\n    static DIV_CLASS = \"bst\";\r\n    static NAME = \"Binary Search Tree\";\r\n}\r\n","import { HeapVisualizer } from '../';\r\nimport { Heap } from 'animation';\r\nimport './heap.scss';\r\n\r\n\r\nexport default class HeapPQVisualizer extends HeapVisualizer {\r\n    static VISUALIZATION_CLASS = Heap;\r\n    static DIV_CLASS = \"heap-pq\";\r\n    static NAME = \"Heap / Priority Queue\";\r\n}\r\n","import { BinarySearchingTreeVisualizer } from '../';\r\nimport { AVL } from 'animation';\r\nimport './avl.scss';\r\n\r\n\r\nexport default class AVLVisualizer extends BinarySearchingTreeVisualizer {\r\n    static VISUALIZATION_CLASS = AVL;\r\n    static DIV_CLASS = \"avl\";\r\n    static NAME = \"AVL\";\r\n}\r\n","import { TreeVisualizer } from '../';\r\nimport { SplayTree } from 'animation';\r\nimport './splaytree.scss';\r\n\r\n\r\nexport default class SplayTreeVisualizer extends TreeVisualizer {\r\n    static VISUALIZATION_CLASS = SplayTree;\r\n    static DIV_CLASS = \"splaytree\";\r\n    static NAME = \"SplayTree\";\r\n}\r\n","import { TreeVisualizer } from '../';\r\nimport { BTree } from 'animation';\r\nimport './btree.scss';\r\n\r\n\r\nexport default class BTreeVisualizer extends TreeVisualizer {\r\n    static VISUALIZATION_CLASS = BTree;\r\n    static DIV_CLASS = \"btree\";\r\n    static NAME = \"2-4 Tree\";\r\n}\r\n","import { SkipListADTVisualizer } from '../';\r\nimport { SkipList } from 'animation';\r\nimport './skiplist.scss';\r\n\r\n\r\nexport default class SkipListVisualizer extends SkipListADTVisualizer {\r\n    static VISUALIZATION_CLASS = SkipList;\r\n    static DIV_CLASS = \"skiplist\";\r\n    static NAME = \"SkipList\";\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class HashMapVisualizer extends Visualizer {\r\n    static ADT_NAME = \"hashmap\";\r\n    static VISUALIZATION_METHODS = [\"insert\", \"delete\", \"find\", \"reset\"];\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"insert\", longName: \"value\", args: {size: 10}}, ControlBuilder.validatorMaxLength(5), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"insert\", this.insertField);\r\n\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"delete\", longName: \"value\", args: {size: 10}}, ControlBuilder.validatorMaxLength(5), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"delete\", this.deleteField);\r\n\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"find\", longName: \"value\", args: {size: 10}}, ControlBuilder.validatorMaxLength(5), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"find\", this.findField);\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.insertField);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.insertField);\r\n\r\n        // build groups\r\n        let insertGroup = ControlBuilder.createControlGroup(\"insert-group\", this.insertField, this.insertButton);\r\n        let deleteGroup = ControlBuilder.createControlGroup(\"delete-group\", this.deleteField, this.deleteButton);\r\n        let findGroup = ControlBuilder.createControlGroup(\"find-group\", this.findField, this.findButton);\r\n        let resetGroup = ControlBuilder.createControlGroup(\"reset-group\", this.resetButton);\r\n\r\n        super.addControlGroups(insertGroup, deleteGroup, findGroup, resetGroup);\r\n    }\r\n}\r\n","import { HashMapVisualizer } from './';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class ProbingVisualizer extends HashMapVisualizer {\r\n    static VISUALIZATION_METHODS = [\"toggleProbingMode\"];\r\n\r\n    addControls() {\r\n        super.addControls();\r\n\r\n        this.toggleProbingModeRadio = ControlBuilder.createRadio(\"toggleProbingMode\",\r\n                {value: \"linear\", longText: \"Linear Probing: ind = hash(x) + i*1\"},\r\n                {value: \"linear\", longText: \"Quadratic Probing: ind = hash(x) + i*i\"},\r\n                {value: \"linear\", longText: \"Double Hashing: ind = hash(x) + i*hash2(x)\"});\r\n        ControlBuilder.addRadioSubmit(this.toggleProbingModeRadio, this.toggleProbingMode);\r\n\r\n        // build groups\r\n        let toggleProbingModeGroup = ControlBuilder.createControlGroup(\"toggleProbingMode\", this.toggleProbingModeRadio);\r\n\r\n        super.addControlGroups(toggleProbingModeGroup);\r\n    }\r\n}\r\n","import { ProbingVisualizer } from '../';\r\nimport { HashMapProbing } from 'animation';\r\nimport './hashmap-probing.scss';\r\n\r\n\r\nexport default class HashMapProbingVisualizer extends ProbingVisualizer {\r\n    static VISUALIZATION_CLASS = HashMapProbing;\r\n    static DIV_CLASS = \"hashmap-probing\";\r\n    static NAME = \"HashMap (Probing)\";\r\n}\r\n","import { HashMapVisualizer } from '../';\r\nimport { HashMapChaining } from 'animation';\r\nimport './hashmap-chaining.scss';\r\n\r\n\r\nexport default class HashMapChainingVisualizer extends HashMapVisualizer {\r\n    static VISUALIZATION_CLASS = HashMapChaining;\r\n    static DIV_CLASS = \"hashmap-chaining\";\r\n    static NAME = \"HashMap (Chaining)\";\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class SortVisualizer extends Visualizer {\r\n    static ADT_NAME = \"sort\";\r\n    static VISUALIZATION_METHODS = [\"sort\", \"reset\"];\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"sort\", prompt: \"1,-4,23,3-8,... [max 50 elements]\"}, ControlBuilder.validatorIntList(4,50));\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"sort\", this.sortField);\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.sortField);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.sortField);\r\n\r\n        // build groups\r\n        let sortFieldGroup = ControlBuilder.createControlGroup({id: \"sort-field-group\", classes:[\"expanding-group\",\"w50\"]}, this.sortField);\r\n        let sortButtonGroup = ControlBuilder.createControlGroup(\"sort-button-group\", this.sortButton);\r\n        let resetGroup = ControlBuilder.createControlGroup(\"reset-group\", this.resetButton);\r\n\r\n        super.addControlGroups(sortFieldGroup, sortButtonGroup, resetGroup);\r\n    }\r\n}\r\n","import { SortVisualizer } from './';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class BubblingVisualizer extends SortVisualizer {\r\n    static VISUALIZATION_METHODS = [\"toggleLastSwapOptimization\"];\r\n\r\n    addControls() {\r\n        super.addControls();\r\n\r\n        this.toggleLastSwapOptimizationCheckBox = ControlBuilder.createCheckBox(\"toggleLastSwapOptimization\",\r\n                {value: \"enableLastSwap\", longText: \"Enable last swap optimization\"});\r\n        ControlBuilder.addCheckBoxSubmit(this.toggleLastSwapOptimizationCheckBox, this.toggleLastSwapOptimization);\r\n\r\n        // build groups\r\n        let toggleLastSwapOptimizationGroup = ControlBuilder.createControlGroup(\"toggleLastSwapOptimization-group\", this.toggleLastSwapOptimizationCheckBox);\r\n\r\n        super.addControlGroups(toggleLastSwapOptimizationGroup);\r\n    }\r\n}\r\n","import { SortVisualizer } from './';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class QuickVisualizer extends SortVisualizer {\r\n    static VISUALIZATION_METHODS = [\"toggleSelectPivotElement\"];\r\n\r\n    addControls() {\r\n        super.addControls();\r\n\r\n        this.toggleSelectPivotElementCheckBox = ControlBuilder.createCheckBox(\"toggleSelectPivotElement\",\r\n                {value: \"selectMin\", longText: \"Pick min element as pivot\"},\r\n                {value: \"selectMax\", longText: \"Pick max element as pivot\"});\r\n        ControlBuilder.addCheckBoxSubmit(this.toggleSelectPivotElementCheckBox, {callback: this.toggleSelectPivotElement, max1Checked: true});\r\n\r\n        // build groups\r\n        let toggleSelectPivotElementGroup = ControlBuilder.createControlGroup(\"toggleSelectPivotElement-group\", this.toggleSelectPivotElementCheckBox);\r\n\r\n        super.addControlGroups(toggleSelectPivotElementGroup);\r\n    }\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class SelectVisualizer extends Visualizer {\r\n    static ADT_NAME = \"quickselect\";\r\n    static VISUALIZATION_METHODS = [\"select\", \"reset\", \"toggleSelectPivotElement\"];\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"list\", prompt: \"1,-4,23,3-8,... [max 50 elements]\", callback: false}, ControlBuilder.validatorIntList(4,50));\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"kth\", prompt: \"k (1-indexed)\", callback: false, args: {size: 8}}, ControlBuilder.validatorPositiveIntOnly());\r\n        ControlBuilder.addFieldSubmit(this.listField, this.select,\r\n                {\r\n                    secondaryRequired: true,\r\n                    secondary: {\r\n                        field: this.kthField,\r\n                        clear: true\r\n                    }\r\n                }\r\n            );\r\n        ControlBuilder.addFieldSubmit(this.kthField, this.select,\r\n                {\r\n                    secondaryRequired: true,\r\n                    secondary: {\r\n                        field: this.listField,\r\n                        isFirstParam: true,\r\n                        clear: true\r\n                    }\r\n                }\r\n            );\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"select\", {field: this.listField, focus: true}, this.kthField);\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.listField);\r\n\r\n        this.toggleSelectPivotElementCheckBox = ControlBuilder.createCheckBox(\"toggleSelectPivotElement\",\r\n                {value: \"selectMin\", longText: \"Pick min element as pivot\"},\r\n                {value: \"selectMax\", longText: \"Pick max element as pivot\"});\r\n        ControlBuilder.addCheckBoxSubmit(this.toggleSelectPivotElementCheckBox, {callback: this.toggleSelectPivotElement, max1Checked: true});\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.listField);\r\n\r\n        // build groups\r\n        let listFieldGroup = ControlBuilder.createControlGroup({id: \"list-field-group\", classes:[\"expanding-group\",\"w50\"]}, this.listField);\r\n        let kthFieldGroup = ControlBuilder.createControlGroup(\"kth-field-group\", this.kthField);\r\n        let selectButtonGroup = ControlBuilder.createControlGroup(\"select-button-group\", this.selectButton);\r\n        let resetGroup = ControlBuilder.createControlGroup(\"reset-group\", this.resetButton);\r\n        let toggleSelectPivotElementGroup = ControlBuilder.createControlGroup(\"toggleSelectPivotElement-group\", this.toggleSelectPivotElementCheckBox);\r\n\r\n        super.addControlGroups(listFieldGroup, kthFieldGroup, selectButtonGroup, resetGroup, toggleSelectPivotElementGroup);\r\n    }\r\n}\r\n","import { BubblingVisualizer } from '../';\r\nimport { BubbleSort } from 'animation';\r\nimport './bubble-sort.scss';\r\n\r\n\r\nexport default class BubbleSortVisualizer extends BubblingVisualizer {\r\n    static VISUALIZATION_CLASS = BubbleSort;\r\n    static DIV_CLASS = \"bubble-sort\";\r\n    static NAME = \"Bubble Sort\";\r\n}\r\n","import { BubblingVisualizer } from '../';\r\nimport { CocktailShakerSort } from 'animation';\r\nimport './cocktail-shaker-sort.scss';\r\n\r\n\r\nexport default class CocktailShakerSortVisualizer extends BubblingVisualizer {\r\n    static VISUALIZATION_CLASS = CocktailShakerSort;\r\n    static DIV_CLASS = \"cocktail-shaker-sort\";\r\n    static NAME = \"Cocktail Shaker Sort\";\r\n}\r\n","import { SortVisualizer } from '../';\r\nimport { InsertionSort } from 'animation';\r\nimport './insertion-sort.scss';\r\n\r\n\r\nexport default class InsertionSortVisualizer extends SortVisualizer {\r\n    static VISUALIZATION_CLASS = InsertionSort;\r\n    static DIV_CLASS = \"insertion-sort\";\r\n    static NAME = \"Insertion Sort\";\r\n}\r\n","import { SortVisualizer } from '../';\r\nimport { SelectionSort } from 'animation';\r\nimport './selection-sort.scss';\r\n\r\n\r\nexport default class SelectionSortVisualizer extends SortVisualizer {\r\n    static VISUALIZATION_CLASS = SelectionSort;\r\n    static DIV_CLASS = \"selection-sort\";\r\n    static NAME = \"Selection Sort\";\r\n}\r\n","import { QuickVisualizer } from '../';\r\nimport { QuickSort } from 'animation';\r\nimport './quick-sort.scss';\r\n\r\n\r\nexport default class QuickSortVisualizer extends QuickVisualizer {\r\n    static VISUALIZATION_CLASS = QuickSort;\r\n    static DIV_CLASS = \"quick-sort\";\r\n    static NAME = \"Quick Sort\";\r\n}\r\n","import { SelectVisualizer } from '../';\r\nimport { QuickSelect } from 'animation';\r\nimport './quick-select.scss';\r\n\r\n\r\nexport default class QuickSelectVisualizer extends SelectVisualizer {\r\n    static VISUALIZATION_CLASS = QuickSelect;\r\n    static DIV_CLASS = \"quick-select\";\r\n    static NAME = \"Quick Select\";\r\n}\r\n","import { SortVisualizer } from '../';\r\nimport { MergeSort } from 'animation';\r\nimport './merge-sort.scss';\r\n\r\n\r\nexport default class MergeSortVisualizer extends SortVisualizer {\r\n    static VISUALIZATION_CLASS = MergeSort;\r\n    static DIV_CLASS = \"merge-sort\";\r\n    static NAME = \"Merge Sort\";\r\n}\r\n","import { SortVisualizer } from '../';\r\nimport { LSDRadixSort } from 'animation';\r\nimport './lsd-radix-sort.scss';\r\n\r\n\r\nexport default class LSDRadixSortVisualizer extends SortVisualizer {\r\n    static VISUALIZATION_CLASS = LSDRadixSort;\r\n    static DIV_CLASS = \"lsd-radix-sort\";\r\n    static NAME = \"LSD Radix Sort\";\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class SearchVisualizer extends Visualizer {\r\n    static ADT_NAME = \"search\";\r\n    static VISUALIZATION_METHODS = [\"search\", \"reset\"];\r\n\r\n    addControls(offerTable = false) {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"searchText\", prompt: \"text\", callback: false}, ControlBuilder.validatorMaxLength(100));\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"pattern\", callback: false, args: {size: 15}}, ControlBuilder.validatorMaxLength(100));\r\n        ControlBuilder.addFieldSubmit(this.searchTextField, this.search,\r\n                {\r\n                    secondaryRequired: true,\r\n                    secondary: {\r\n                        field: this.patternField,\r\n                        clear: true\r\n                    }\r\n                }\r\n            );\r\n        ControlBuilder.addFieldSubmit(this.patternField, offerTable ? this.buildTable : this.search,\r\n                {\r\n                    secondaryRequired: !offerTable,\r\n                    secondary: {\r\n                        field: this.searchTextField,\r\n                        callback: this.search,\r\n                        isFirstParam: true,\r\n                        clear: true\r\n                    }\r\n                }\r\n            );\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"search\", {field: this.searchTextField, focus: true}, this.patternField);\r\n\r\n        if (offerTable) {\r\n            ControlBuilder.applyNewCallbackButton(this, {name: \"buildTable\", longName: `build ${offerTable} table`}, this.patternField);\r\n        }\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.searchTextField);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.searchTextField);\r\n\r\n        // build groups\r\n        let searchTextFieldGroup = ControlBuilder.createControlGroup({id: \"searchtext-field-group\", classes:[\"expanding-group\",\"w50\"]}, this.searchTextField);\r\n        let patternFieldGroup = ControlBuilder.createControlGroup(\"pattern-field-group\", this.patternField);\r\n        let searchButtonGroup = ControlBuilder.createControlGroup(\"search-button-group\", this.searchButton);\r\n        let buildTableGroup = offerTable ? ControlBuilder.createControlGroup(\"buildtable-button-group\", this.buildTableButton) : undefined;\r\n        let resetGroup = ControlBuilder.createControlGroup(\"reset-group\", this.resetButton);\r\n\r\n        super.addControlGroups(searchTextFieldGroup, patternFieldGroup, searchButtonGroup);\r\n        if (offerTable) {\r\n            super.addControlGroups(buildTableGroup);\r\n        }\r\n        super.addControlGroups(resetGroup);\r\n    }\r\n}\r\n","import { SearchVisualizer } from './';\r\n\r\n\r\nexport default class SearchWithTableVisualizer extends SearchVisualizer {\r\n    static VISUALIZATION_METHODS = [\"buildTable\"];\r\n\r\n    addControls() {\r\n        super.addControls(this.constructor.TABLE_NAME);\r\n    }\r\n}\r\n","import { SearchVisualizer } from '../';\r\nimport { BruteForce } from 'animation';\r\nimport './brute-force.scss';\r\n\r\n\r\nexport default class BruteForceVisualizer extends SearchVisualizer {\r\n    static VISUALIZATION_CLASS = BruteForce;\r\n    static DIV_CLASS = \"brute-force\";\r\n    static NAME = \"Brute Force Search\";\r\n}\r\n","import { SearchWithTableVisualizer } from '../';\r\nimport { BoyerMoore } from 'animation';\r\nimport './boyer-moore.scss';\r\n\r\n\r\nexport default class BoyerMooreVisualizer extends SearchWithTableVisualizer {\r\n    static VISUALIZATION_CLASS = BoyerMoore;\r\n    static DIV_CLASS = \"boyer-moore\";\r\n    static NAME = \"Boyer-Moore Algorithm\";\r\n\r\n    static TABLE_NAME = \"last occurence\";\r\n}\r\n","import { SearchWithTableVisualizer } from '../';\r\nimport { KMP } from 'animation';\r\nimport './kmp.scss';\r\n\r\n\r\nexport default class KMPVisualizer extends SearchWithTableVisualizer {\r\n    static VISUALIZATION_CLASS = KMP;\r\n    static DIV_CLASS = \"kmp\";\r\n    static NAME = \"Knuth–Morris–Pratt Algorithm\";\r\n\r\n    static TABLE_NAME = \"failure\";\r\n}\r\n","import { SearchVisualizer } from '../';\r\nimport { RabinKarp } from 'animation';\r\nimport './rabin-karp.scss';\r\n\r\n\r\nexport default class RabinKarpVisualizer extends SearchVisualizer {\r\n    static VISUALIZATION_CLASS = RabinKarp;\r\n    static DIV_CLASS = \"rabin-karp\";\r\n    static NAME = \"Rabin Karp Algorithm\";\r\n}\r\n","import Visualizer from 'components/visualizer';\r\n\r\nimport './graph.scss';\r\n\r\nexport default class GraphVisualizer extends Visualizer {\r\n    static ADT_NAME = \"graph\";\r\n    static VISUALIZATION_METHODS = [\"run\", \"newSmallGraph\", \"newLargeGraph\", \"toggleRepresentation\"];\r\n}\r\n","import { ControlBuilder } from 'utils';\r\n\r\nexport function addStartVertexField_and_runButton(visualizer) {\r\n    ControlBuilder.applyFieldWithOptions(visualizer, {name: \"startVertex\", prompt: \"start vertex\", callback: \"run\", args: {size: 10}}, ControlBuilder.validatorMaxLength(2));\r\n    ControlBuilder.applyNewCallbackButton(visualizer, \"run\", visualizer.startVertexField);\r\n    let runGroup = ControlBuilder.createControlGroup(\"run-group\", visualizer.startVertexField, visualizer.runButton);\r\n    visualizer.addControlGroups(runGroup);\r\n}\r\n\r\nexport function addRunButton(visualizer) {\r\n    ControlBuilder.applyNewCallbackButton(visualizer, \"run\");\r\n    let runButtonGroup = ControlBuilder.createControlGroup(\"run-button-group\", visualizer.runButton);\r\n    visualizer.addControlGroups(runButtonGroup);\r\n}\r\n\r\nexport function addDFStypeRadio(visualizer) {\r\n    visualizer.toggleDFStypeRadio = ControlBuilder.createRadio(\"toggleDFStype\", \"Stack\", \"Recursion\");\r\n    ControlBuilder.addRadioSubmit(visualizer.toggleDFStypeRadio, visualizer.toggleDFStype);\r\n    let dfsTypeRadioGroup = ControlBuilder.createControlGroup(\"toggleDFStype\", visualizer.toggleDFStypeRadio);\r\n    visualizer.addControlGroups(dfsTypeRadioGroup);\r\n}\r\n\r\nexport function addNewGraphButtons(visualizer) {\r\n    ControlBuilder.applyNewCallbackButton(visualizer, \"newSmallGraph\");\r\n    ControlBuilder.applyNewCallbackButton(visualizer, \"newLargeGraph\");\r\n    let newGraphButtonsGroup = ControlBuilder.createControlGroup(\"new-graph-group\", visualizer.newSmallGraphButton, visualizer.newLargeGraphButton);\r\n    visualizer.addControlGroups(newGraphButtonsGroup);\r\n}\r\n\r\nexport function addDirectedUndirectedRadio(visualizer) {\r\n    visualizer.toggleUndirectedDirectedRadio = ControlBuilder.createRadio(\"toggleUndirectedDirected\", \"Undirected\", \"Directed\");\r\n    ControlBuilder.addRadioSubmit(visualizer.toggleUndirectedDirectedRadio, visualizer.toggleUndirectedDirected);\r\n    let directedUndirectedRadioGroup = ControlBuilder.createControlGroup(\"toggleUndirectedDirected\", visualizer.toggleUndirectedDirectedRadio);\r\n    visualizer.addControlGroups(directedUndirectedRadioGroup);\r\n}\r\n\r\nexport function addRepresentationRadio(visualizer) {\r\n    visualizer.toggleRepresentationRadio = ControlBuilder.createRadio(\"toggleRepresentation\",\r\n            {value: \"nodeEdge\", longText: \"Node/Edge Prepresentation\"},\r\n            {value: \"adjacencyList\", longText: \"Adjacency List Prepresentation\"},\r\n            {value: \"adjacencyMatrix\", longText: \"Adjacency Matrix Prepresentation\"},\r\n        );\r\n    ControlBuilder.addRadioSubmit(visualizer.toggleRepresentationRadio, visualizer.toggleRepresentation);\r\n    let representationRadioGroup = ControlBuilder.createControlGroup(\"toggleRepresentation\", visualizer.toggleRepresentationRadio);\r\n    visualizer.addControlGroups(representationRadioGroup);\r\n}\r\n","import * as GraphVisualizerControls from './graph-visualizer-controls';\r\n\r\nexport default GraphVisualizerControls;\r\n","import { GraphVisualizer } from '../';\r\nimport GraphControls from 'components/graph-visualizer-controls';\r\n\r\nimport { BFS } from 'animation';\r\nimport './bfs.scss';\r\n\r\n\r\nexport default class BFSVisualizer extends GraphVisualizer {\r\n    static VISUALIZATION_METHODS = [\"toggleUndirectedDirected\"];\r\n\r\n    static VISUALIZATION_CLASS = BFS;\r\n    static DIV_CLASS = \"bfs\";\r\n    static NAME = \"Breadth-First Search\";\r\n\r\n    addControls() {\r\n        GraphControls.addStartVertexField_and_runButton(this);\r\n        GraphControls.addNewGraphButtons(this);\r\n        GraphControls.addDirectedUndirectedRadio(this);\r\n        GraphControls.addRepresentationRadio(this);\r\n    }\r\n}\r\n","import { GraphVisualizer } from '../';\r\nimport GraphControls from 'components/graph-visualizer-controls';\r\n\r\nimport { DFS } from 'animation';\r\nimport './dfs.scss';\r\n\r\n\r\nexport default class DFSVisualizer extends GraphVisualizer {\r\n    static VISUALIZATION_METHODS = [\"toggleDFStype\", \"toggleUndirectedDirected\"];\r\n\r\n    static VISUALIZATION_CLASS = DFS;\r\n    static DIV_CLASS = \"dfs\";\r\n    static NAME = \"Depth-First Search\";\r\n\r\n    addControls() {\r\n        GraphControls.addStartVertexField_and_runButton(this);\r\n        GraphControls.addDFStypeRadio(this);\r\n        GraphControls.addNewGraphButtons(this);\r\n        GraphControls.addDirectedUndirectedRadio(this);\r\n        GraphControls.addRepresentationRadio(this);\r\n    }\r\n}\r\n","import { GraphVisualizer } from '../';\r\nimport GraphControls from 'components/graph-visualizer-controls';\r\n\r\nimport { Dijkstras } from 'animation';\r\nimport './dijkstras.scss';\r\n\r\n\r\nexport default class DijkstrasVisualizer extends GraphVisualizer {\r\n    static VISUALIZATION_METHODS = [\"toggleUndirectedDirected\"];\r\n\r\n    static VISUALIZATION_CLASS = Dijkstras;\r\n    static DIV_CLASS = \"dijkstras\";\r\n    static NAME = \"Dijkstra's (Shortest Path) Algorithm\";\r\n\r\n    addControls() {\r\n        GraphControls.addStartVertexField_and_runButton(this);\r\n        GraphControls.addNewGraphButtons(this);\r\n        GraphControls.addDirectedUndirectedRadio(this);\r\n        GraphControls.addRepresentationRadio(this);\r\n    }\r\n}\r\n","import { GraphVisualizer } from '../';\r\nimport GraphControls from 'components/graph-visualizer-controls';\r\n\r\nimport { Prims } from 'animation';\r\nimport './prims.scss';\r\n\r\n\r\nexport default class PrimsVisualizer extends GraphVisualizer {\r\n    static VISUALIZATION_CLASS = Prims;\r\n    static DIV_CLASS = \"prims\";\r\n    static NAME = \"Prim's (Minimum Spanning Tree) Algorithm\";\r\n\r\n    addControls() {\r\n        GraphControls.addStartVertexField_and_runButton(this);\r\n        GraphControls.addNewGraphButtons(this);\r\n        GraphControls.addRepresentationRadio(this);\r\n    }\r\n}\r\n","import { GraphVisualizer } from '../';\r\nimport GraphControls from 'components/graph-visualizer-controls';\r\n\r\nimport { Kruskals } from 'animation';\r\nimport './kruskals.scss';\r\n\r\n\r\nexport default class KruskalsVisualizer extends GraphVisualizer {\r\n    static VISUALIZATION_CLASS = Kruskals;\r\n    static DIV_CLASS = \"kruskals\";\r\n    static NAME = \"Kruskal's (Minimum Spanning Tree) Algorithm\";\r\n\r\n    addControls() {\r\n        GraphControls.addRunButton(this);\r\n        GraphControls.addNewGraphButtons(this);\r\n        GraphControls.addRepresentationRadio(this);\r\n    }\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\nimport { LCS } from 'animation';\r\nimport './lcs.scss';\r\n\r\n\r\nexport default class LCSVisualizer extends Visualizer {\r\n    static ADT_NAME = \"lcs\";\r\n    static VISUALIZATION_METHODS = [\"findLCS\"];\r\n\r\n    static VISUALIZATION_CLASS = LCS;\r\n    static DIV_CLASS = \"lcs\";\r\n    static NAME = \"Longest Common Subsequence\";\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"firstString\", prompt: \"first string\", callback: false}, ControlBuilder.validatorMaxLength(100));\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"secondString\", prompt: \"second string\", callback: false}, ControlBuilder.validatorMaxLength(100));\r\n        ControlBuilder.addFieldSubmit(this.firstStringField, this.findLCS,\r\n                {\r\n                    secondaryRequired: true,\r\n                    secondary: {\r\n                        field: this.secondStringField,\r\n                        clear: true\r\n                    }\r\n                }\r\n            );\r\n        ControlBuilder.addFieldSubmit(this.secondStringField, this.findLCS,\r\n                {\r\n                    secondaryRequired: true,\r\n                    secondary: {\r\n                        field: this.firstStringField,\r\n                        isFirstParam: true,\r\n                        clear: true\r\n                    }\r\n                }\r\n            );\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, {name: \"findLCS\", longName: `Find LCS`}, {field: this.firstStringField, focus: true}, this.secondStringField);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.findLCSButton, this.firstStringField);\r\n\r\n        // build groups\r\n        let stringFieldGroup = ControlBuilder.createControlGroup({id: \"findLCStext-field-group\", classes:[\"expanding-group\",\"w50\"]}, this.firstStringField, this.secondStringField);\r\n        let lcsButtonGroup = ControlBuilder.createControlGroup(\"lcs-button-group\", this.findLCSButton);\r\n\r\n        super.addControlGroups(stringFieldGroup, lcsButtonGroup);\r\n    }\r\n}\r\n","import { GraphVisualizer } from 'components/graph-algorithms';\r\nimport GraphControls from 'components/graph-visualizer-controls';\r\n\r\nimport { FloydWarshall } from 'animation';\r\nimport './floyd-warshall.scss';\r\n\r\n\r\nexport default class FloydWarshallVisualizer extends GraphVisualizer {\r\n    static ADT_NAME = \"graph\";\r\n    static VISUALIZATION_METHODS = [\"toggleUndirectedDirected\"];\r\n\r\n    static VISUALIZATION_CLASS = FloydWarshall;\r\n    static DIV_CLASS = \"floyd-warshall\";\r\n    static NAME = \"Floyd Warshall (Shortest Path) Algorithm\";\r\n\r\n    addControls() {\r\n        GraphControls.addRunButton(this);\r\n        GraphControls.addNewGraphButtons(this);\r\n        GraphControls.addDirectedUndirectedRadio(this);\r\n        GraphControls.addRepresentationRadio(this);\r\n    }\r\n}\r\n","import { default as ArrayListVisualizer } from 'components/lists/arraylist';\r\nimport { default as SinglyLinkedListVisualizer } from 'components/lists/singly-linked-list';\r\nimport { default as DoublyLinkedListVisualizer } from 'components/lists/doubly-linked-list';\r\nimport { default as CircularSinglyLinkedListVisualizer } from 'components/lists/circular-singly-linked-list';\r\n\r\nimport { default as StackArrayVisualizer } from 'components/stacks-queues-deques/stack-array';\r\nimport { default as StackLinkedListVisualizer } from 'components/stacks-queues-deques/stack-linked-list';\r\nimport { default as QueueArrayVisualizer } from 'components/stacks-queues-deques/queue-array';\r\nimport { default as QueueLinkedListVisualizer } from 'components/stacks-queues-deques/queue-linked-list';\r\nimport { default as DequeArrayVisualizer } from 'components/stacks-queues-deques/deque-array';\r\nimport { default as DequeLinkedListVisualizer } from 'components/stacks-queues-deques/deque-linked-list';\r\n\r\nimport { default as BSTVisualizer } from 'components/trees-skiplist/bst';\r\nimport { default as HeapVisualizer } from 'components/trees-skiplist/heap';\r\nimport { default as AVLVisualizer } from 'components/trees-skiplist/avl';\r\nimport { default as SplayTreeVisualizer } from 'components/trees-skiplist/splaytree';\r\nimport { default as BTreeVisualizer } from 'components/trees-skiplist/btree';\r\nimport { default as SkipListVisualizer } from 'components/trees-skiplist/skiplist';\r\n\r\nimport { default as HashMapProbingVisualizer } from 'components/hashmaps/hashmap-probing';\r\nimport { default as HashMapChainingVisualizer } from 'components/hashmaps/hashmap-chaining';\r\n\r\nimport { default as BubbleSortVisualizer } from 'components/sorting-quickselect/bubble-sort';\r\nimport { default as CocktailShakerSortVisualizer } from 'components/sorting-quickselect/cocktail-shaker-sort';\r\nimport { default as InsertionSortVisualizer } from 'components/sorting-quickselect/insertion-sort';\r\nimport { default as SelectionSortVisualizer } from 'components/sorting-quickselect/selection-sort';\r\nimport { default as QuickSortVisualizer } from 'components/sorting-quickselect/quick-sort';\r\nimport { default as QuickSelectVisualizer } from 'components/sorting-quickselect/quick-select';\r\nimport { default as MergeSortVisualizer } from 'components/sorting-quickselect/merge-sort';\r\nimport { default as LSDRadixSortVisualizer } from 'components/sorting-quickselect/lsd-radix-sort';\r\n\r\nimport { default as BruteForceVisualizer } from 'components/string-searching/brute-force';\r\nimport { default as BoyerMooreVisualizer } from 'components/string-searching/boyer-moore';\r\nimport { default as KMPVisualizer } from 'components/string-searching/kmp';\r\nimport { default as RabinKarpVisualizer } from 'components/string-searching/rabin-karp';\r\n\r\nimport { default as BFSVisualizer } from 'components/graph-algorithms/bfs';\r\nimport { default as DFSVisualizer } from 'components/graph-algorithms/dfs';\r\nimport { default as DijkstrasVisualizer } from 'components/graph-algorithms/dijkstras';\r\nimport { default as PrimsVisualizer } from 'components/graph-algorithms/prims';\r\nimport { default as KruskalsVisualizer } from 'components/graph-algorithms/kruskals';\r\n\r\nimport { default as LCSVisualizer } from 'components/dynamic-programming/lcs';\r\nimport { default as FloydWarshallVisualizer } from 'components/dynamic-programming/floyd-warshall';\r\n\r\nexport const SiteMap =\r\n[\r\n    {\r\n        link: \"datastructures\",\r\n        icon: \"sitemap\",\r\n        title_text: \"Data Structures\",\r\n        types: [\r\n            {\r\n                link: \"lists\",\r\n                title_text: \"Lists\",\r\n                visualizers: [\r\n                    {\r\n                        link: \"arraylist\",\r\n                        title_text: \"ArrayList\",\r\n                        component: ArrayListVisualizer,\r\n                    },\r\n                    {\r\n                        link: \"sll\",\r\n                        title_text: \"Singly LinkedList\",\r\n                        component: SinglyLinkedListVisualizer,\r\n                    },\r\n                    {\r\n                        link: \"dll\",\r\n                        title_text: \"Doubly LinkedList\",\r\n                        component: DoublyLinkedListVisualizer,\r\n                    },\r\n                    {\r\n                        link: \"c-sll\",\r\n                        title_text: \"Circular Singly LinkedList\",\r\n                        component: CircularSinglyLinkedListVisualizer,\r\n                    },\r\n                ],\r\n            },\r\n            {\r\n                link: \"stacks-queues-deques\",\r\n                title_text: \"Stacks/Queues/Deques\",\r\n                visualizers: [\r\n                    {\r\n                        link: \"stack-array\",\r\n                        title_text: \"Stack (Array)\",\r\n                        component: StackArrayVisualizer,\r\n                    },\r\n                    {\r\n                        link: \"stack-linkedlist\",\r\n                        title_text: \"Stack (LinkedList)\",\r\n                        component: StackLinkedListVisualizer,\r\n                    },\r\n                    {\r\n                        link: \"queue-array\",\r\n                        title_text: \"Queue (Array)\",\r\n                        component: QueueArrayVisualizer,\r\n                    },\r\n                    {\r\n                        link: \"queue-linkedlist\",\r\n                        title_text: \"Queue (LinkedList)\",\r\n                        component: QueueLinkedListVisualizer,\r\n                    },\r\n                    {\r\n                        link: \"deque-array\",\r\n                        title_text: \"Deque (Array)\",\r\n                        component: DequeArrayVisualizer,\r\n                    },\r\n                    {\r\n                        link: \"deque-linkedlist\",\r\n                        title_text: \"Deque (LinkedList)\",\r\n                        component: DequeLinkedListVisualizer,\r\n                    },\r\n                ],\r\n            },\r\n            {\r\n                link: \"trees-skiplist\",\r\n                title_text: \"Trees and SkipList\",\r\n                visualizers: [\r\n                    {\r\n                        link: \"bst\",\r\n                        title_text: \"Binary Search Tree\",\r\n                        component: BSTVisualizer,\r\n                    },\r\n                    {\r\n                        link: \"heap-pq\",\r\n                        title_text: \"Heap / Priority Queue\",\r\n                        component: HeapVisualizer,\r\n                    },\r\n                    {\r\n                        link: \"avl\",\r\n                        title_text: \"AVL\",\r\n                        component: AVLVisualizer,\r\n                    },\r\n                    {\r\n                        link: \"24-tree\",\r\n                        title_text: \"2-4 Tree\",\r\n                        component: BTreeVisualizer,\r\n                    },\r\n                    {\r\n                        link: \"splaytree\",\r\n                        title_text: \"SplayTree\",\r\n                        component: SplayTreeVisualizer,\r\n                    },\r\n                    {\r\n                        link: \"skiplist\",\r\n                        title_text: \"SkipList\",\r\n                        component: SkipListVisualizer,\r\n                    },\r\n                ],\r\n            },\r\n            {\r\n                link: \"hashmaps\",\r\n                title_text: \"HashMaps\",\r\n                visualizers: [\r\n                    {\r\n                        link: \"hashmap-probing\",\r\n                        title_text: \"HashMap (Probing)\",\r\n                        component: HashMapProbingVisualizer,\r\n                    },\r\n                    {\r\n                        link: \"hashmap-chaining\",\r\n                        title_text: \"HashMap (Chaining)\",\r\n                        component: HashMapChainingVisualizer,\r\n                    },\r\n                ],\r\n            },\r\n        ],\r\n    },\r\n    {\r\n        link: \"algorithms\",\r\n        icon: \"stack-overflow\",\r\n        title_text: \"Algorithms\",\r\n        types: [\r\n            {\r\n                link: \"sorting-quickselect\",\r\n                title_text: \"Sorting and QuickSelect\",\r\n                visualizers: [\r\n                    {\r\n                        link: \"bubble-sort\",\r\n                        title_text: \"Bubble Sort\",\r\n                        component: BubbleSortVisualizer,\r\n                    },\r\n                    {\r\n                        link: \"cocktail-shaker-sort\",\r\n                        title_text: \"Cocktail Shaker Sort\",\r\n                        component: CocktailShakerSortVisualizer,\r\n                    },\r\n                    {\r\n                        link: \"insertion-sort\",\r\n                        title_text: \"Insertion Sort\",\r\n                        component: InsertionSortVisualizer,\r\n                    },\r\n                    {\r\n                        link: \"selection-sort\",\r\n                        title_text: \"Selection Sort\",\r\n                        component: SelectionSortVisualizer,\r\n                    },\r\n                    {\r\n                        link: \"quick-sort\",\r\n                        title_text: \"Quick Sort\",\r\n                        component: QuickSortVisualizer,\r\n                    },\r\n                    {\r\n                        link: \"quick-select\",\r\n                        title_text: \"Quick Select / kᵗʰ select\",\r\n                        component: QuickSelectVisualizer,\r\n                    },\r\n                    {\r\n                        link: \"merge-sort\",\r\n                        title_text: \"Merge Sort\",\r\n                        component: MergeSortVisualizer,\r\n                    },\r\n                    {\r\n                        link: \"lsd-radix-sort\",\r\n                        title_text: \"LSD Radix Sort\",\r\n                        component: LSDRadixSortVisualizer,\r\n                    },\r\n                ],\r\n            },\r\n            {\r\n                link: \"string-searching\",\r\n                title_text: \"String Searching\",\r\n                visualizers: [\r\n                    {\r\n                        link: \"brute-force\",\r\n                        title_text: \"Brute Force\",\r\n                        component: BruteForceVisualizer,\r\n                    },\r\n                    {\r\n                        link: \"boyer-moore\",\r\n                        title_text: \"Boyer Moore\",\r\n                        component: BoyerMooreVisualizer,\r\n                    },\r\n                    {\r\n                        link: \"kmp\",\r\n                        title_text: \"KMP\",\r\n                        component: KMPVisualizer,\r\n                    },\r\n                    {\r\n                        link: \"rabin-karp\",\r\n                        title_text: \"Rabin Karp\",\r\n                        component: RabinKarpVisualizer,\r\n                    },\r\n                ],\r\n            },\r\n            {\r\n                link: \"graphs\",\r\n                title_text: \"Graph Algorithms\",\r\n                visualizers: [\r\n                    {\r\n                        link: \"bfs\",\r\n                        title_text: \"Breadth-First Search\",\r\n                        component: BFSVisualizer,\r\n                    },\r\n                    {\r\n                        link: \"dfs\",\r\n                        title_text: \"Depth-First Search\",\r\n                        component: DFSVisualizer,\r\n                    },\r\n                    {\r\n                        link: \"dijkstras\",\r\n                        title_text: \"Dijkstra's\",\r\n                        component: DijkstrasVisualizer,\r\n                    },\r\n                    {\r\n                        link: \"prims\",\r\n                        title_text: \"Prim's\",\r\n                        component: PrimsVisualizer,\r\n                    },\r\n                    {\r\n                        link: \"kruskals\",\r\n                        title_text: \"Kruskal's\",\r\n                        component: KruskalsVisualizer,\r\n                    },\r\n                ],\r\n            },\r\n            {\r\n                link: \"dynamic\",\r\n                title_text: \"Dynamic Programming\",\r\n                visualizers: [\r\n                    {\r\n                        link: \"lcs\",\r\n                        title_text: \"LCS\",\r\n                        component: LCSVisualizer,\r\n                    },\r\n                    {\r\n                        link: \"floyd-warshall\",\r\n                        title_text: \"Floyd-Warshall\",\r\n                        component: FloydWarshallVisualizer,\r\n                    },\r\n                ],\r\n            },\r\n        ],\r\n    },\r\n    {\r\n        link: \"about\",\r\n        icon: \"user\",\r\n        title_text: \"About\",\r\n    },\r\n];\r\n","import React from 'react';\r\nimport './app-header.scss';\r\nimport NavBar from '../nav-bar';\r\nimport { SiteMap } from 'utils';\r\n\r\nexport default function AppHeader() {\r\n    return (\r\n            <header className=\"app-header\">\r\n                <NavBar nav_items={SiteMap} />\r\n            </header>\r\n        );\r\n}\r\n","import React from 'react';\r\nimport './app-footer.scss';\r\n\r\n\r\nexport default function AppFooter() {\r\n    return (\r\n            <footer className=\"app-footer\">\r\n                <div className=\"footer-message\">\r\n                    <p>Created using ReactJS by Mudit Gupta for The Georgia Institute of Technology. Updated Feb. 16, 2020.</p>\r\n                </div>\r\n            </footer>\r\n        );\r\n}\r\n","import { VisualizerTitle } from './visualizer-title';\r\nexport default VisualizerTitle;\r\n","import React from 'react';\r\nimport './visualizer-title.scss';\r\n\r\nexport const VisualizerTitle = (props) => {\r\n    return (\r\n            <div className=\"visualizer-title\" onClick={() => {window.location.hash = `#/${props.group}/${props.type}/${props.link}`;}}>\r\n                <p className=\"title-text\">{props.title}</p>\r\n            </div>\r\n        );\r\n}\r\n","import { VisualizerType } from './visualizer-type';\r\nexport default VisualizerType;\r\n","import React, { useEffect } from 'react';\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport './visualizer-type.scss';\r\n\r\nimport { SiteMap } from 'utils';\r\nimport { default as VisualizerTitle } from './visualizer-title';\r\n\r\nexport const VisualizerType = (props) => {\r\n    let match = useRouteMatch({\r\n        path: `/${props.group}/${props.type}/:visualizerClass`\r\n    });\r\n    useEffect(() => {\r\n        document.querySelector(\".app-content\").style[\"overflow-y\"] = match || \"scroll\";\r\n    });\r\n    let type = SiteMap.filter(group => group.link === props.group)[0].types.filter(type => type.link === props.type)[0];\r\n    let VisualizerComponent = match ? type.visualizers.filter(visualizer => visualizer.link === match.params.visualizerClass)[0].component : null;\r\n    return (\r\n            match\r\n                ? <VisualizerComponent />\r\n                : <div className=\"visualizer-type\">\r\n                        <h4 className=\"visualizer-type-title\">{type.title_text}</h4>\r\n                        <div className=\"visualizer-title-container\">\r\n                            {type.visualizers.map( (visualizer) => {\r\n                                return (\r\n                                        <VisualizerTitle key={visualizer.link} group={props.group} type={props.type} title={visualizer.title_text} link={visualizer.link} />\r\n                                    );\r\n                            })}\r\n                        </div>\r\n                </div>\r\n        );\r\n}\r\n","import { VisualizerGroup } from './visualizer-group';\r\nexport default VisualizerGroup;\r\n","import React from 'react';\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport './visualizer-group.scss';\r\n\r\nimport { SiteMap } from 'utils';\r\nimport { default as VisualizerType } from './visualizer-type';\r\n\r\nexport const VisualizerGroup = (props) => {\r\n    let match = useRouteMatch({\r\n        path: `/${props.group}/:visualizerType`\r\n    });\r\n    return (\r\n            match\r\n                ? <VisualizerType group={props.group} type={match.params.visualizerType} />\r\n                : <div className=\"visualizer-group\">\r\n                    {SiteMap.filter(group => group.link === props.group)[0].types.map( (type) => {\r\n                        return (\r\n                                <VisualizerType key={type.link} group={props.group} type={type.link} />\r\n                            );\r\n                    })}\r\n                </div>\r\n        );\r\n}\r\n","import { Main } from './main';\r\nexport default Main;\r\n","import React from 'react';\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport './main.scss';\r\n\r\nimport { SiteMap } from 'utils';\r\nimport { default as VisualizerGroup } from 'components/visualizer-group';\r\n\r\nexport const Main = () => {\r\n    let match = useRouteMatch({\r\n        path: \"/:visualizerGroup\"\r\n    });\r\n    return (\r\n            match\r\n                ? <VisualizerGroup group={match.params.visualizerGroup} />\r\n                : <div className=\"main\">\r\n                    {SiteMap.slice(0,-1).map( (group) => {\r\n                        return (\r\n                                <VisualizerGroup group={group.link} />\r\n                            );\r\n                    })}\r\n                </div>\r\n        );\r\n}\r\n","import React from 'react';\r\nimport './about.scss';\r\n\r\nexport default function About() {\r\n    return (\r\n            <div className=\"about\">\r\n                <h1>About CS Vis</h1>\r\n                <p>I created this tool to visualize some of the algorithms I've been learning in my classes.\r\n                Most of these visualizations are inspired by those found at <a href='https://csvistool.com'>csvistool.com</a>.\r\n                I tried to make the UX here as convenient as possible, but I'd love to hear your design input;\r\n                I'm not a front-end person, so I'm doing my best :).</p>\r\n            <p>Check out the <a href='https://github.com/muditg317/cs-vis'>Source Code here</a>!</p>\r\n                <h2>Me!</h2>\r\n                <p>This is something I wanted to make to learn more about these datastructures and algorithms while also learning how to use the ReactJS framework.\r\n                Check out some of my other projects at <a href='https://muditgupta.appspot.com'>muditgupta.appspot.com</a></p>\r\n            </div>\r\n        );\r\n}\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport MainComponent from './components';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<MainComponent />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","import React from 'react';\r\nimport { HashRouter, Route } from \"react-router-dom\";\r\nimport './app.scss';\r\nimport './universal.scss';\r\n\r\nimport AppHeader from './app-header';\r\nimport AppFooter from './app-footer';\r\nimport Main from 'components/main';\r\nimport About from 'components/about';\r\n\r\nexport default function App() {\r\n    return (\r\n            <HashRouter basename='/'>\r\n                <div className=\"app\">\r\n                    <AppHeader />\r\n                    <div className=\"app-content\">\r\n                        <Route path=\"/\">\r\n                            <Main />\r\n                        </Route>\r\n                        <Route path=\"/about\">\r\n                            <About />\r\n                        </Route>\r\n                    </div>\r\n                    <AppFooter />\r\n                </div>\r\n            </HashRouter>\r\n        );\r\n}\r\n"],"sourceRoot":""}