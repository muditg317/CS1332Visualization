{"version":3,"sources":["res/images/logo.svg","components/app/nav-bar/nav-bar.jsx","utils/ControlBuilder.js","utils/Colors.js","utils/Utils.js","components/visualizer/controlBar/controlBar.jsx","components/big-o-type/big-o-display/big-o-display.jsx","components/big-o-type/big-o-display/index.js","components/visualizer/bigOWindow/bigOWindow.jsx","animation/AnimatedObjects/AnimatedObject.js","animation/AnimatedObjects/AttractedDraggableObject.js","animation/AnimatedObjects/AttractedHighlightableObject.js","animation/AnimatedObjects/TreeNode.js","animation/AnimatedObjects/TrackingHighlighter.js","animation/Animator.js","animation/Visualization.js","animation/Visualizations/DataStructure/List/ArrayList/ArrayList.js","animation/Visualizations/DataStructure/List/LinkedList/SinglyLinkedList/SinglyLinkedList.js","animation/Visualizations/DataStructure/List/LinkedList/DoublyLinkedList/DoublyLinkedList.js","animation/Visualizations/DataStructure/List/LinkedList/CircularSinglyLinkedList/CircularSinglyLinkedList.js","animation/Visualizations/DataStructure/Stack-Queue-Deque/Stack/StackArray/StackArray.js","animation/Visualizations/DataStructure/Stack-Queue-Deque/Stack/StackLinkedList/StackLinkedList.js","animation/Visualizations/DataStructure/Stack-Queue-Deque/Queue/QueueArray/QueueArray.js","animation/Visualizations/DataStructure/Stack-Queue-Deque/Queue/QueueLinkedList/QueueLinkedList.js","animation/Visualizations/DataStructure/Stack-Queue-Deque/Deque/DequeArray/DequeArray.js","animation/Visualizations/DataStructure/Stack-Queue-Deque/Deque/DequeLinkedList/DequeLinkedList.js","animation/Visualizations/DataStructure/Tree-SkipList/BinaryTree/BST/BST.js","animation/Visualizations/DataStructure/Tree-SkipList/BinaryTree/Heap/Heap.js","animation/Visualizations/DataStructure/Tree-SkipList/BinaryTree/AVL/AVL.js","animation/Visualizations/DataStructure/Tree-SkipList/BinaryTree/SplayTree/SplayTree.js","animation/Visualizations/DataStructure/Tree-SkipList/BTree/BTree.js","animation/Visualizations/DataStructure/Tree-SkipList/SkipList/SkipList.js","animation/Visualizations/DataStructure/HashMap/HashMapProbing/HashMapProbing.js","animation/Visualizations/DataStructure/HashMap/HashMapChaining/HashMapChaining.js","animation/Visualizations/Algorithm/Sorting-QuickSelect/BubbleSort/BubbleSort.js","animation/Visualizations/Algorithm/Sorting-QuickSelect/CocktailShakerSort/CocktailShakerSort.js","animation/Visualizations/Algorithm/Sorting-QuickSelect/InsertionSort/InsertionSort.js","animation/Visualizations/Algorithm/Sorting-QuickSelect/SelectionSort/SelectionSort.js","animation/Visualizations/Algorithm/Sorting-QuickSelect/QuickSort/QuickSort.js","animation/Visualizations/Algorithm/Sorting-QuickSelect/QuickSelect/QuickSelect.js","animation/Visualizations/Algorithm/Sorting-QuickSelect/MergeSort/MergeSort.js","animation/Visualizations/Algorithm/Sorting-QuickSelect/LSDRadixSort/LSDRadixSort.js","animation/Visualizations/Algorithm/StringSearching/BruteForce/BruteForce.js","animation/Visualizations/Algorithm/StringSearching/BoyerMoore/BoyerMoore.js","animation/Visualizations/Algorithm/StringSearching/KMP/KMP.js","animation/Visualizations/Algorithm/StringSearching/RabinKarp/RabinKarp.js","animation/Visualizations/Algorithm/GraphAlgorithms/BFS/BFS.js","animation/Visualizations/Algorithm/GraphAlgorithms/DFS/DFS.js","animation/Visualizations/Algorithm/GraphAlgorithms/Dijkstras/Dijkstras.js","animation/Visualizations/Algorithm/GraphAlgorithms/Prims/Prims.js","animation/Visualizations/Algorithm/GraphAlgorithms/Kruskals/Kruskals.js","animation/Visualizations/Algorithm/DynamicProgramming/LCS/LCS.js","animation/Visualizations/Algorithm/DynamicProgramming/FloydWarshall/FloydWarshall.js","components/visualizer/visualizer.jsx","components/lists/list-ADT.jsx","components/lists/arraylist/arraylist.jsx","components/lists/singly-linked-list/singly-linked-list.jsx","components/lists/doubly-linked-list/doubly-linked-list.jsx","components/lists/circular-singly-linked-list/circular-singly-linked-list.jsx","components/stacks-queues-deques/stack-ADT.jsx","components/stacks-queues-deques/queue-ADT.jsx","components/stacks-queues-deques/deque-ADT.jsx","components/stacks-queues-deques/stack-array/stack-array.jsx","components/stacks-queues-deques/stack-linked-list/stack-linked-list.jsx","components/stacks-queues-deques/queue-array/queue-array.jsx","components/stacks-queues-deques/queue-linked-list/queue-linked-list.jsx","components/stacks-queues-deques/deque-array/deque-array.jsx","components/stacks-queues-deques/deque-linked-list/deque-linked-list.jsx","components/trees-skiplist/tree-ADT.jsx","components/trees-skiplist/binary-searching-tree-ADT.jsx","components/trees-skiplist/heap-ADT.jsx","components/trees-skiplist/skiplist-ADT.jsx","components/trees-skiplist/bst/bst.jsx","components/trees-skiplist/heap/heap.jsx","components/trees-skiplist/avl/avl.jsx","components/trees-skiplist/splaytree/splaytree.jsx","components/trees-skiplist/btree/btree.jsx","components/trees-skiplist/skiplist/skiplist.jsx","components/hashmaps/hashmap-ADT.jsx","components/hashmaps/probing-ADT.jsx","components/hashmaps/hashmap-probing/hashmap-probing.jsx","components/hashmaps/hashmap-chaining/hashmap-chaining.jsx","components/sorting-quickselect/sort-ADT.jsx","components/sorting-quickselect/bubbling-ADT.jsx","components/sorting-quickselect/quick-ADT.jsx","components/sorting-quickselect/select-ADT.jsx","components/sorting-quickselect/bubble-sort/bubble-sort.jsx","components/sorting-quickselect/cocktail-shaker-sort/cocktail-shaker-sort.jsx","components/sorting-quickselect/insertion-sort/insertion-sort.jsx","components/sorting-quickselect/selection-sort/selection-sort.jsx","components/sorting-quickselect/quick-sort/quick-sort.jsx","components/sorting-quickselect/quick-select/quick-select.jsx","components/sorting-quickselect/merge-sort/merge-sort.jsx","components/sorting-quickselect/lsd-radix-sort/lsd-radix-sort.jsx","components/string-searching/search-ADT.jsx","components/string-searching/with-table-ADT.jsx","components/string-searching/brute-force/brute-force.jsx","components/string-searching/boyer-moore/boyer-moore.jsx","components/string-searching/kmp/kmp.jsx","components/string-searching/rabin-karp/rabin-karp.jsx","components/graph-algorithms/graph-ADT.jsx","components/graph-visualizer-controls/graph-visualizer-controls.jsx","components/graph-visualizer-controls/index.js","components/graph-algorithms/bfs/bfs.jsx","components/graph-algorithms/dfs/dfs.jsx","components/graph-algorithms/dijkstras/dijkstras.jsx","components/graph-algorithms/prims/prims.jsx","components/graph-algorithms/kruskals/kruskals.jsx","components/dynamic-programming/lcs/lcs.jsx","components/dynamic-programming/floyd-warshall/floyd-warshall.jsx","utils/SiteMap.js","components/app/app-header/app-header.jsx","components/app/app-footer/app-footer.jsx","components/visualizer-group/visualizer-type/visualizer-title/index.js","components/visualizer-group/visualizer-type/visualizer-title/visualizer-title.jsx","components/big-o-type/index.js","components/big-o-type/big-o-type.jsx","components/visualizer-group/visualizer-type/index.js","components/visualizer-group/visualizer-type/visualizer-type.jsx","components/visualizer-group/index.js","components/visualizer-group/visualizer-group.jsx","components/main/index.js","components/main/main.jsx","components/about/about.jsx","components/app/app.jsx","serviceWorker.js","index.js"],"names":["module","exports","library","add","fas","far","fab","NavBar","props","state","responsive","selfRef","React","createRef","handleDocumentClick","bind","clear","document","body","scrollTop","documentElement","this","setState","addEventListener","removeEventListener","event","current","contains","target","scrollToTop","id","className","ref","to","window","location","href","substring","indexOf","length","src","logo","alt","nav_items","map","nav_item","key","link","content","container","onClick","toggleResponsiveNav","icon","fixedWidth","size","Component","NavBarItem","title_text","drop_down_items","types","showDropDown","show","setShowDropDown","parentRef","parent","items","parentRoute","NavBarItemTitle","parentNavItem","onMouseDown","containingNavItemRef","e","nativeEvent","which","hash","includes","NavBarDropDown","drop_down_item","NavBarDropDownItem","side_pane_items","classes","showSidePane","toggleShowSidePane","setShowSidePane","NavBarDropDownItemTitle","parentDropDownItem","containingDropDownItemRef","NavBarSidePane","side_pane_item","NavBarSideItem","newEmptyControl","emptyControl","createElement","applyStyle","createControl","type","value","newControl","classList","setAttribute","createButton","label","options","button","innerHTML","attr","tooltipText","attributes","addButtonSubmit","callback","fields","undefined","args","forEach","field","parse","push","f","clearOnSuccess","focus","console","log","applyNewCallbackButton","visualizer","name","longName","addAnimatorEnableDisable","animator","on","disabled","applyResetButton","prompt","fieldToFocus","property","endsWith","constructor","HTMLInputElement","createField","validators","inputValidators","parsers","validator","parser","i","validatorIntOnly","match","reduce","sum","char","val","parseInt","isNaN","validatorPositiveIntOnly","Math","abs","validatorIntList","numLength","maxNums","cursorPos","selectionStart","replace","lastIndexOf","selectionEnd","values","ints","num","pow","intStr","arr","first","second","slice","validatorMaxLength","maxLength","String","validatorSkipListHeads","addFieldSubmit","secondaryRequired","secondary","isFirstParam","success","secondaryValue","applyFieldWithOptions","defaultArgs","createLabel","text","control","newLabel","createSlider","min","max","defaultValue","step","slider","createRadioButton","longText","buttonContainer","radioButton","tabindex","blur","appendChild","click","createRadio","radioContainer","option","radioButtonContainer","childNodes","checked","addRadioSubmit","createCheckButton","checkButton","createCheckBox","checkBoxContainer","checkButtonContainer","addCheckBoxSubmit","max1Checked","checkedButton","checkedValues","checkButtonBox","createControlGroup","controlGroup","controls","setTabControl","nextControl","shifted","preventDefault","styleType","style","RED","GREEN","BLUE","BLACK","WHITE","addArray","array","newArr","arrays","item","isDev","process","unfoldUndoRedo","object","properties","Set","currObj","Object","getOwnPropertyNames","getPrototypeOf","functions","keys","filter","undo","redo","DOM_SELECORS_USING_MOBILE","isMobile","ontouchstart","addMobileClasses","selector","querySelectorAll","node","isReactComponent","component","prototype","windowWidth","clientWidth","innerWidth","windowHeight","clientHeight","innerHeight","ControlBar","defaultContainer","defaults","mainContainer","controlBar","defaultsLabel","forceUpdate","mainLabel","all1","transformed","getBoundingClientRect","width","parseFloat","getComputedStyle","getPropertyValue","remove","testCenterControls","testSize","data-tooltip","tt-bottom","tt-right","showBigODisplay","hasExamples","showExamplesDisplay","PureComponent","bigODatumToDivClass","bigODatum","BigODisplay","BIG_O_DATA","bigOSpecs","data","SiteMap","group","class","bigOData","__proto__","defaultConfig","DATA","headers","col1Name","cols","header","dataString","styleClass","explanation","rows","row","ROW","col","regexIgnoreSymbol","row_","search","col_","BIG_O_OP_INFO","extraConfigData","config","best","average","amortized","worst","unamortized","extraConfig","newBigO","trim","tier","allSame","extractDataFromSpecs","useEffect","mouseEnterHandler","left","top","explanationNode","lastChild","tableCellBounds","explanationNodeBounds","right","Utils","bottom","height","cellsWithExplanations","explanationCell","borderColor","cell","j","split","line","k","BigOWindow","forwardRef","closeBigODisplay","containerRef","useRef","documentClickHandler","escapeKeyHandler","useRouteMatch","path","title","toUpperCase","params","visualizerGroup","visualizerType","visualizerClass","AnimatedObject","xProgress","yProgress","direction","animationSpeed","inPosition","sign","AttractedDraggableObject","x","y","currentX","currentY","desiredX","desiredY","vx","vy","frozen","onStop","pinnedToMouse","mouseOffsetX","mouseOffsetY","stop","sqrt","shift","mouseX","mouseY","CAN_DRAG","p5","deltaX","deltaY","floor","Visualizer","maxAnimationSpeed","angle","atan","PI","magnitude","ATTRACTION","prevAngle","cos","sin","MIN_DISTANCE","AttractedHighlightableObject","highlighted","highlightColor","Colors","highlightShape","HIGHLIGHT_CIRCLE","entries","oldX","oldY","color","shape","unhighlight","highlight","stroke","noFill","strokeWeight","HIGHTLIGHT_WIDTH","diameter","highlightInnerRadius","highlightOuterRadius","circle","HIGHLIGHT_SQUARE","square","pop","textAlign","CENTER","fill","radius","toString","drawHighlight","drawValue","TreeNode","readyToFollow","SIZE","getCenterXY","centerX","centerY","containsMousePin","VSPACE","update","draw","TrackingHighlighter","offset","locked","innerRadius","asRedSquare","trackTarget","Animator","events","Visualization","SET_BOUNDS","SUPPORTS_TEXT","showText","updateText","SUPPORTS_NO_LOOP","drawing","beginDrawLoop","endDrawLoop","SUPPORTS_ANIMATION_CONTROL","paused","playPause","play","pause","skipBack","stepBack","undoAnimation","undoText","skipForward","stepForward","redoAnimation","undoAction","SUPPORTS_STOP_ID","stopID","reset","made","howMany","animationHistory","animationSet","stepData","animation","method","isBackStep","isAnimationStep","isForwardStep","alsoForward","lastForward","displayText","displayTextColor","runningAnimation","animationQueue","animating","stopDrawing","noLoop","emit","enable","disable","isPauseTrigger","unshift","setPaused","noAnim","apply","canStepBack","canSkipBack","canStepForward","canSkipForward","textAnimation","getLastTextAnimation","previousAnimation","doDraw","scope","undoMethod","undoData","LOG_UNDO_REDO","customUndoEnd","ensureDrawn","lastUndo","unAnimate","popHistoryToRunningAnimation","nextAnimation","retVal","redoData","isAnimEnd","isAnimStart","isEndDrawLoopTrigger","explanationUsesReturn","customRedoEnd","returnsUndoData","returnsRedoData","lastRedo","reAnimate","previousAnimationSequence","containsAnimStart","noAnimStartsInQueue","canUndo","isUndoTrigger","wasPaused","splice","TypeError","time","caller","LOG_DONE_ANIMATING","setTimeout","callForward","testsWindowSize","popAnimation","SUPPORTS_INFREQUENT_RESIZE","testWindowSize","LOG_ANIMATIONS","returnValue","TEST_ANIMATION_STEPS","testAnimation","SUPPORTS_CUSTOM_END","noAnimation","customEnd","doneAnimating","MAX_ANIM_TIME","quick","loop","force","LOG_DRAW","textSize","LEFT","TOP","getDisplayTextExtraLines","translate","textWidth","lines","ceil","numScrollbars","maxY","maxWidth","querySelector","resizeCanvas","ArrayList","backingArray","INITIAL_CAPACITY","ArrayElement","index","doubleSize","shiftForIndex","setIndex","sizeIncr","addAnimation","addAtIndex","element","shiftIntoIndex","sizeDecr","removeFromIndex","resetElement","incrLength","shiftElement","shiftElementMovement","shiftElementIndex","ELEMENT_SIZE","foundAnimElement","maxPerRow","numElements","noStroke","rect","block","nextX","nextY","USE_CANVAS","toX","toY","posX","posY","SinglyLinkedList","head","nodes","tempNode","pinnedNode","nextNode","moveHighlight","next","makeNode","setTempNodeBefore","setTempNodePrev","shiftForNode","insertTempNode","prev","toDelete","markNodeForDeletion","unmakeNode","shiftIntoNode","skipTempNode","SinglyLinkedListNode","getNodePosition","fromNode","toNode","unHighlight","nodeToDelete","markForDeletion","addOnStop","shiftNode","ELEMENT_HEIGHT","containsPos","pin","unpin","markBroken","highlightForDeletion","updateNode","ELEMENT_WIDTH","pressedNode","getNodeAtPos","POINTER_WIDTH","ITEM_WIDTH","SPACING","MAX_DIST_REMOVE","handBroken","displacement","dist","DoublyLinkedList","tail","skipTempNodePrev","skipTempNodeNext","DoublyLinkedListNode","ELEMENT_PADDED_WIDTH","CircularSinglyLinkedList","changeHeadData","customNodeShift","resetHead","CircularSinglyLinkedListNode","unfreeze","pointsToHead","curveTightness","beginShape","curveVertex","endShape","StackArray","Array","copyArray","tempElement","topPointerValue","topPointerHighlighter","TOP_LOCATION_X","TOP_LOCATION_Y","resizing","createCopyArray","makeElement","useTopPointer","highlightTemp","insertElement","updateTopPointer","extractElement","unmakeElement","initCopyArray","addItemToCopy","useCopyArr","pos","getElementPosition","StackArrayElement","customEndingElementShift","assignCopyArray","shiftElementToBackingArray","immediateHighlight","highlightForMovement","moveTopTracker","goTo","copy","changeTopPointerValue","moving","updateElement","allInPosition","StackLinkedList","skipDraw","maxNode","curr","setTempNodeBeforeHead","shiftHeadForNode","shiftHead","markHeadForDeletion","unmakeHead","StackLinkedListNode","temp","oldData","QueueArray","headPointerValue","headPointerHighlighter","HEAD_LOCATION_X","HEAD_LOCATION_Y","tailPointerValue","tailPointerHighlighter","TAIL_LOCATION_X","TAIL_LOCATION_Y","furthestObject","useTailPointer","updateTailPointer","useHeadPointer","updateHeadPointer","arrIndex","QueueArrayElement","shiftElementToCopyArray","el","noAction","oldBacking","moveTailTracker","moveHeadTracker","oldTemp","newHead","changeHeadPointerValue","oldHead","newTail","changeTailPointerValue","oldTail","QueueLinkedList","setTempNodeAfterTail","shiftTail","QueueLinkedListNode","newTemp","arguments","noTail","HEAD_TAIL_SIZE","HEAD_TAIL_X","tailY","getTailY","shiftTemp","DequeArray","frontPointerValue","frontPointerHighlighter","FRONT_LOCATION_X","FRONT_LOCATION_Y","sizePointerHighlighter","SIZE_LOCATION_X","SIZE_LOCATION_Y","front","useFrontPointer","useFrontDecrementPointer","useFrontSizePointer","updateFrontPointer","updateSizePointer","getIndex","DequeArrayElement","end","moveFrontTracker","fromSize","changeFrontPointerValue","oldFront","changeSizePointerValue","oldSize","DequeLinkedList","setHeadAfterTempNode","setTailBeforeTempNode","shiftNewHead","shiftNewTail","DequeLinkedListNode","atHead","noData","furthest","BST","root","predSuccMode","highlighter","rootPointerPos","getRootPointerX","ROOT_SIZE","ROOT_HIGHLIGHT_DIAMETER","ROOT_Y","mostDisplacedRecursive","sort","a","b","dataMover","furthestTreeNode","stopNodesRecursive","setHighlighter","insertRecursive","recurredAnimation","newRoot","nodeJustAdded","added","setRoot","shiftByInOrder","clearTemp","deleteRecursive","nodeJustDeleted","deleted","findRecursive","inOrder","printInOrderRecursive","join","switchMode","oldRoot","newLeft","oldLeft","newRight","oldRight","oldTarget","oldColor","setTarget","getInOrderRecursive","depth","list","order","getInOrder","oldPositions","centerIndex","displaced","shiftX","HSPACE","setY","getNodeY","justAdded","nodeAdded","setLeft","setRight","BSTNode","justDeleted","newChild","justFoundPredSucc","predSuccValue","pullTempDataToCurr","nodeDeleted","justFound","predecessorValue","findPredecessorRecursive","predValue","successorValue","findSuccessorRecursive","succValue","oldPosition","nodePos","leftAnimation","rightAnimation","VERTICAL_SPACING","getTreeNodeAtPosRecursive","ROOT_X_MIN","getHeightRecursive","getHeight","leftOffset","rightOffset","rootX","getMaxY","getMaxWidth","HAS_MIN_WIDTH","HORIZONTAL_SPACING","ROOT_X_OFFSET","Heap","HeapElement","moveSizeTracker","AVL","SplayTree","BTree","SkipList","HashMapProbing","HashMapChaining","BubbleSort","CocktailShakerSort","InsertionSort","SelectionSort","QuickSort","QuickSelect","MergeSort","LSDRadixSort","BruteForce","BoyerMoore","KMP","RabinKarp","BFS","DFS","Dijkstras","Prims","Kruskals","LCS","FloydWarshall","ADT_NAME","currConstructor","VISUALIZATION_METHODS","methodName","preload","setup","mousePressed","touchMoved","mouseReleased","windowResized","controlBarRef","controlGroups","defaultControlGroups","onAnimStart","onAnimEnd","focusedElement","Proxy","get","propertyName","receiver","param","addControlLabel","NAME","addControls","addDefaultControls","showBigO","disabledControls","bigOWindow","MAX_SPEED","SPEED_SLIDER_DEGREE","speedSlider","ControlBuilder","INITIAL_SPEED","sliderLabel","speedSliderGroup","extraGroups","VISUALIZATION_CLASS","playPauseButton","visualization","skipBackButton","stepBackButton","stepForwardButton","skipForwardButton","animationControls","registerControlGroup","child","disableUI","enableUI","activeElement","CONTROLS_ONLY_ACTIVE_UNPAUSED","controlPressed","shiftPressed","pressedDict","visEventHappened","vis","setMainLabel","setDefaultsLabel","defaultGroup","addDefaultGroup","addControlGroup","mounted","prevProps","prevState","disableFriendlyErrors","canvasParentRef","createCanvas","testVisualizationDimensions","background","controlWidth","from","labelWidth","mobile","input","DIV_CLASS","examples","touchStarted","touchEnded","ListVisualizer","valueField","addToBack","indexField","addToFrontButton","removeFromBackButton","addAtIndexButton","resetButton","addFrontBackGroup","addToBackButton","removeFrontBackGroup","removeFromFrontButton","valueFrontBackGroup","indexGroup","removeFromIndexButton","resetGroup","ArrayListVisualizer","SinglyLinkedListVisualizer","DoublyLinkedListVisualizer","CircularSinglyLinkedListVisualizer","StackVisualizer","interactionButtonGroup","pushButton","popButton","mainControlGroup","QueueVisualizer","enqueueButton","dequeueButton","DequeVisualizer","addButtonGroup","addFirstButton","addLastButton","removeButtonGroup","removeFirstButton","removeLastButton","interactionGroup","StackArrayVisualizer","StackLinkedListVisualizer","QueueArrayVisualizer","QueueLinkedListVisualizer","DequeArrayVisualizer","DequeLinkedListVisualizer","TreeVisualizer","insertField","deleteField","findField","insertGroup","insertButton","deleteGroup","deleteButton","findGroup","findButton","printGroup","printButton","BinarySearchingTreeVisualizer","togglePredecessorSuccessorRadio","togglePredecessorSuccessor","togglePredecessorSuccessorGroup","HeapVisualizer","buildHeapField","toggleMinMaxRadio","toggleMinMax","buildHeapGroup","buildHeapButton","toggleMinMaxGroup","SkipListADTVisualizer","addRandomly","headsField","addWithHeads","removeField","getField","addRandomlyGroup","addRandomlyButton","addWithHeadsGroup","addWithHeadsButton","removeGroup","removeButton","getGroup","getButton","BSTVisualizer","HeapPQVisualizer","AVLVisualizer","SplayTreeVisualizer","BTreeVisualizer","SkipListVisualizer","HashMapVisualizer","ProbingVisualizer","toggleProbingModeRadio","toggleProbingMode","toggleProbingModeGroup","HashMapProbingVisualizer","HashMapChainingVisualizer","SortVisualizer","sortField","sortFieldGroup","sortButtonGroup","sortButton","BubblingVisualizer","toggleLastSwapOptimizationCheckBox","toggleLastSwapOptimization","toggleLastSwapOptimizationGroup","QuickVisualizer","toggleSelectPivotElementCheckBox","toggleSelectPivotElement","toggleSelectPivotElementGroup","SelectVisualizer","listField","select","kthField","listFieldGroup","kthFieldGroup","selectButtonGroup","selectButton","BubbleSortVisualizer","CocktailShakerSortVisualizer","InsertionSortVisualizer","SelectionSortVisualizer","QuickSortVisualizer","QuickSelectVisualizer","MergeSortVisualizer","LSDRadixSortVisualizer","SearchVisualizer","offerTable","searchTextField","patternField","buildTable","searchTextFieldGroup","patternFieldGroup","searchButtonGroup","searchButton","buildTableGroup","buildTableButton","SearchWithTableVisualizer","TABLE_NAME","BruteForceVisualizer","BoyerMooreVisualizer","KMPVisualizer","RabinKarpVisualizer","GraphVisualizer","addStartVertexField_and_runButton","startVertexField","runGroup","runButton","addControlGroups","addRunButton","runButtonGroup","addDFStypeRadio","toggleDFStypeRadio","toggleDFStype","dfsTypeRadioGroup","addNewGraphButtons","newGraphButtonsGroup","newSmallGraphButton","newLargeGraphButton","addDirectedUndirectedRadio","toggleUndirectedDirectedRadio","toggleUndirectedDirected","directedUndirectedRadioGroup","addRepresentationRadio","toggleRepresentationRadio","toggleRepresentation","representationRadioGroup","GraphVisualizerControls","BFSVisualizer","GraphControls","DFSVisualizer","DijkstrasVisualizer","PrimsVisualizer","KruskalsVisualizer","LCSVisualizer","firstStringField","findLCS","secondStringField","findLCSButton","stringFieldGroup","lcsButtonGroup","FloydWarshallVisualizer","add_Front","add_AtIndex","add_Back","remove_Front","remove_AtIndex","remove_Back","get_Front","get_AtIndex","get_Back","withTailConfig","Back","bigOOverride","Array_push","Array_pop","Array_peek","LinkedList","Circular_enqueue","Circular_dequeue","Circular_peek","SinglyLinkedList_enqueue","SinglyLinkedList_dequeue","SinglyLinkedList_peek","DoublyLinkedList_enqueue","DoublyLinkedList_dequeue","DoublyLinkedList_peek","Circular_addFirst","Circular_addLast","Circular_removeFirst","Circular_removeLast","DLL","traversal","upHeap","downHeap","buildHeap","single","double","Space","put","LinkedList_put","LinkedList_remove","LinkedList_search","AVL_put","AVL_remove","AVL_search","Time","Stable","Adaptive","Extra","pivotConfig","No","Single","All","General","insertEdge","removeEdge","AdjacencyMatrix","EdgeList","Space_AdjacencyList","Space_EdgeList","incidentEdges_AdjacencyList","incidentEdges_AdjacencyMatrix","areAdjacent_AdjacencyList","areAdjacent_AdjacencyMatrix","insertVertex_AdjacencyList","insertVertex_EdgeList","removeVertex_AdjacencyList","AppHeader","AppFooter","VisualizerTitle","BigOType","unalignedTables","bigOType","cls","currClass","colExplanations","extraTableData","VisualizerType","typeMatch","fullVisualizerClassMatch","foundClass","VisualizerComponent","VisualizerGroup","Main","About","App","basename","StrictMode","Boolean","hostname","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.b96d48e7.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.2d46fc74.svg\";","import React, { Component } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport './nav-bar.scss';\r\n\r\nimport logo from 'res/images/logo.svg';\r\n\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { fas } from '@fortawesome/free-solid-svg-icons';\r\nimport { far } from '@fortawesome/free-regular-svg-icons';\r\nimport { fab } from '@fortawesome/free-brands-svg-icons';\r\n\r\nlibrary.add(fas, far, fab);\r\n\r\nexport default class NavBar extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            responsive: false,\r\n        };\r\n\r\n        this.selfRef = React.createRef();\r\n        this.handleDocumentClick = this.handleDocumentClick.bind(this);\r\n        this.clear = this.clear.bind(this);\r\n    }\r\n\r\n    scrollToTop() {\r\n        document.body.scrollTop = 0; // For Safari\r\n        document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera\r\n        // console.log(\"scrolltotop\");\r\n    }\r\n\r\n    toggleResponsiveNav() {\r\n        this.setState((state) => {\r\n                return {\r\n                    responsive: !state.responsive,\r\n                };\r\n            });\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        document.addEventListener(\"mousedown\", this.handleDocumentClick);\r\n        // console.log(this.state.parentNavItem);\r\n    }\r\n    componentWillUnmount() {\r\n        document.removeEventListener(\"mousedown\", this.handleDocumentClick);\r\n    }\r\n    handleDocumentClick(event) {\r\n        // console.log(\"doc clicked nav title\");\r\n        // console.log(this.state.containingNavItemRef);\r\n        // console.log(this.state.containingNavItemRef.current);\r\n        if (this.selfRef.current && !this.selfRef.current.contains(event.target)) {\r\n            // console.log(\"outside nav title\");\r\n            this.clear();\r\n        }\r\n    }\r\n\r\n    clear() {\r\n        this.setState({responsive: false});\r\n        this.scrollToTop();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div id=\"top-nav\" className={`nav-bar ${this.state.responsive ? \"responsive\" : \"\"} nav-container`} ref={this.selfRef}>\r\n                    <Link className=\"not-a-button\" id=\"nav-logo\" to={window.location.href.substring(window.location.href.indexOf(\"/#/\")).length > 0 ? \"/\" : \"\" }><img src={logo} className=\"app-logo\" alt=\"logo\" /></Link>\r\n                    {this.props.nav_items.map( (nav_item) => {\r\n                        return (\r\n                                <NavBarItem key={`nav-${nav_item.link}`} content={nav_item} container={this}/>\r\n                            );\r\n                    })}\r\n                    <button className=\"not-a-button nav-bar-item nav-item nav-item-title\" id=\"top-nav-menu\" onClick={() => this.toggleResponsiveNav()}><FontAwesomeIcon icon={\"bars\"} fixedWidth size={\"sm\"} /></button>\r\n                </div>\r\n            );\r\n    }\r\n}\r\n\r\nclass NavBarItem extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            link: this.props.content.link,\r\n            icon: this.props.content.icon,\r\n            title_text: this.props.content.title_text,\r\n            drop_down_items: this.props.content.types,\r\n        };\r\n\r\n        this.selfRef = React.createRef();\r\n\r\n        if (this.state.drop_down_items) {\r\n            this.state.showDropDown = false;\r\n        }\r\n\r\n\r\n        this.clear = this.clear.bind(this);\r\n    }\r\n\r\n    setShowDropDown(show) {\r\n        if (this.state.drop_down_items) {\r\n            this.setState( (state) => {\r\n                return {\r\n                    showDropDown: show,\r\n                }\r\n            }, () => {\r\n\r\n            });\r\n        }\r\n    }\r\n\r\n    toggleShowDropDown(show) {\r\n        if (this.state.drop_down_items) {\r\n            this.setState( (state) => {\r\n                return {\r\n                    showDropDown: !state.showDropDown,\r\n                }\r\n            }, () => {\r\n\r\n            });\r\n        }\r\n    }\r\n\r\n    clear() {\r\n        this.setShowDropDown(false);\r\n        this.props.container.clear();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div className={`nav-bar-item nav-item ${this.state.drop_down_items && this.state.showDropDown ? \"active\" : \"\"}`} ref={this.selfRef}>\r\n                    <NavBarItemTitle link={this.state.link} icon={this.state.icon} title_text={this.state.title_text} parentRef={this.selfRef} parent={this} />\r\n                    {this.state.drop_down_items && this.state.showDropDown ?\r\n                        <NavBarDropDown items={this.state.drop_down_items} parentRoute={`/${this.state.link}`} parent={this} />\r\n                    :\r\n                        null\r\n                    }\r\n                </div>\r\n            );\r\n    }\r\n\r\n}\r\n\r\nclass NavBarItemTitle extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n\r\n        this.state = {\r\n            link: this.props.link,\r\n            icon: this.props.icon,\r\n            title_text: this.props.title_text,\r\n            parentNavItem: this.props.parent,\r\n        };\r\n\r\n        this.handleDocumentClick = this.handleDocumentClick.bind(this);\r\n        this.onMouseDown = this.onMouseDown.bind(this);\r\n        this.clear = this.clear.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({containingNavItemRef: this.props.parentRef}, () => {\r\n            // console.log(this.state.containingNavItemRef);\r\n        });\r\n        document.addEventListener(\"mousedown\", this.handleDocumentClick);\r\n        // console.log(this.state.parentNavItem);\r\n    }\r\n    componentWillUnmount() {\r\n        document.removeEventListener(\"mousedown\", this.handleDocumentClick);\r\n    }\r\n    handleDocumentClick(event) {\r\n        // console.log(\"doc clicked nav title\");\r\n        // console.log(this.state.containingNavItemRef);\r\n        // console.log(this.state.containingNavItemRef.current);\r\n        if (this.state.containingNavItemRef.current && !this.state.containingNavItemRef.current.contains(event.target)) {\r\n            // console.log(\"outside nav title\");\r\n            this.state.parentNavItem.setShowDropDown(false);\r\n        }\r\n    }\r\n\r\n    onMouseDown(e) {\r\n        if (e.nativeEvent.which === 1) {\r\n            if (this.state.parentNavItem.state.showDropDown || !this.state.parentNavItem.state.drop_down_items) {\r\n                window.location.hash = `#/${this.state.parentNavItem.state.link}`;\r\n                this.clear();\r\n            } else {\r\n                this.state.parentNavItem.setShowDropDown(true);\r\n            }\r\n        }\r\n    }\r\n\r\n    clear() {\r\n        this.state.parentNavItem.clear();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                this.state.parentNavItem.state.drop_down_items ?\r\n                    <div onMouseDown={this.onMouseDown} className=\"nav-bar-item-title nav-item-title\" id={`nav-${this.state.link}`}><FontAwesomeIcon icon={this.state.icon} fixedWidth size={this.state.icon.includes(\"stack-overflow\") ? \"1x\" : \"sm\"} /> {this.state.title_text}</div>\r\n                :\r\n                    <Link onMouseDown={this.onMouseDown} className=\"nav-bar-item-title nav-item-title\" id={`nav-${this.state.link}`} to={`/${this.state.link}`}><FontAwesomeIcon icon={this.state.icon} fixedWidth size={this.state.icon.includes(\"stack-overflow\") ? \"1x\" : \"sm\"} /> {this.state.title_text}</Link>\r\n            );\r\n    }\r\n}\r\n\r\nclass NavBarDropDown extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            drop_down_items: this.props.items,\r\n            parentNavItem: this.props.parent,\r\n        };\r\n\r\n        this.clear = this.clear.bind(this);\r\n    }\r\n\r\n    clear() {\r\n        this.state.parentNavItem.clear();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div className=\"nav-bar-drop-down nav-container\"> {\r\n                    this.state.drop_down_items.map( (drop_down_item) => {\r\n                    return (\r\n                            <NavBarDropDownItem key={`nav-${drop_down_item.link}`} content={drop_down_item} parent={this} parentRoute={this.props.parentRoute} />\r\n                        );\r\n                })} </div>\r\n            );\r\n    }\r\n}\r\n\r\nclass NavBarDropDownItem extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n\r\n        this.state = {\r\n            link: this.props.content.link,\r\n            title_text: this.props.content.title_text,\r\n            side_pane_items: this.props.content.classes,\r\n            parentRoute: this.props.parentRoute,\r\n            parent: this.props.parent,\r\n        };\r\n\r\n        this.selfRef = React.createRef();\r\n\r\n        if (this.state.side_pane_items) {\r\n            this.state.showSidePane = false;\r\n        }\r\n\r\n        this.clear = this.clear.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    setShowSidePane(show) {\r\n        if (this.state.side_pane_items) {\r\n            this.setState( (state) => {\r\n                return {\r\n                    showSidePane: show,\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    toggleShowSidePane(show) {\r\n        if (this.state.side_pane_items) {\r\n            this.setState( (state) => {\r\n                return {\r\n                    showSidePane: !state.showSidePane,\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    onMouseDown() {\r\n        this.toggleShowSidePane();\r\n    }\r\n\r\n    clear() {\r\n        this.setShowSidePane(false);\r\n        this.state.parent.clear();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div className={`nav-bar-drop-down-item nav-item ${this.state.side_pane_items && this.state.showSidePane ? \"active\": \"\"}`} ref={this.selfRef}>\r\n                    <NavBarDropDownItemTitle link={this.state.link} parentRoute={this.state.parentRoute} title_text={this.state.title_text} parentRef={this.selfRef} parent={this} />\r\n                    {this.state.side_pane_items && this.state.showSidePane ?\r\n                        <NavBarSidePane items={this.state.side_pane_items} parentRoute={`${this.props.parentRoute}/${this.state.link}`} parent={this}></NavBarSidePane>\r\n                    :\r\n                        null\r\n                    }\r\n                </div>\r\n            );\r\n    }\r\n\r\n}\r\n\r\nclass NavBarDropDownItemTitle extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n\r\n        this.state = {\r\n            link: this.props.link,\r\n            parentRoute: this.props.parentRoute,\r\n            title_text: this.props.title_text,\r\n            // containingDropDownItemRef: this.props.parentRef,\r\n            parentDropDownItem: this.props.parent,\r\n        };\r\n\r\n        this.handleDocumentClick = this.handleDocumentClick.bind(this);\r\n        this.onMouseDown = this.onMouseDown.bind(this);\r\n        this.clear = this.clear.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({containingDropDownItemRef: this.props.parentRef}, () => {\r\n            // console.log(this.state.containingDropDownItemRef);\r\n        });\r\n        document.addEventListener(\"mousedown\", this.handleDocumentClick);\r\n        // console.log(this.state.parentDropDownItem);\r\n    }\r\n    componentWillUnmount() {\r\n        document.removeEventListener(\"mousedown\", this.handleDocumentClick);\r\n    }\r\n    handleDocumentClick(event) {\r\n        // console.log(\"doc clicked nav title\");\r\n        // console.log(this.state.containingDropDownItemRef);\r\n        // console.log(this.state.containingDropDownItemRef.current);\r\n        if (this.state.containingDropDownItemRef.current && !this.state.containingDropDownItemRef.current.contains(event.target)) {\r\n            // console.log(\"outside nav title\");\r\n            this.state.parentDropDownItem.setShowSidePane(false);\r\n        }\r\n    }\r\n\r\n    onMouseDown(e) {\r\n        if (e.nativeEvent.which === 1) {\r\n            if (this.state.parentDropDownItem.state.showSidePane) {\r\n                window.location.hash = `#${this.state.parentRoute}/${this.state.link}`;\r\n                this.clear();\r\n            } else {\r\n                this.state.parentDropDownItem.toggleShowSidePane();\r\n            }\r\n        }\r\n    }\r\n\r\n    clear() {\r\n        this.state.parentDropDownItem.clear();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                this.state.parentDropDownItem.state.side_pane_items ?\r\n                    <div onMouseDown={this.onMouseDown} className=\"nav-bar-drop-down-item-title nav-item-title\" id={`nav-${this.state.link}`}>{this.state.title_text}</div>\r\n                :\r\n                    <Link onMouseDown={this.clear} className=\"nav-bar-drop-down-item-title nav-item-title\" id={`nav-${this.state.link}`} to={`${this.state.parentRoute}/${this.state.link}`}>{this.state.title_text}</Link>\r\n            );\r\n    }\r\n}\r\n\r\nclass NavBarSidePane extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n\r\n        this.state = {\r\n            side_pane_items: this.props.items,\r\n            parentDropDownItem: this.props.parent,\r\n        };\r\n\r\n        this.clear = this.clear.bind(this);\r\n    }\r\n\r\n    clear() {\r\n        this.state.parentDropDownItem.clear();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div className=\"nav-bar-side-pane nav-container\"> {\r\n                    this.state.side_pane_items.map( (side_pane_item) => {\r\n                        return (\r\n                                <NavBarSideItem key={`nav-${side_pane_item.link}`} content={side_pane_item} parentRoute={this.props.parentRoute} parent={this} />\r\n                            );\r\n                })} </div>\r\n            );\r\n    }\r\n}\r\n\r\n\r\nclass NavBarSideItem extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            link: this.props.content.link,\r\n            title_text: this.props.content.title_text,\r\n            parentRoute: this.props.parentRoute,\r\n            parent: this.props.parent,\r\n        };\r\n\r\n        this.clear = this.clear.bind(this);\r\n    }\r\n\r\n    clear() {\r\n        window.location.hash = `#${this.state.parentRoute}/${this.state.link}`;\r\n        this.state.parent.clear();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div className=\"nav-bar-side-item nav-item\">\r\n                    <Link onMouseDown={this.clear} className=\"nav-bar-side-pane-item-title nav-item-title\" id={`nav-${this.state.link}`} to={`${this.state.parentRoute}/${this.state.link}`}>{this.state.title_text}</Link>\r\n                </div>\r\n            );\r\n    }\r\n\r\n}\r\n","export function newEmptyControl() {\r\n    let emptyControl = document.createElement(\"input\");\r\n    applyStyle(emptyControl, \"visibility\", \"hidden\");\r\n    return emptyControl;\r\n}\r\n\r\nexport function createControl(type, value) {\r\n    let newControl = document.createElement(\"input\");\r\n    newControl.classList.add(\"visual-control\", type);\r\n\r\n    newControl.setAttribute(\"type\", type);\r\n    if (value) {\r\n        newControl.setAttribute(\"value\", value);\r\n    }\r\n\r\n    return newControl;\r\n};\r\n\r\nexport function createButton(label, options) {\r\n    // let button = createControl(\"button\", label);\r\n\r\n    let button = document.createElement(\"button\");\r\n    button.classList.add(\"visual-control\", \"button\");\r\n    button.setAttribute(\"type\", \"button\");\r\n    button.innerHTML = label;\r\n\r\n    if (options) {\r\n        if (options.tooltipText) {\r\n            button.setAttribute(\"data-tooltip\",options.tooltipText);\r\n        }\r\n        for (let attr in options.attributes) {\r\n            button.setAttribute(attr, options.attributes[attr]);\r\n        }\r\n    }\r\n\r\n    return button;\r\n};\r\n\r\nexport function addButtonSubmit(button, callback, ...fields) {\r\n    if (button.type !== \"button\") {\r\n        console.log(\"cannot add callback to nonbutton\");\r\n        return;\r\n    }\r\n    if (callback === undefined) {\r\n        console.log(button, \"cannot set button submit to undefined callback\");\r\n        return;\r\n    }\r\n    button.addEventListener(\"click\", (event) => {\r\n        let args = [];\r\n        fields.forEach((field) => {\r\n            if (args) {\r\n                let f = field.field || field;\r\n                let value = f.parse();\r\n                if (value !== null) {\r\n                    args.push(value);\r\n                } else {\r\n                    args = null;\r\n                }\r\n            }\r\n        });\r\n        if (args) {\r\n            callback(...args);\r\n            fields.forEach((field) => {\r\n                let f = field.field || field;\r\n                if (f.clearOnSuccess) {\r\n                    f.value = \"\";\r\n                }\r\n                if (field.focus === true || fields.length === 1) {\r\n                    f.focus();\r\n                }\r\n            });\r\n        }\r\n    });\r\n}\r\n\r\nexport function applyNewCallbackButton(visualizer, name, ...fields) {\r\n    let longName = name.longName || name;\r\n    let options = name.options || undefined;\r\n    name = name.name || name;\r\n    visualizer[name + \"Button\"] = createButton(longName, options);\r\n    addButtonSubmit(visualizer[name + \"Button\"], visualizer[name], ...fields);\r\n    if (options && options.addAnimatorEnableDisable) {\r\n        visualizer.animator.on(`disable-${name}`, () => {\r\n            visualizer[name + \"Button\"].disabled = true;\r\n        });\r\n        visualizer.animator.on(`enable-${name}`, () => {\r\n            visualizer[name + \"Button\"].disabled = false;\r\n        });\r\n    }\r\n}\r\n\r\nexport function applyResetButton(visualizer, prompt, fieldToFocus) {\r\n    visualizer[prompt + \"Button\"] = createButton(prompt);\r\n    visualizer[prompt + \"Button\"].addEventListener(\"click\", (event) => {\r\n        for (let property in visualizer) {\r\n            if (property.endsWith(\"Field\") && visualizer[property].constructor === HTMLInputElement && visualizer[property].type === \"text\") {\r\n                visualizer[property].value = \"\";\r\n            }\r\n        }\r\n        if (fieldToFocus) {\r\n            fieldToFocus.focus();\r\n        }\r\n    });\r\n    addButtonSubmit(visualizer[prompt + \"Button\"], visualizer[prompt]);\r\n}\r\n\r\nexport function createField(prompt, ...validators) {\r\n    let field = createControl(\"text\");\r\n    field.setAttribute(\"placeHolder\", prompt);\r\n\r\n    field.inputValidators = validators;\r\n    field.parsers = validators.map(validator => validator.parser);\r\n\r\n    field.addEventListener(\"input\", () => {\r\n        field.inputValidators.forEach((validator) => {\r\n            validator(field);\r\n        });\r\n    });\r\n\r\n    field.parse = () => {\r\n        let value = field.value;\r\n        let i = 0;\r\n        while (value && i < field.parsers.length) {\r\n            value = field.parsers[i++](value);\r\n        }\r\n        return value || (value === 0 ? 0 : null);\r\n    }\r\n\r\n    return field;\r\n};\r\n\r\nexport function validatorIntOnly() {\r\n    let validator = (field) => {\r\n        let regex = /^[-+]?\\d*|\\d*/g;\r\n        field.value = field.value.match(regex).reduce((sum, char) => sum + char);\r\n    };\r\n    validator.parser = (value) => {\r\n        let val = parseInt(value);\r\n        if (isNaN(val)) {\r\n            return null;\r\n        } else {\r\n            return val;\r\n        }\r\n    };\r\n    return validator;\r\n};\r\n\r\nexport function validatorPositiveIntOnly() {\r\n    let validator = (field) => {\r\n        let regex = /^[+]?\\d*|\\d*/g;\r\n        field.value = field.value.match(regex).reduce((sum, char) => sum + char);\r\n    }\r\n    validator.parser = (value) => {\r\n        let val = Math.abs(parseInt(value));\r\n        if (isNaN(val)) {\r\n            return null;\r\n        } else {\r\n            return val;\r\n        }\r\n    };\r\n    return validator;\r\n};\r\n\r\nexport function validatorIntList(numLength, maxNums) {\r\n    let validator = (field) => {\r\n        // ^(((\\d+)|(\\d+-\\d+))(,((\\d+)|(\\d+-\\d+)))*)$\r\n        // let regex = /^(((\\d+)|(\\d+-\\d+))(,((\\d+)|(\\d+-\\d+)))*)$/g;\r\n        // let regex = /((\\d+)|(\\d+-\\d+))|(,(\\d+)|(\\d+-\\d+))/g;\r\n        let cursorPos = field.selectionStart;\r\n        let regex = /[+-\\d,]/g;\r\n        field.value = (field.value.match(regex) || [\"\"]).reduce((sum, char) => sum + char);\r\n        field.value = field.value.replace(/\\+{2,}/g,\"+\");\r\n        field.value = field.value.replace(/-{3,}/g,\"--\");\r\n        field.value = field.value.replace(/,{3,}/g,\",,\");\r\n        if ((field.value.match(/,/g) || []).length > maxNums) {\r\n            field.value = field.value.substring(0, field.value.lastIndexOf(\",\"));\r\n        }\r\n        field.selectionStart = field.selectionEnd = cursorPos;\r\n    };\r\n    validator.parser = (value) => {\r\n        // let regex = /^(((-?\\d+)|(-?\\d+--?\\d+))(,((-?\\d+)|(-?\\d+--?\\d+)))*)$/g;\r\n        let regex = /((-?\\d+(--?\\d+)*)|(-?\\d+))/g;\r\n        let values = value.match(regex);\r\n        let ints = [];\r\n        ints.add = ints.push;\r\n        ints.push = (num) => {\r\n            while (num >= Math.pow(10,numLength) || num <= -Math.pow(10,numLength-1)) {\r\n                num /= 10;\r\n            }\r\n            ints.add(parseInt(num));\r\n        };\r\n        values.forEach((intStr, i, arr) => {\r\n            if (intStr.match(/(-?\\d+(--?\\d+){2,})/g)) {\r\n                return null;\r\n            } else if (intStr.match(/(-?\\d+(--?\\d+))/g)) {\r\n                let match = intStr.match(/(-?\\d+)-(-?\\d+)/);\r\n                let [ first, second ] = [ parseInt(match[1]), parseInt(match[2]) ];\r\n                if (first === second) {\r\n                    ints.push(first);\r\n                } else {\r\n                    if (first < second) {\r\n                        for (let i = first; i <= second; i++) {\r\n                            ints.push(i);\r\n                        }\r\n                    } else {\r\n                        for (let i = first; i >= second; i--) {\r\n                            ints.push(i);\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                ints.push(parseInt(intStr));\r\n            }\r\n        });\r\n        return ints.slice(0, maxNums);\r\n    };\r\n    return validator;\r\n}\r\n\r\nexport function validatorMaxLength(maxLength) {\r\n    let validator = (field) => {\r\n        if (field.value.length > maxLength) {\r\n            field.value = field.value.substring(0, maxLength);\r\n        }\r\n    };\r\n    validator.parser = (value) => {\r\n        value = String(value);\r\n        if (value.length === 0) {\r\n            return null;\r\n        } else {\r\n            return value.substring(0, maxLength);\r\n        }\r\n    };;\r\n    return validator;\r\n};\r\n\r\nexport function validatorSkipListHeads() {\r\n    let validator = (field) => {\r\n        let regex = /([HT]+)/gi;\r\n        field.value = (field.value.match(regex) || [\"\"]).reduce((sum, char) => sum + char);\r\n    };\r\n    validator.parser = (value) => {\r\n        let regex = /(^H+T?)/i;\r\n        let val = (value.match(regex) || [\"\"])[0];\r\n        if (val.length === 0) {\r\n            return null;\r\n        } else {\r\n            return (val.match(/H/gi) || []).length;\r\n        }\r\n    };\r\n    return validator;\r\n}\r\n\r\nexport function addFieldSubmit(field, callback, {secondaryRequired = false, secondary = {field: undefined, isFirstParam: false, callback: undefined, clear: false}} = {}) {\r\n    if (field.type !== \"text\") {\r\n        console.log(\"cannot add callback to nontextfield\");\r\n        return;\r\n    }\r\n    if (callback === undefined) {\r\n        console.log(\"cannot set field submit to undefined callback\");\r\n        return;\r\n    }\r\n    field.addEventListener(\"keydown\", (event) => {\r\n        if (event.key === \"Enter\") {\r\n            let value = field.parse();\r\n            if (value !== null) {\r\n                let success;\r\n                let secondaryValue;\r\n                if (secondary.field && (secondaryValue = secondary.field.parse()) !== null) {\r\n                    if (secondaryRequired) {\r\n                        secondary.callback = callback;\r\n                    }\r\n                    if (secondary.isFirstParam) {\r\n                        success = secondary.callback(secondaryValue,value) !== false;\r\n                    } else {\r\n                        success = secondary.callback(value,secondaryValue) !== false;\r\n                    }\r\n                } else if (!secondaryRequired) {\r\n                    success = callback(value) !== false;\r\n                }\r\n                if (success) {\r\n                    if (field.clearOnSuccess) {\r\n                        field.value = \"\";\r\n                    }\r\n                    if (secondary.field && secondary.clear) {\r\n                        secondary.field.value = \"\";\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n};\r\n\r\nexport function applyFieldWithOptions(visualizer, name, ...validators) {\r\n    let prompt = name.prompt || name.longName || name.name || name;\r\n    let args = name.args || {};\r\n    let classes = name.classes || [];\r\n    let callback = name.callback !== false ? (name.callback || name.name || name) : null;\r\n    name = name.name || name;\r\n    visualizer[name + \"Field\"] = createField(prompt, ...validators);\r\n    let defaultArgs = {clearOnSuccess: true, size: 20};\r\n    for (let property in defaultArgs) {\r\n        visualizer[name + \"Field\"][property] = defaultArgs[property];\r\n    }\r\n    for (let property in (args || {})) {\r\n        visualizer[name + \"Field\"][property] = args[property];\r\n    }\r\n    visualizer[name + \"Field\"].classList.add(...classes);\r\n    if (callback) {\r\n        addFieldSubmit(visualizer[name + \"Field\"], visualizer[callback]);\r\n    }\r\n}\r\n\r\nexport function createLabel(text, control) {\r\n    let newLabel = document.createElement(\"label\");\r\n    newLabel.classList.add(\"visual-control\",\"label\");\r\n\r\n    newLabel.setAttribute(\"for\", control.id);\r\n    newLabel.innerHTML = text;\r\n\r\n    return newLabel;\r\n}\r\n\r\nexport function createSlider(min, max, defaultValue, step) {\r\n    let slider = createControl(\"range\");\r\n\r\n    slider.setAttribute(\"min\", min);\r\n    slider.setAttribute(\"max\", max);\r\n    slider.setAttribute(\"step\", step === 0 ? \"1e-18\" : step);\r\n    slider.setAttribute(\"defaultValue\", defaultValue);\r\n    slider.value = defaultValue;\r\n\r\n    return slider;\r\n};\r\n\r\nfunction createRadioButton(name, value) {\r\n    let text = value.longText || value;\r\n    value = value.value || value;\r\n    let buttonContainer = document.createElement(\"div\");\r\n    buttonContainer.classList.add(\"radio-button-container\");\r\n    let radioButton = createControl(\"radio\", value);\r\n    radioButton.name = name;\r\n    radioButton.tabindex = 0;\r\n    radioButton.addEventListener(\"focus\", (event) => {\r\n        radioButton.blur();\r\n    });\r\n    let label = createLabel(text, radioButton);\r\n    buttonContainer.appendChild(radioButton);\r\n    buttonContainer.appendChild(label);\r\n    buttonContainer.addEventListener(\"click\", () => {\r\n        radioButton.click();\r\n        radioButton.focus();\r\n    });\r\n    return buttonContainer;\r\n}\r\n\r\nexport function createRadio(name, ...options) {\r\n    let radioContainer = document.createElement(\"div\");\r\n    radioContainer.classList.add(\"radio-container\", \"visual-control\")\r\n    radioContainer.id = name;\r\n    options.forEach((option) => {\r\n        let radioButtonContainer = createRadioButton(name, option);\r\n        radioContainer.appendChild(radioButtonContainer);\r\n    });\r\n    radioContainer.childNodes[0].childNodes[0].checked = true;\r\n    return radioContainer;\r\n}\r\n\r\nexport function addRadioSubmit(radioContainer, callback) {\r\n    radioContainer.childNodes.forEach((radioButtonContainer) => {\r\n        radioButtonContainer.childNodes[0].addEventListener(\"change\", () => {\r\n            callback(radioButtonContainer.childNodes[0].value);\r\n        });\r\n    });\r\n}\r\n\r\nfunction createCheckButton(name, value) {\r\n    let text = value.longText || value;\r\n    let checked = value.checked || false;\r\n    value = value.value || value;\r\n    let buttonContainer = document.createElement(\"div\");\r\n    buttonContainer.classList.add(\"check-button-container\");\r\n    let checkButton = createControl(\"checkbox\", value);\r\n    checkButton.name = name;\r\n    checkButton.tabindex = 0;\r\n    checkButton.addEventListener(\"focus\", (event) => {\r\n        checkButton.blur();\r\n    });\r\n    if (checked) {\r\n        checkButton.checked = true;\r\n    }\r\n    let label = createLabel(text, checkButton);\r\n    buttonContainer.appendChild(checkButton);\r\n    buttonContainer.appendChild(label);\r\n    buttonContainer.addEventListener(\"click\", (event) => {\r\n        if (event.target !== checkButton) {\r\n            checkButton.click();\r\n            checkButton.focus();\r\n        }\r\n    });\r\n    return buttonContainer;\r\n}\r\n\r\nexport function createCheckBox(name, ...options) {\r\n    let checkBoxContainer = document.createElement(\"div\");\r\n    checkBoxContainer.classList.add(\"checkbox-container\", \"visual-control\")\r\n    checkBoxContainer.id = name;\r\n    options.forEach((option) => {\r\n        let checkButtonContainer = createCheckButton(name, option);\r\n        checkBoxContainer.appendChild(checkButtonContainer);\r\n    });\r\n    return checkBoxContainer;\r\n}\r\n\r\nexport function addCheckBoxSubmit(checkBoxContainer, callback) {\r\n    let max1Checked = callback.max1Checked || false;\r\n    callback = callback.callback || callback;\r\n    checkBoxContainer.childNodes.forEach((checkButtonContainer) => {\r\n        checkButtonContainer.childNodes[0].addEventListener(\"click\", () => {\r\n            let checkedButton = checkButtonContainer.childNodes[0];\r\n            let checkedValues = {};\r\n            checkBoxContainer.childNodes.forEach((checkButtonBox) => {\r\n                let checkButton = checkButtonBox.childNodes[0];\r\n                checkedValues[checkButton.value] = checkButton.checked;\r\n                if (max1Checked && checkButton !== checkedButton) {\r\n                    checkButton.checked = false;\r\n                    checkedValues[checkButton.value] = false;\r\n                }\r\n            });\r\n            callback(checkedValues);\r\n        });\r\n    });\r\n}\r\n\r\n\r\nexport function createControlGroup(id, ...controls) {\r\n    let classes = id.classes || [];\r\n    id = id.id || id;\r\n    let controlGroup = document.createElement(\"div\");\r\n    controlGroup.classList.add(\"control-group\", ...classes);\r\n    controlGroup.id = id;\r\n\r\n    controls.forEach((control) => {\r\n        controlGroup.appendChild(control);\r\n    });\r\n\r\n    return controlGroup;\r\n};\r\n\r\nexport function setTabControl(control, nextControl) {\r\n    if (control === undefined || nextControl === undefined) {\r\n        console.log(\"cannot link undefined controls\");\r\n        return;\r\n    }\r\n    enableShift();\r\n    control.addEventListener(\"keydown\", (event) => {\r\n        if (event.key === \"Tab\" && (window.shifted !== undefined && !window.shifted)) {\r\n            event.preventDefault();\r\n            control.blur();\r\n            nextControl.focus();\r\n        }\r\n    });\r\n    nextControl.addEventListener(\"keydown\", (event) => {\r\n        if (event.key === \"Tab\" && window.shifted) {\r\n            event.preventDefault();\r\n            nextControl.blur();\r\n            control.focus();\r\n        }\r\n    });\r\n};\r\n\r\nfunction enableShift() {\r\n    if (window.shifted === undefined) {\r\n        window.shifted = false;\r\n        window.addEventListener(\"keydown\", (event) => {\r\n            if (event.key === \"Shift\") {\r\n                event.preventDefault();\r\n                window.shifted = true;\r\n            }\r\n        });\r\n        window.addEventListener(\"keyup\", (event) => {\r\n            if (event.key === \"Shift\") {\r\n                event.preventDefault();\r\n                window.shifted = false;\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\nexport function applyStyle(control, styleType, value) {\r\n    control.style[styleType] = value;\r\n}\r\n","export const RED = [255,0,0];\r\nexport const GREEN = [60, 181, 60];\r\nexport const BLUE = [0,0,255];\r\nexport const BLACK = [0,0,0];\r\nexport const WHITE = [255,255,255];\r\n","export function addArray(array, ...arrays) {\r\n    let newArr = [...array];\r\n    arrays.forEach(array => {\r\n        array.forEach((item, i) => {\r\n            newArr[i] += item;\r\n        });\r\n    });\r\n    return newArr;\r\n}\r\n\r\nexport function isDev() {\r\n    return !process.env.NODE_ENV || process.env.NODE_ENV === 'development';\r\n}\r\n\r\nexport function unfoldUndoRedo(object) {\r\n    let properties = new Set();\r\n    let currObj = object;\r\n    do {\r\n        Object.getOwnPropertyNames(currObj).map(item => properties.add(item));\r\n    } while ((currObj = Object.getPrototypeOf(currObj)));\r\n    let functions = [...properties.keys()].filter(item => typeof object[item] === 'function');\r\n    for (const i in functions) {\r\n        let property = functions[i];\r\n        if (property.includes(\"undo_\")) {\r\n            object[property.substring(5)].undo = object[property];\r\n        }\r\n        if (property.includes(\"redo_\")) {\r\n            object[property.substring(5)].redo = object[property];\r\n        }\r\n    }\r\n}\r\n\r\nexport const DOM_SELECORS_USING_MOBILE = [\"[data-tooltip]\", \".canvas-container\", \".app\"];\r\n\r\nexport function isMobile() {\r\n    return window.ontouchstart !== undefined;\r\n}\r\n\r\nexport function addMobileClasses() {\r\n    if (isMobile()) {\r\n        DOM_SELECORS_USING_MOBILE.forEach((selector) => {\r\n            document.querySelectorAll(`${selector}`).forEach((node) => {\r\n                node.classList.add(\"mobile\");\r\n                console.log(node);\r\n            });\r\n        });\r\n    }\r\n}\r\n\r\nexport function isReactComponent(component) {\r\n    (typeof component === 'function' &&\r\n                (!!component.prototype.isReactComponent\r\n                    || String(component).includes('return React.createElement')))\r\n}\r\n\r\nexport function windowWidth() {\r\n    return Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\r\n}\r\n\r\nexport function windowHeight() {\r\n    return Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\r\n}\r\n","import React, { PureComponent } from 'react';\r\nimport './controlBar.scss';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nexport default class ControlBar extends PureComponent {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.defaultContainer = React.createRef();\r\n        this.defaults = React.createRef();\r\n        this.mainContainer = React.createRef();\r\n        this.controlBar = React.createRef();\r\n    }\r\n\r\n    setDefaultsLabel(label) {\r\n        this.defaultsLabel = label;\r\n        this.forceUpdate();\r\n    }\r\n\r\n    setMainLabel(label) {\r\n        this.mainLabel = label;\r\n        this.forceUpdate();\r\n    }\r\n\r\n    addDefaultGroup(controlGroup) {\r\n        this.defaults.current.appendChild(controlGroup);\r\n    }\r\n\r\n    addControlGroup(controlGroup) {\r\n        this.controlBar.current.appendChild(controlGroup);\r\n    }\r\n\r\n    testCenterControls() {\r\n        let all1 = true;\r\n        document.querySelectorAll(\"#main-control-label+.controls>.control-group\").forEach((controlGroup) => {\r\n            if (all1) {\r\n                if (!(controlGroup.childNodes[0].classList.contains(\"radio-container\") || controlGroup.childNodes[0].classList.contains(\"checkbox-container\"))) {\r\n                    if (controlGroup.childNodes.length > 1) {\r\n                        all1 = false;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        if (all1) {\r\n            document.querySelectorAll(\"#main-control-label+.controls>.control-group\").forEach((controlGroup) => {\r\n                if (!(controlGroup.childNodes[0].classList.contains(\"radio-container\") || controlGroup.childNodes[0].classList.contains(\"checkbox-container\"))) {\r\n                    controlGroup.style[\"justify-content\"] = \"center\";\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    testSize() {\r\n        let transformed = 0;\r\n        if (this.controlBar.current.getBoundingClientRect().width\r\n                > (this.mainContainer.current.getBoundingClientRect().width - 0*parseFloat(window.getComputedStyle(this.mainContainer.current).getPropertyValue(\"padding\")))) {\r\n            this.mainContainer.current.classList.add(\"overflow\");\r\n            transformed++;\r\n        } else {\r\n            this.mainContainer.current.classList.remove(\"overflow\");\r\n        }\r\n        if (this.defaults.current.getBoundingClientRect().width\r\n                > (this.defaultContainer.current.getBoundingClientRect().width - 0*parseFloat(window.getComputedStyle(this.defaultContainer.current).getPropertyValue(\"padding\")))) {\r\n            this.defaultContainer.current.classList.add(\"overflow\");\r\n            transformed++;\r\n        } else {\r\n            this.defaultContainer.current.classList.remove(\"overflow\");\r\n        }\r\n        return transformed;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.testCenterControls();\r\n        this.testSize();\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.testCenterControls();\r\n        this.testSize();\r\n    }\r\n\r\n    windowResized() {\r\n        return this.testSize();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div className=\"control-bar\">\r\n                    <div className=\"control-container\" id=\"main-control\" ref={this.mainContainer}>\r\n                        <div className=\"control-wrapper\">\r\n                            {this.mainLabel &&\r\n                                <div id=\"main-control-label\" className=\"control-title\">\r\n                                    <p className=\"control-label\">\r\n                                        {this.mainLabel}\r\n                                    </p>\r\n                                    <div className=\"visualizer-icons\">\r\n                                        <div id=\"big-o-icon\" data-tooltip=\"Big-O Info\" tt-bottom=\"\" tt-right=\"\" onClick={this.props.showBigODisplay}>\r\n                                            <FontAwesomeIcon icon={[\"far\",\"clock\"]} size=\"lg\" className=\"hoverable-icon\" />\r\n                                            {// <span id=\"big-o-tooltip\" className=\"tooltip tt-bottom tt-right\">Big-O Info</span>\r\n                                            }\r\n                                        </div>\r\n                                        {this.props.hasExamples &&\r\n                                            <div id=\"examples-icon\" data-tooltip=\"Examples\" tt-bottom=\"\" tt-right=\"\" onClick={this.props.showExamplesDisplay}>\r\n                                                <FontAwesomeIcon icon={[\"far\",\"lightbulb\"]} size=\"lg\" className=\"hoverable-icon\" />\r\n                                                {// <span id=\"big-o-tooltip\" className=\"tooltip tt-bottom tt-right\">Big-O Info</span>\r\n                                                }\r\n                                            </div>\r\n                                        }\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                            <div className=\"controls control-group\"  ref={this.controlBar}></div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"control-container\" id=\"default-control\" ref={this.defaultContainer}>\r\n                        <div className=\"control-wrapper\">\r\n                            {// {this.defaultsLabel && <p className=\"control-label\" id=\"default-control-label\">{this.defaultsLabel}</p>}\r\n                            }\r\n                            <div className=\"controls default control-group\" ref={this.defaults}></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n    }\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport {StickyTable, Row, Cell} from 'react-sticky-table';\r\nimport './big-o-display.scss';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { SiteMap, Utils } from 'utils';\r\n\r\nconst bigODatumToDivClass = (bigODatum) => {\r\n    return bigODatum.replace(/[( ^+/]/g,\"-\").replace(/\\)/g,\"\") + \" data-cell\";\r\n}\r\n\r\nconst extractDataFromSpecs = (BIG_O_DATA, bigOSpecs) => {\r\n    const DATA = [];\r\n    let headers = [bigOSpecs.col1Name, ...bigOSpecs.cols].map(header => { return { dataString: header, styleClass: \"big-o-header col\"}});\r\n    headers[0].explanation = bigOSpecs.explanation;\r\n    DATA.push(headers);\r\n    for (let row of bigOSpecs.rows) {\r\n        const ROW = [{ dataString: row, styleClass: \"big-o-header row\"}];\r\n        for (let col of bigOSpecs.cols) {\r\n            let regexIgnoreSymbol = /[\\W]/;\r\n            let row_ = row.substring(0, row.search(regexIgnoreSymbol)) || row;\r\n            let col_ = col.substring(0, col.search(regexIgnoreSymbol)) || col;\r\n            // console.log([`${row_}_${col_}`] , [row_] , [col_]);\r\n            const BIG_O_OP_INFO = bigOSpecs[`${row_}_${col_}`] || bigOSpecs[row_] || bigOSpecs[col_];\r\n            let extraConfigData = [];\r\n            if (BIG_O_DATA) {\r\n                Object.keys(BIG_O_DATA).forEach(config => {\r\n                    if (config !== \"defaultConfig\" && (BIG_O_DATA[config][`${row_}_${col_}`] || BIG_O_DATA[config][row_] || BIG_O_DATA[config][col_])) {\r\n                        extraConfigData.push({name: BIG_O_DATA[config].name, data: BIG_O_DATA[config][`${row_}_${col_}`] || BIG_O_DATA[config][row_] || BIG_O_DATA[config][col_]});\r\n                    }\r\n                });\r\n            }\r\n            let dataString = \"\";\r\n            let styleClass = \"\";\r\n            if (BIG_O_OP_INFO && BIG_O_OP_INFO.__proto__.constructor.name !== \"Array\") {\r\n                if (BIG_O_OP_INFO.best) {\r\n                    dataString += `Best: ${BIG_O_OP_INFO.best}`;\r\n                    styleClass = bigODatumToDivClass(BIG_O_OP_INFO.best);\r\n                }\r\n                if (BIG_O_OP_INFO.average) {\r\n                    dataString += `\\nAverage: ${BIG_O_OP_INFO.average}`;\r\n                    styleClass = bigODatumToDivClass(BIG_O_OP_INFO.average);\r\n                }\r\n                if (BIG_O_OP_INFO.amortized) {\r\n                    dataString += `\\nAmortized: ${BIG_O_OP_INFO.amortized}`;\r\n                    if (!BIG_O_OP_INFO.average) {\r\n                        styleClass = bigODatumToDivClass(BIG_O_OP_INFO.amortized);\r\n                    }\r\n                }\r\n                if (BIG_O_OP_INFO.worst) {\r\n                    dataString += `\\nWorst: ${BIG_O_OP_INFO.worst}`;\r\n                    if (!styleClass) {\r\n                        styleClass = bigODatumToDivClass(BIG_O_OP_INFO.worst);\r\n                    }\r\n                }\r\n                if (BIG_O_OP_INFO.unamortized) {\r\n                    dataString += `\\nUnamortized: ${BIG_O_OP_INFO.unamortized}`;\r\n                    if (!styleClass) {\r\n                        styleClass = bigODatumToDivClass(BIG_O_OP_INFO.unamortized);\r\n                    }\r\n                }\r\n                if (extraConfigData.length > 0) {\r\n                    extraConfigData.forEach((extraConfig) => {\r\n                        dataString += `\\n${extraConfig.name}: ${extraConfig.data.newBigO}`;\r\n                    });\r\n                }\r\n                dataString = dataString.trim();\r\n                if (!dataString.includes(\"\\n\") && dataString.includes(\"Average\")) {\r\n                    dataString = dataString.substring(dataString.indexOf(\":\")+2);\r\n                }\r\n                if (BIG_O_OP_INFO.tier) {\r\n                    styleClass = bigODatumToDivClass(`tier-${BIG_O_OP_INFO.tier}`);\r\n                }\r\n            } else if (BIG_O_OP_INFO) {\r\n                dataString = <FontAwesomeIcon icon={BIG_O_OP_INFO} size=\"2x\" />;\r\n                styleClass = \"data-cell big-o-icon-cell\";\r\n            }\r\n            if (!styleClass) {\r\n                styleClass = bigODatumToDivClass(\"\");\r\n            }\r\n            let explanation = (!!BIG_O_OP_INFO && BIG_O_OP_INFO.explanation) || null;\r\n            ROW.push({ dataString, styleClass, explanation });\r\n        }\r\n        DATA.push(ROW);\r\n    }\r\n    if (DATA.length > 2) {\r\n        for (let col = 1; col < headers.length; col++) {\r\n            let allSame = true;\r\n            for (let row = 2; row < DATA.length; row++) {\r\n                if (DATA[row][col].explanation !== DATA[row-1][col].explanation) {\r\n                    allSame = false;\r\n                    break;\r\n                }\r\n            }\r\n            if (allSame) {\r\n                headers[col].explanation = DATA[1][col].explanation;\r\n                for (let row = 1; row < DATA.length; row++) {\r\n                    DATA[row][col].explanation = \"\";\r\n                }\r\n            }\r\n        }\r\n    }\r\n    if (headers.length > 2) {\r\n        for (let row = 1; row < DATA.length; row++) {\r\n            let allSame = true;\r\n            for (let col = 2; col < DATA[row].length; col++) {\r\n                if (DATA[row][col].explanation !== DATA[row][col-1].explanation) {\r\n                    allSame = false;\r\n                    break;\r\n                }\r\n            }\r\n            if (allSame) {\r\n                DATA[row][0].explanation = DATA[row][1].explanation;\r\n                for (let col = 1; col < DATA[row].length; col++) {\r\n                    DATA[row][col].explanation = \"\";\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return DATA;\r\n}\r\n\r\nexport const BigODisplay = (props) => {\r\n    let bigOSpecs = props.data;\r\n    let BIG_O_DATA;\r\n    if (!bigOSpecs) {\r\n        BIG_O_DATA = SiteMap.filter(group => group.link === props.group)[0]\r\n                .types.filter(type => type.link === props.type)[0]\r\n                .classes.filter(visualizer => visualizer.link === props.class)[0]\r\n                .bigOData;\r\n\r\n        if (BIG_O_DATA.__proto__.constructor.name === \"Array\") {\r\n            BIG_O_DATA = SiteMap.filter(group => group.link === BIG_O_DATA[0])[0]\r\n                    .types.filter(type => type.link === BIG_O_DATA[1])[0]\r\n                    .classes.filter(visualizer => visualizer.link === BIG_O_DATA[2])[0]\r\n                    .bigOData;\r\n        }\r\n\r\n        // console.log(BIG_O_DATA);\r\n\r\n        bigOSpecs = BIG_O_DATA.defaultConfig;\r\n    }\r\n\r\n    const DATA = extractDataFromSpecs(BIG_O_DATA, bigOSpecs);\r\n\r\n    useEffect(() => {\r\n        const mouseEnterHandler = (event) => {\r\n            let explanationNode = event.target.lastChild;\r\n            let tableCellBounds = event.target.getBoundingClientRect();\r\n            let explanationNodeBounds = explanationNode.getBoundingClientRect();\r\n            let left, top;\r\n            if (tableCellBounds.right + explanationNodeBounds.width <= Utils.windowWidth()) {\r\n                left = tableCellBounds.left + tableCellBounds.width / 2;\r\n            } else {\r\n                left = tableCellBounds.right - tableCellBounds.width / 2 - explanationNodeBounds.width;\r\n            }\r\n            if (tableCellBounds.bottom + explanationNodeBounds.height <= Utils.windowHeight()) {\r\n                top = tableCellBounds.top + tableCellBounds.height / 2;\r\n            } else {\r\n                top = tableCellBounds.bottom - tableCellBounds.height / 2 - explanationNodeBounds.height;\r\n            }\r\n            left = Math.max(5, Math.min(left, Utils.windowWidth() - explanationNodeBounds.width));\r\n            top = Math.max(5, Math.min(top, Utils.windowHeight() - explanationNodeBounds.height - 5));\r\n            explanationNode.style.left = `${left}px`;\r\n            explanationNode.style.top = `${top}px`;\r\n        };\r\n\r\n        let cellsWithExplanations = document.querySelectorAll(\".big-o-cell.big-o-has-explanation\");\r\n        cellsWithExplanations.forEach((explanationCell) => {\r\n            explanationCell.addEventListener(\"mouseenter\", mouseEnterHandler);\r\n        });\r\n\r\n        return () => {\r\n            cellsWithExplanations.forEach((explanationCell) => {\r\n                explanationCell.removeEventListener(\"mouseenter\", mouseEnterHandler);\r\n            });\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n            <div className=\"big-o-display\">\r\n                <StickyTable className=\"big-o-table\" borderColor={`#778bebcc`}>\r\n                    {DATA.map((row, i) =>\r\n                        <Row key={i} className={`big-o-row${i === 0 ? \" big-o-header-row\" : \"\"}`}>\r\n                            {row.map((cell, j) =>\r\n                                <Cell key={j} className={`big-o-cell ${cell.styleClass}${cell.explanation ? \" big-o-has-explanation\" : \"\"}`}>\r\n                                    {(typeof cell.dataString === \"string\")\r\n                                        ? cell.dataString.split(\"\\n\").map((line, k, arr) => {\r\n                                            return (\r\n                                                    <div key={k} className=\"big-o-datum\">\r\n                                                        {line.includes(\":\")\r\n                                                            ? <div className=\"big-o-datum-inner\">\r\n                                                                <span className=\"big-o-datum-label\">\r\n                                                                    {line.substring(0, line.indexOf(\":\"))}\r\n                                                                </span>\r\n                                                                <span className=\"big-o-datum-colon\">\r\n                                                                    :\r\n                                                                </span>\r\n                                                                <span className=\"big-o-datum-value\">\r\n                                                                    {line.substring(line.indexOf(\":\") + 1)}\r\n                                                                </span>\r\n                                                            </div>\r\n                                                            : line\r\n                                                        }\r\n                                                    </div>\r\n                                                );\r\n                                            })\r\n                                        : cell.dataString\r\n                                    }\r\n                                    {cell.explanation\r\n                                        ? <p className=\"big-o-explanation-container\">{cell.explanation}</p>\r\n                                        : null\r\n                                    }\r\n                                </Cell>\r\n                            )}\r\n                        </Row>\r\n                    )}\r\n                </StickyTable>\r\n            </div>\r\n        );\r\n}\r\n","import { BigODisplay } from './big-o-display';\r\nexport default BigODisplay;\r\n","import React, { useRef, useEffect } from 'react';\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport './bigOWindow.scss';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport BigODisplay from 'components/big-o-type/big-o-display';\r\n\r\nconst BigOWindow = React.forwardRef((props, ref) => {\r\n    let { closeBigODisplay } = props;\r\n    const containerRef = useRef(null);\r\n    useEffect(() => {\r\n        const documentClickHandler = (event) => {\r\n            if (containerRef.current && !containerRef.current.contains(event.target)) {\r\n                closeBigODisplay();\r\n                event.preventDefault();\r\n            }\r\n        }\r\n        const escapeKeyHandler = (event) => {\r\n            if (event.key === \"Escape\") {\r\n                closeBigODisplay();\r\n                event.preventDefault();\r\n            }\r\n        };\r\n        document.addEventListener(\"click\", documentClickHandler);\r\n        document.addEventListener(\"keydown\", escapeKeyHandler);\r\n        // console.log(\"open big o\");\r\n        return () => {\r\n            document.removeEventListener(\"click\", documentClickHandler);\r\n            document.removeEventListener(\"keydown\", escapeKeyHandler);\r\n            // console.log(\"close big o\");\r\n        }\r\n    }, [closeBigODisplay]);\r\n    let match = useRouteMatch({\r\n        path: `/:visualizerGroup/:visualizerType/:visualizerClass`\r\n    });\r\n\r\n\r\n    return (\r\n            <div className=\"big-o-window-container\" ref={ref}>\r\n                <div className=\"big-o-window\" ref={containerRef}>\r\n                    <FontAwesomeIcon id=\"exit-big-o\" icon={[\"far\",\"times-circle\"]} className=\"hoverable-icon\" onClick={closeBigODisplay }/>\r\n                    <p id=\"close-box-tip\">(Click outside to close.)</p>\r\n                    <h2 id=\"big-o-title\">\r\n                        {props.title.split(\"\").map((char, i) => {\r\n                            if (i > 0 && char === char.toUpperCase()) {\r\n                                return (\r\n                                    <span key={i}>\r\n                                        <wbr />{char}\r\n                                    </span>\r\n                                );\r\n                            }\r\n                            return char;\r\n                        })} Big-O\r\n                    </h2>\r\n                    <BigODisplay group={match.params.visualizerGroup} type={match.params.visualizerType} class={match.params.visualizerClass} title={props.title}/>\r\n                </div>\r\n            </div>\r\n        );\r\n});\r\n\r\nexport default BigOWindow;\r\n","export default class AnimatedObject {\r\n    constructor() {\r\n        this.xProgress = 1;\r\n        this.yProgress = 1;\r\n        // this.translationFrames = 0;\r\n\r\n        // this.animating = false;\r\n        this.direction = 0;\r\n    }\r\n\r\n    travel(direction) {\r\n        this.xProgress = 0;\r\n        this.yProgress = 0;\r\n        this.direction = direction;\r\n    }\r\n\r\n    inPosition() {\r\n        return this.direction >= 0\r\n                ? this.xProgress >= 1 && this.yProgress >= 1\r\n                : this.xProgress <= -1 && this.yProgress <= -1;\r\n    }\r\n\r\n    update(animationSpeed) {\r\n        if (!this.inPosition()) {\r\n            // this.animating = true;\r\n            this.xProgress += Math.sign(this.direction) * animationSpeed/200;\r\n            this.yProgress += Math.sign(this.direction) * animationSpeed/200;\r\n        } else {\r\n            // this.animating = false;\r\n        }\r\n    }\r\n\r\n\r\n}\r\n","import Visualizer from 'components/visualizer'\r\nexport default class AttractedDraggableObject {\r\n\r\n    static ATTRACTION = 0.3;\r\n    static MIN_DISTANCE = 5;\r\n\r\n    constructor(x,y) {\r\n        this.currentX = x;\r\n        this.currentY = y;\r\n        this.desiredX = x;\r\n        this.desiredY = y;\r\n        this.vx = 0;\r\n        this.vy = 0;\r\n        this.frozen = false;\r\n        this.onStop = [];\r\n\r\n        this.pinnedToMouse = false;\r\n        this.mouseOffsetX = 0;\r\n        this.mouseOffsetY = 0;\r\n    }\r\n\r\n    shift(x,y) {\r\n        // console.log(this.data,\":\",x,y);\r\n        this.desiredX = x;\r\n        this.desiredY = y;\r\n    }\r\n\r\n    goTo(x,y) {\r\n        // let oldX = this.desiredX;\r\n        // let oldY = this.desiredY;\r\n        this.desiredX = x;\r\n        this.desiredY = y;\r\n        this.stop();\r\n        // return [oldX, oldY];\r\n    }\r\n\r\n    displacement() {\r\n        return Math.sqrt(Math.pow(this.desiredX - this.currentX,2) + Math.pow(this.desiredY - this.currentY,2));\r\n    }\r\n\r\n    addOnStop(callback) {\r\n        this.onStop.push(callback);\r\n    }\r\n\r\n    stop() {\r\n        this.currentX = this.desiredX;\r\n        this.vx = 0;\r\n        this.currentY = this.desiredY;\r\n        this.vy = 0;\r\n        while (this.onStop.length > 0) {\r\n            this.onStop.shift()(this);\r\n        }\r\n    }\r\n\r\n    pin(mouseX, mouseY) {\r\n        if (this.constructor.CAN_DRAG) {\r\n            if (!this.frozen) {\r\n                this.pinnedToMouse = true;\r\n                this.mouseOffsetX = mouseX - this.currentX;\r\n                this.mouseOffsetY = mouseY - this.currentY;\r\n            }\r\n        }\r\n    }\r\n\r\n    unpin() {\r\n        this.pinnedToMouse = false;\r\n        this.mouseOffsetX = 0;\r\n        this.mouseOffsetY = 0;\r\n        this.vx = 0;\r\n        this.vy = 0;\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        if (this.frozen) {\r\n            this.desiredX = this.currentX;\r\n            this.desiredY = this.currentY;\r\n        }\r\n        let deltaX = this.desiredX - this.currentX;\r\n        let deltaY = this.desiredY - this.currentY;\r\n        if (this.pinnedToMouse) {\r\n            this.currentX = p5.mouseX - this.mouseOffsetX;\r\n            this.currentY = p5.mouseY - this.mouseOffsetY;\r\n        } else if ((animationSpeed >= Math.floor(Visualizer.maxAnimationSpeed()))\r\n                || (isNaN(this.currentX) || isNaN(this.currentY) || isNaN(this.vx) || isNaN(this.vy))) {\r\n            this.stop();\r\n        } else {\r\n            // console.log(\"moving\", this.desiredY, this.currentY);\r\n            if (deltaY !== 0 || deltaX !== 0) {\r\n                let angle = Math.atan(deltaY/deltaX);\r\n                if (deltaX < 0) {\r\n                    angle += Math.PI;\r\n                }\r\n                let magnitude = AttractedDraggableObject.ATTRACTION * animationSpeed;\r\n                let prevAngle = Math.atan(this.vy/this.vx);\r\n                if (this.vx < 0) {\r\n                    prevAngle += Math.PI;\r\n                }\r\n                this.vx += magnitude * Math.cos(angle);\r\n                this.vy += magnitude * Math.sin(angle);\r\n\r\n                this.vx *= 0.75;\r\n                this.vy *= 0.75;\r\n\r\n                if (Math.abs(Math.abs(prevAngle - angle) - Math.PI) < (Math.PI/12)) {\r\n                    this.stop();\r\n                }\r\n                this.currentX += this.vx;\r\n                this.currentY += this.vy;\r\n            } else {\r\n                // console.log(\"stop\");\r\n                this.stop();\r\n            }\r\n        }\r\n        return Math.sqrt(Math.pow(deltaX,2) + Math.pow(deltaY,2));\r\n    }\r\n}\r\n","import Visualizer from 'components/visualizer'\r\nimport { Utils, Colors } from 'utils';\r\n\r\nexport default class AttractedHighlightableObject {\r\n    static ATTRACTION = 0.2;\r\n    static MIN_DISTANCE = 5;\r\n\r\n    static HIGHTLIGHT_WIDTH = 5;\r\n    static HIGHLIGHT_CIRCLE = 0;\r\n    static HIGHLIGHT_SQUARE = 1;\r\n\r\n    constructor(x,y, options = {}) {\r\n        this.value = options.value || null;\r\n\r\n        this.currentX = x;\r\n        this.currentY = y;\r\n        this.desiredX = x;\r\n        this.desiredY = y;\r\n        this.vx = 0;\r\n        this.vy = 0;\r\n        this.frozen = false;\r\n        this.onStop = [];\r\n\r\n        this.highlighted = false;\r\n        this.highlightColor = Colors.BLUE;\r\n        this.highlightShape = AttractedHighlightableObject.HIGHLIGHT_CIRCLE;\r\n\r\n        Object.entries(options).forEach((option) => {\r\n            this[option[0]] = option[1];\r\n        });\r\n        Utils.unfoldUndoRedo(this);\r\n    }\r\n\r\n    shift(x,y) {\r\n        this.desiredX = x;\r\n        this.desiredY = y;\r\n    }\r\n\r\n    goTo(x,y) {\r\n        let oldX = this.desiredX;\r\n        let oldY = this.desiredY;\r\n        this.desiredX = x;\r\n        this.desiredY = y;\r\n        this.stop();\r\n        return [oldX, oldY];\r\n    }\r\n    undo_goTo(oldX,oldY) {\r\n        this.desiredX = oldX;\r\n        this.desiredY = oldY;\r\n        this.stop();\r\n    }\r\n\r\n    displacement() {\r\n        return Math.sqrt(Math.pow(this.desiredX - this.currentX,2) + Math.pow(this.desiredY - this.currentY,2));\r\n    }\r\n\r\n    addOnStop(callback) {\r\n        this.onStop.push(callback);\r\n    }\r\n\r\n    stop() {\r\n        this.currentX = this.desiredX;\r\n        this.vx = 0;\r\n        this.currentY = this.desiredY;\r\n        this.vy = 0;\r\n        while (this.onStop.length > 0) {\r\n            this.onStop.shift()(this);\r\n        }\r\n    }\r\n\r\n    highlight(color = Colors.BLUE, shape = AttractedHighlightableObject.HIGHLIGHT_CIRCLE) {\r\n        this.highlightColor = color;\r\n        this.highlightShape = shape;\r\n        this.highlighted = true;\r\n    }\r\n    undo_highlight() {\r\n        this.unhighlight();\r\n    }\r\n\r\n    unhighlight() {\r\n        this.highlighted = false;\r\n    }\r\n    undo_unhighlight(color, shape) {\r\n        this.highlight(color, shape);\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        if (this.frozen) {\r\n            this.desiredX = this.currentX;\r\n            this.desiredY = this.currentY;\r\n        }\r\n        let deltaX = this.desiredX - this.currentX;\r\n        let deltaY = this.desiredY - this.currentY;\r\n        if ((animationSpeed >= Math.floor(Visualizer.maxAnimationSpeed()))\r\n                || (isNaN(this.currentX) || isNaN(this.currentY) || isNaN(this.vx) || isNaN(this.vy))) {\r\n            this.stop();\r\n        } else {\r\n            if (deltaY !== 0 || deltaX !== 0) {\r\n                let angle = Math.atan(deltaY/deltaX);\r\n                if (deltaX < 0) {\r\n                    angle += Math.PI;\r\n                }\r\n                let magnitude = AttractedHighlightableObject.ATTRACTION * animationSpeed;\r\n                let prevAngle = Math.atan(this.vy/this.vx);\r\n                if (this.vx < 0) {\r\n                    prevAngle += Math.PI;\r\n                }\r\n                this.vx = magnitude * Math.cos(angle);\r\n                this.vy = magnitude * Math.sin(angle);\r\n\r\n                // this.vx *= 0.75;\r\n                // this.vy *= 0.75;\r\n\r\n                if (Math.abs(Math.abs(prevAngle - angle) - Math.PI) < (Math.PI/12)) {\r\n                    this.stop();\r\n                }\r\n                this.currentX += this.vx;\r\n                this.currentY += this.vy;\r\n            } else {\r\n                this.stop();\r\n            }\r\n        }\r\n        return Math.sqrt(Math.pow(deltaX,2) + Math.pow(deltaY,2));\r\n    }\r\n\r\n    drawHighlight(p5) {\r\n        p5.push();\r\n        p5.stroke(...this.highlightColor);\r\n        p5.noFill();\r\n        p5.strokeWeight(AttractedHighlightableObject.HIGHTLIGHT_WIDTH);\r\n        let diameter = 2 * (this.highlightInnerRadius || this.highlightOuterRadius) + (this.highlightInnerRadius ? 1 : -1) * AttractedHighlightableObject.HIGHTLIGHT_WIDTH;\r\n        if (this.highlightShape === AttractedHighlightableObject.HIGHLIGHT_CIRCLE) {\r\n            p5.circle(this.currentX, this.currentY, diameter);\r\n        } else if (this.highlightShape === AttractedHighlightableObject.HIGHLIGHT_SQUARE) {\r\n            p5.square(this.currentX - diameter/2, this.currentY - diameter/2, diameter);\r\n        }\r\n        p5.pop();\r\n    }\r\n\r\n    drawValue(p5) {\r\n        if (this.value) {\r\n            p5.textAlign(p5.CENTER, p5.CENTER);\r\n            p5.fill(0);\r\n            p5.stroke(0);\r\n            let radius = 2 * (this.highlightInnerRadius || this.highlightOuterRadius) + (this.highlightInnerRadius ? 1 : -1) * AttractedHighlightableObject.HIGHTLIGHT_WIDTH;\r\n            p5.text(this.value.toString(), this.currentX - radius,this.currentY - radius, 2*radius, 2*radius);\r\n        }\r\n    }\r\n\r\n    draw(p5) {\r\n        p5.push();\r\n        if (this.highlighted) {\r\n            this.drawHighlight(p5);\r\n        }\r\n        this.drawValue(p5);\r\n        p5.pop();\r\n    }\r\n}\r\n","import { AttractedDraggableObject } from './';\r\nimport { Colors, Utils } from 'utils';\r\n\r\nexport default class TreeNode extends AttractedDraggableObject {\r\n    static SIZE = 50;\r\n\r\n    constructor(x,y, data) {\r\n        super(x,y);\r\n\r\n        this.data = data;\r\n\r\n        this.left = null;\r\n        this.right = null;\r\n\r\n        this.readyToFollow = true;\r\n    }\r\n\r\n    getCenterXY() {\r\n        let centerX = this.currentX + this.constructor.SIZE/2;\r\n        let centerY = this.currentY + this.constructor.SIZE/2;\r\n        return [centerX, centerY];\r\n    }\r\n\r\n    containsPos(x,y) {\r\n        let [centerX, centerY] = this.getCenterXY();\r\n        return Math.pow(Math.pow(centerX - x, 2) + Math.pow(centerY - y, 2), 0.5) <= this.constructor.SIZE/2;\r\n    }\r\n\r\n    containsMousePin() {\r\n        return this.pinnedToMouse || (this.left && this.left.containsMousePin()) || (this.right && this.right.containsMousePin());\r\n    }\r\n\r\n    shiftDown() {\r\n        super.shift(this.desiredX, this.desiredY + this.constructor.VSPACE);\r\n    }\r\n\r\n    shiftUp() {\r\n        super.shift(this.desiredX, this.desiredY - this.constructor.VSPACE);\r\n    }\r\n\r\n    shiftX(x) {\r\n        super.shift(x, this.desiredY);\r\n    }\r\n\r\n    setY(y) {\r\n        super.shift(this.desiredX, y);\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5)\r\n        if (this.left) {\r\n            this.left.update(animationSpeed, p5);\r\n        }\r\n        if (this.right) {\r\n            this.right.update(animationSpeed, p5);\r\n        }\r\n    }\r\n\r\n    draw(p5) {\r\n        p5.push();\r\n        p5.fill(255);\r\n        p5.stroke(...this.color);\r\n        p5.circle(...this.getCenterXY(), this.constructor.SIZE);\r\n        // p5.rect(this.currentX, this.currentY, this.constructor.SIZE, this.constructor.SIZE);\r\n        // p5.line(this.currentX + this.constructor.SIZE, this.currentY, this.currentX + this.constructor.SIZE, this.currentY + this.constructor.SIZE);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.text(this.data.toString(), this.currentX,this.currentY, this.constructor.SIZE,this.constructor.SIZE);\r\n        if (this.left) {\r\n            p5.stroke(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.fill(...Utils.addArray(this.color, Colors.BLUE));\r\n            let deltaX = this.left.currentX - this.currentX;\r\n            let deltaY = this.left.currentY - this.currentY;\r\n            let angle = Math.atan(deltaY/deltaX);\r\n            if (deltaX < 0) {\r\n                angle += Math.PI;\r\n            }\r\n            p5.line(...Utils.addArray(this.getCenterXY(),[Math.cos(angle)*this.constructor.SIZE/2,Math.sin(angle)*this.constructor.SIZE/2]),...Utils.addArray(this.left.getCenterXY(),[-Math.cos(angle)*this.constructor.SIZE/2,-Math.sin(angle)*this.constructor.SIZE/2]));\r\n        } else {\r\n            // p5.line(this.currentX + this.constructor.SIZE, this.currentY, this.currentX + this.constructor.SIZE, this.currentY + this.constructor.SIZE);\r\n        }\r\n        if (this.right) {\r\n            p5.stroke(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.fill(...Utils.addArray(this.color, Colors.BLUE));\r\n            let deltaX = this.right.currentX - this.currentX;\r\n            let deltaY = this.right.currentY - this.currentY;\r\n            let angle = Math.atan(deltaY/deltaX);\r\n            if (deltaX < 0) {\r\n                angle += Math.PI;\r\n            }\r\n            p5.line(...Utils.addArray(this.getCenterXY(),[Math.cos(angle)*this.constructor.SIZE/2,Math.sin(angle)*this.constructor.SIZE/2]),...Utils.addArray(this.right.getCenterXY(),[-Math.cos(angle)*this.constructor.SIZE/2,-Math.sin(angle)*this.constructor.SIZE/2]));\r\n        } else {\r\n            // p5.line(this.currentX + this.constructor.SIZE, this.currentY, this.currentX + this.constructor.SIZE, this.currentY + this.constructor.SIZE);\r\n        }\r\n        p5.pop();\r\n        if (this.left) {\r\n            this.left.draw(p5);\r\n        }\r\n        if (this.right) {\r\n            this.right.draw(p5);\r\n        }\r\n    }\r\n}\r\n","import { AttractedHighlightableObject } from './';\r\nimport { Colors } from 'utils';\r\n\r\nexport default class TrackingHighlighter extends AttractedHighlightableObject {\r\n    constructor(target, offset, options = {}) {\r\n        super(0,0, options);\r\n\r\n        this.highlightInnerRadius = offset;\r\n\r\n        this.target = target;\r\n        this.locked = false;\r\n    }\r\n\r\n    stop() {\r\n        super.stop();\r\n        this.locked = true;\r\n    }\r\n\r\n    setTarget(target, innerRadius, asRedSquare) {\r\n        this.locked = this.target === null;\r\n        this.target = target;\r\n        if (innerRadius) {\r\n            this.highlightInnerRadius = innerRadius;\r\n        }\r\n        if (target) {\r\n            this.highlight(asRedSquare ? Colors.RED : undefined, asRedSquare ? AttractedHighlightableObject.HIGHLIGHT_SQUARE : undefined);\r\n        } else {\r\n            this.unhighlight();\r\n        }\r\n        // console.log(this.highlightInnerRadius);\r\n    }\r\n\r\n    trackTarget() {\r\n        if (this.target) {\r\n            // console.log(\"tracking\");\r\n            this.desiredX = this.target.currentX + this.highlightInnerRadius;\r\n            this.desiredY = this.target.currentY + this.highlightInnerRadius;\r\n            if (this.locked) {\r\n                this.currentX = this.desiredX;\r\n                this.currentY = this.desiredY;\r\n            }\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        this.trackTarget();\r\n        super.update(animationSpeed, p5)\r\n    }\r\n}\r\n","export default class Animator {\r\n    constructor() {\r\n        this.events = [];\r\n    }\r\n\r\n    on(type, callback) {\r\n        if (!this.events[type]) {\r\n            this.events[type] = [];\r\n        }\r\n        this.events[type].push(callback);\r\n    }\r\n\r\n    off(type, callback) {\r\n        if (this.events[type]) {\r\n            this.events[type] = this.events[type].filter( event => {\r\n                return event !== callback;\r\n            });\r\n        }\r\n    }\r\n\r\n    emit(type) {\r\n        if (this.events[type]) {\r\n            this.events[type].forEach( event => {\r\n                event();\r\n            });\r\n        }\r\n    }\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { Utils, Colors } from 'utils';\r\n\r\nexport default class Visualization {\r\n\r\n    static LOG_UNDO_REDO = false;\r\n    static LOG_ANIMATIONS = false;\r\n    static LOG_DONE_ANIMATING = false;\r\n    static LOG_DRAW = false;\r\n    static TEST_ANIMATION_STEPS = false;\r\n\r\n    testAnimation(howMany = 1) {\r\n        this.animationHistory.slice(-howMany).forEach(animationSet => {\r\n            let stepData = animationSet.map(animation => {\r\n                return {\r\n                    method: animation.method.name,\r\n                    isBackStep: animation.isBackStep || animation.isAnimationStep,\r\n                    isForwardStep: animation.isForwardStep || animation.isAnimationStep\r\n                };\r\n            });\r\n            let success = true;\r\n            let i = 0;\r\n            let alsoForward = false;\r\n            while (i < stepData.length) {\r\n                let lastForward = alsoForward ? i - 1 : null;\r\n                while (i < stepData.length && !stepData[i].isBackStep) {\r\n                    console.log(stepData[i]);\r\n                    if (stepData[i].isForwardStep) {\r\n                        if (lastForward !== null) {\r\n                            console.log(\"EARLY FORWARD\");\r\n                            success = false;\r\n                        }\r\n                        lastForward = i;\r\n                    }\r\n                    i++;\r\n                }\r\n                if (i < stepData.length) {\r\n                    console.log(stepData[i]);\r\n                    if (lastForward === null) {\r\n                        console.log(\"EARLY BACK\");\r\n                        success = false;\r\n                    }\r\n                    alsoForward = stepData[i].isForwardStep;\r\n                }\r\n                i++;\r\n            }\r\n            if (success) {\r\n                console.log(\"ANIMATION PASSED\");\r\n            }\r\n        });\r\n    }\r\n\r\n    constructor(animator, width, height) {\r\n        this.x = 20;\r\n        this.y = 20;\r\n        if (this.constructor.SET_BOUNDS) {\r\n            this.width = width;\r\n            this.height = height;\r\n        }\r\n\r\n        if (this.constructor.SUPPORTS_TEXT) {\r\n            // this.displayText = \"Animation Ready\";\r\n            // if (this.constructor.CAN_DRAG) {\r\n            //     this.displayText += \" | Click and drag on a node to move it!\";\r\n            // }\r\n            // console.log(this.displayText);\r\n            // this.displayTextColor = [0,0,0];\r\n        } else {\r\n            delete this.showText;\r\n            delete this.updateText;\r\n        }\r\n\r\n        this.animator = animator;\r\n\r\n        // this.drawing = true;\r\n        if (this.constructor.SUPPORTS_NO_LOOP) {\r\n            this.drawing = false;\r\n        } else {\r\n            // this.drawing = true;\r\n            delete this.beginDrawLoop;\r\n            delete this.endDrawLoop;\r\n        }\r\n\r\n        if (this.constructor.SUPPORTS_ANIMATION_CONTROL) {\r\n            this.paused = false;\r\n            Utils.unfoldUndoRedo(this);\r\n        } else {\r\n            delete this.playPause;\r\n            delete this.play;\r\n            delete this.pause;\r\n            delete this.skipBack;\r\n            delete this.stepBack;\r\n            delete this.undoAnimation;\r\n            delete this.undoText;\r\n            delete this.skipForward;\r\n            delete this.stepForward;\r\n            delete this.redoAnimation;\r\n\r\n            delete this.undo;\r\n            delete this.undoAction;\r\n        }\r\n\r\n        if (this.constructor.SUPPORTS_STOP_ID) {\r\n            this.stopID = 0;\r\n        }\r\n\r\n        this.reset();\r\n        this.made = true;\r\n    }\r\n\r\n    reset(callback) {\r\n        if (this.made) {\r\n            if (this.constructor.SUPPORTS_NO_LOOP) {\r\n                this.beginDrawLoop();\r\n            }\r\n        }\r\n\r\n        if (this.constructor.SUPPORTS_TEXT) {\r\n            this.displayText = \"Animation Ready\";\r\n            if (this.constructor.SUPPORTS_ANIMATION_CONTROL) {\r\n                this.displayText += \" | Press ctrl-z to undo! (permanantly deletes action)\";\r\n            }\r\n            if (this.constructor.CAN_DRAG) {\r\n                this.displayText += \" | Click and drag on a node to move it!\";\r\n            }\r\n            this.displayTextColor = [0,0,0];\r\n        }\r\n\r\n        this.animationHistory = [];\r\n        this.runningAnimation = [];\r\n        this.animationQueue = [];\r\n        this.animating = false;\r\n\r\n        if (this.constructor.SUPPORTS_NO_LOOP) {\r\n            this.stopDrawing(++this.stopID);\r\n        }\r\n        if (this.constructor.SUPPORTS_ANIMATION_CONTROL) {\r\n            // this.paused = false;\r\n        }\r\n\r\n        if (callback) {\r\n            callback();\r\n        } else {\r\n            this.animator.noLoop();\r\n        }\r\n\r\n        if (this.made) {\r\n            if (this.constructor.SUPPORTS_NO_LOOP) {\r\n                this.endDrawLoop();\r\n                this.stepForward();\r\n            }\r\n        }\r\n    }\r\n\r\n    noAction() {}\r\n    undo_noAction() {}\r\n\r\n    playPause() {\r\n        if (this.paused) {\r\n            this.play();\r\n        } else {\r\n            this.pause();\r\n        }\r\n        return true;\r\n    }\r\n\r\n    play() {\r\n        this.paused = false;\r\n        if (this.animationQueue.length > 0) {\r\n            this.beginDrawLoop();\r\n        } else {\r\n            this.animator.emit(\"anim-end\");\r\n        }\r\n        this.animator.enable(\"playPause\");\r\n        this.animator.disable(\"stepBack\");\r\n        this.animator.disable(\"skipBack\");\r\n        this.animator.disable(\"stepForward\");\r\n        this.animator.disable(\"skipForward\");\r\n    }\r\n\r\n    pause() {\r\n        if (this.animationQueue.length === 0 || !this.isPauseTrigger(this.animationQueue[0])) {\r\n            this.animationQueue.unshift({method:this.setPaused,noAnim:true});\r\n        }\r\n        this.beginDrawLoop();\r\n        this.animator.disable(\"playPause\");\r\n    }\r\n\r\n    setPaused() {\r\n        this.stopDrawing.apply(this, (this.constructor.SUPPORTS_STOP_ID ? [++this.stopID,true] : []));\r\n        this.paused = true;\r\n        this.animator.emit(\"paused\");\r\n        this.animator.enable(\"playPause\");\r\n        if (this.canStepBack()) {\r\n            this.animator.enable(\"stepBack\");\r\n        }\r\n        if (this.canSkipBack()) {\r\n            this.animator.enable(\"skipBack\");\r\n        }\r\n        if (this.canStepForward()) {\r\n            this.animator.enable(\"stepForward\");\r\n        }\r\n        if (this.canSkipForward()) {\r\n            this.animator.enable(\"skipForward\");\r\n        }\r\n    }\r\n\r\n    getLastTextAnimation() {\r\n        if (this.runningAnimation) {\r\n            for (let i = this.runningAnimation.length-1; i >= 0; i--) {\r\n                if (this.runningAnimation[i].method === this.showText || this.runningAnimation[i].explanation) {\r\n                    return this.runningAnimation[i];\r\n                }\r\n            }\r\n        }\r\n        for (let i = this.animationHistory.length - 1; i >= 0; i--) {\r\n            for (let j = this.animationHistory[i].length - 1; j >= 0; j--) {\r\n                if (this.animationHistory[i][j]) {\r\n                    if (this.animationHistory[i][j].method === this.showText || this.animationHistory[i][j].explanation) {\r\n                        return this.animationHistory[i][j];\r\n                    }\r\n                } else {\r\n                    console.log(this.animationHistory, i, j, this.animationHistory[i], this.animationHistory[i][j]);\r\n                }\r\n            }\r\n        }\r\n        return {method:this.showText,params:[\"Animation Ready\"]};\r\n    }\r\n    undoText(explanation) {\r\n        if (explanation) {\r\n            this.showText(explanation);\r\n            return;\r\n        }\r\n        let textAnimation = this.getLastTextAnimation();\r\n        if (textAnimation) {\r\n            if (textAnimation.method === this.showText) {\r\n                this.showText(...textAnimation.params);\r\n            } else {\r\n                this.showText(textAnimation.explanation);\r\n            }\r\n        }\r\n    }\r\n\r\n    undoAnimation(previousAnimation, doDraw) {\r\n        let scope = previousAnimation.scope || this;\r\n        // let undo = scope.undo;\r\n        let undoMethod = previousAnimation.method.undo;\r\n        let params = previousAnimation.undoData || previousAnimation.params || [];\r\n        // console.log(require('util').inspect(previousAnimation, { depth: null }));\r\n        if (undoMethod) {\r\n            if (this.constructor.LOG_UNDO_REDO) {\r\n                console.log(\"undo\",params,undoMethod);\r\n            }\r\n            // if (previousAnimation.returnsUndoData) {\r\n            //     params = previousAnimation.returnValue;\r\n            // }\r\n            if (doDraw) {\r\n                this.beginDrawLoop();\r\n            }\r\n            undoMethod.apply(scope, params);\r\n            this.undoText();//previousAnimation.explanation);\r\n            if (!previousAnimation.customUndoEnd) {\r\n                this.stopDrawing(++this.stopID);\r\n                // console.log(this.stopID);\r\n            }\r\n        } else {\r\n            if (this.constructor.LOG_UNDO_REDO) {\r\n                console.log(\"failed\",previousAnimation);\r\n            }\r\n        }\r\n        this.animationQueue.unshift(previousAnimation);\r\n    }\r\n\r\n    unAnimate(doDraw) {\r\n        if (doDraw) {\r\n            this.ensureDrawn(true);\r\n        }\r\n        let previousAnimation = this.runningAnimation.pop();\r\n        let lastUndo = null;\r\n        while (!(previousAnimation.isAnimationStep || previousAnimation.isBackStep)) {\r\n            this.undoAnimation(previousAnimation,doDraw);\r\n            lastUndo = previousAnimation;\r\n            previousAnimation = this.runningAnimation.pop();\r\n            if (!previousAnimation) {\r\n                break;\r\n            }\r\n        }\r\n        if (previousAnimation) {\r\n            this.undoAnimation(previousAnimation,doDraw);\r\n            lastUndo = previousAnimation;\r\n        }\r\n        if (doDraw && !lastUndo.customUndoEnd) {\r\n            this.ensureDrawn();\r\n        }\r\n    }\r\n\r\n    canStepBack() {\r\n        return this.animationHistory.length > 0 || this.runningAnimation.length > 0;\r\n    }\r\n    stepBack(doDraw = true) {\r\n        if (this.paused) {\r\n            if (this.runningAnimation && this.runningAnimation.length > 0) {\r\n                this.unAnimate(doDraw);\r\n                this.animator.enable(\"stepForward\");\r\n                this.animator.enable(\"skipForward\");\r\n                if (this.runningAnimation.length === 0) {\r\n                    this.animationQueue.unshift({method:this.animator.emit,scope:this.animator,params:[\"anim-start\",],noAnim:true});\r\n                    this.runningAnimation = null;\r\n                    this.undoText();\r\n                    if (this.animationHistory.length === 0) {\r\n                        this.animator.disable(\"stepBack\");\r\n                        this.animator.disable(\"skipBack\");\r\n                    }\r\n                }\r\n                return true;\r\n            } else if (this.animationHistory.length > 0) {\r\n                this.popHistoryToRunningAnimation();\r\n                this.stepBack();\r\n            } else {\r\n                this.animator.disable(\"stepBack\");\r\n                this.animator.disable(\"skipBack\");\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    redoAnimation(nextAnimation,doDraw) {\r\n        let scope = nextAnimation.scope || this;\r\n        let method = nextAnimation.method;\r\n        method = method.redo || method;\r\n        let params = nextAnimation.redoData || nextAnimation.params || [];\r\n        if (doDraw) {\r\n            this.beginDrawLoop();\r\n        }\r\n        let retVal;\r\n        if (!this.isAnimEnd(nextAnimation)) {\r\n            if (this.constructor.LOG_UNDO_REDO) {\r\n                console.log(\"redo\",params,method);\r\n            }\r\n            retVal = method.apply(scope, params);\r\n        }\r\n        if (this.isAnimStart(nextAnimation)) {\r\n            this.runningAnimation = [];\r\n        } else if (this.isAnimEnd(nextAnimation)) {\r\n            this.animationHistory.push(this.runningAnimation);\r\n            this.runningAnimation = null;\r\n        } else if (this.isEndDrawLoopTrigger(nextAnimation)) {\r\n\r\n        } else if (this.isPauseTrigger(nextAnimation)) {\r\n\r\n        } else {\r\n            if (this.runningAnimation) {\r\n                this.runningAnimation.push(nextAnimation);\r\n            } else {\r\n                if (!this.constructor.SUPPORTS_ANIMATION_CONTROL) {\r\n                    this.animationHistory.push(nextAnimation);\r\n                }\r\n            }\r\n        }\r\n        if (nextAnimation.explanation) {\r\n            if (nextAnimation.explanationUsesReturn) {\r\n                nextAnimation.explanation = nextAnimation.explanation.replace(\"|RETURN|\", retVal);\r\n            }\r\n            this.showText(nextAnimation.explanation);\r\n        }\r\n        if (!nextAnimation.customRedoEnd) {\r\n            this.stopDrawing(++this.stopID);\r\n        }\r\n        if (nextAnimation.returnsUndoData && !nextAnimation.undoData) {\r\n            nextAnimation.undoData = nextAnimation.explanationUsesReturn ? retVal[1] : retVal;\r\n        }\r\n        if (nextAnimation.returnsRedoData && !nextAnimation.redoData) {\r\n            nextAnimation.redoData = nextAnimation.explanationUsesReturn ? retVal[1] : retVal;\r\n        }\r\n    }\r\n\r\n    reAnimate(doDraw) {\r\n        if (doDraw) {\r\n            this.ensureDrawn(true);\r\n        }\r\n        let nextAnimation = this.animationQueue.shift();\r\n        let lastRedo = null;\r\n        while (!(nextAnimation.isAnimationStep || nextAnimation.isForwardStep) && !this.isEndDrawLoopTrigger(nextAnimation)) {\r\n            this.redoAnimation(nextAnimation,doDraw);\r\n            lastRedo = nextAnimation;\r\n            nextAnimation = this.animationQueue.shift();\r\n            if (!nextAnimation) {\r\n                break;\r\n            }\r\n        }\r\n        if (nextAnimation) {\r\n            this.redoAnimation(nextAnimation,doDraw);\r\n            lastRedo = nextAnimation;\r\n        }\r\n        if (doDraw && !lastRedo.customRedoEnd) {\r\n            this.ensureDrawn();\r\n        }\r\n        // if (!nextAnimation.customRedoEnd && !this.isEndDrawLoopTrigger(nextAnimation)) {\r\n        //     if (!(this.animationQueue[0].isAnimationStep || this.animationQueue[0].isForwardStep)) {\r\n        //         while (!(this.animationQueue[0].isAnimationStep || this.animationQueue[0].isForwardStep) && !this.isEndDrawLoopTrigger(this.animationQueue[0])) {\r\n        //             nextAnimation = this.animationQueue.shift();\r\n        //             this.redoAnimation(nextAnimation);\r\n        //             if (!nextAnimation) {\r\n        //                 return;\r\n        //             }\r\n        //         }\r\n        //     }\r\n        //     if (this.isEndDrawLoopTrigger(this.animationQueue[0])) {\r\n        //         nextAnimation = this.animationQueue.shift();\r\n        //         this.redoAnimation(nextAnimation);\r\n        //     }\r\n        // }\r\n    }\r\n\r\n    canStepForward() {\r\n        return this.animationQueue.length > 0;\r\n    }\r\n    stepForward(doDraw = true) {\r\n        if (this.paused) {\r\n            if (this.animationQueue.length > 0) {\r\n                this.reAnimate(doDraw);\r\n                this.animator.enable(\"stepBack\");\r\n                this.animator.enable(\"skipBack\");\r\n                if (this.animationQueue.length === 0) {\r\n                    this.animator.emit(\"anim-end\");\r\n                    this.animator.disable(\"stepForward\");\r\n                    this.animator.disable(\"skipForward\");\r\n                } else {\r\n                    this.animator.enable(\"stepForward\");\r\n                    this.animator.enable(\"skipForward\");\r\n                }\r\n                return true;\r\n            } else {\r\n                this.animator.emit(\"anim-end\");\r\n                this.animator.disable(\"stepForward\");\r\n                this.animator.disable(\"skipForward\");\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    canSkipBack() {\r\n        return this.animationHistory.length > 0 || this.runningAnimation.length > 0;\r\n    }\r\n    skipBack() {\r\n        if (this.paused) {\r\n            if (this.runningAnimation) {\r\n                while (this.runningAnimation && this.runningAnimation.length > 0) {\r\n                    this.stepBack(false);\r\n                }\r\n                this.animator.enable(\"stepForward\");\r\n                this.animator.enable(\"skipForward\");\r\n                if (this.animationHistory.length === 0) {\r\n                    this.animator.disable(\"stepBack\");\r\n                    this.animator.disable(\"skipBack\");\r\n                }\r\n                this.ensureDrawn(true);\r\n                return true;\r\n            } else if (this.animationHistory.length > 0) {\r\n                this.popHistoryToRunningAnimation();\r\n                this.skipBack();\r\n            } else {\r\n                this.animator.disable(\"stepBack\");\r\n                this.animator.disable(\"skipBack\");\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    canSkipForward() {\r\n        return this.animationQueue.length > 0;\r\n    }\r\n    skipForward() {\r\n        if (this.paused) {\r\n            if (this.animationQueue.length > 0) {\r\n                if (this.isAnimStart(this.animationQueue[0])) {\r\n                    this.stepForward(false);\r\n                }\r\n                while (this.animationQueue.length > 0 && !this.isAnimStart(this.animationQueue[0])) {\r\n                    this.stepForward(false);\r\n                }\r\n                this.ensureDrawn(true);\r\n                this.animator.enable(\"stepBack\");\r\n                this.animator.enable(\"skipBack\");\r\n                if (this.animationQueue.length === 0) {\r\n                    this.animator.emit(\"anim-end\");\r\n                    this.animator.disable(\"stepForward\");\r\n                    this.animator.disable(\"skipForward\");\r\n                }\r\n                return true;\r\n            } else {\r\n                this.animator.emit(\"anim-end\");\r\n                this.animator.disable(\"stepForward\");\r\n                this.animator.disable(\"skipForward\");\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    popHistoryToRunningAnimation() {\r\n        let previousAnimationSequence = this.animationHistory.pop();\r\n        this.animator.emit(\"anim-start\");\r\n        this.animationQueue.unshift({method:this.stopDrawing,params:this.constructor.SUPPORTS_STOP_ID ? [++this.stopID,true] : [],noAnim:true});\r\n        this.animationQueue.unshift({method:this.animator.emit,scope:this.animator,params:[\"anim-end\",],noAnim:true});\r\n        this.runningAnimation = previousAnimationSequence;\r\n    }\r\n\r\n    noAnimStartsInQueue() {\r\n        let containsAnimStart = false;\r\n        for (let animation of this.animationQueue) {\r\n            if (this.isAnimStart(animation)) {\r\n                containsAnimStart = true;\r\n                break;\r\n            }\r\n        }\r\n        return !containsAnimStart;\r\n    }\r\n\r\n    canUndo() {\r\n        return this.noAnimStartsInQueue() && (this.animationHistory.length > 0 || (this.runningAnimation && this.runningAnimation.length > 0))\r\n    }\r\n    undo() {\r\n        if (this.canUndo()) {\r\n            if (!this.paused) {\r\n                this.ensureDrawn(true);\r\n                if (this.animationQueue.length === 0 || !this.isUndoTrigger(this.animationQueue[0])) {\r\n                    this.animationQueue.unshift({method:this.undoAction,params:[false],noAnim:true});\r\n                }\r\n                this.beginDrawLoop();\r\n                return true;\r\n            } else {\r\n                this.undoAction(true);\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    undoAction(wasPaused) {\r\n        if (!wasPaused) {\r\n            this.setPaused();\r\n        }\r\n        this.skipBack();\r\n        this.animationQueue.splice(0,this.animationQueue.length);\r\n        if (!wasPaused) {\r\n            this.play();\r\n        } else {\r\n            this.animator.emit(\"anim-end\");\r\n            this.animator.disable(\"stepForward\");\r\n            this.animator.disable(\"skipForward\");\r\n        }\r\n    }\r\n\r\n    ensureDrawn() {\r\n        throw new TypeError(\"Need to implement ensure drawn in instance class\");\r\n    }\r\n\r\n\r\n    updateText(text, color = Colors.BLACK) {\r\n        this.animationQueue.push({method:this.showText,params:[text,color],});\r\n    }\r\n\r\n    showText(text, color = Colors.BLACK) {\r\n        this.displayText = text;\r\n        this.displayTextColor = color;\r\n    }\r\n    undo_showText(text, color) {\r\n        return this.showText(text, color);\r\n    }\r\n\r\n    addAnimation(animation) {\r\n        this.animationQueue.push({method:this.animator.emit,scope:this.animator,params:[\"anim-start\",],noAnim:true});\r\n        this.animationQueue.push(...animation);\r\n        this.animationQueue.push({method:this.animator.emit,scope:this.animator,params:[\"anim-end\",],noAnim:true});\r\n    }\r\n\r\n    doneAnimating(time = 250, caller = \"\") {\r\n        if (time === 0) {\r\n            this.animating = false;\r\n            if (this.constructor.LOG_DONE_ANIMATING) {\r\n                console.log(\"done\",caller);\r\n            }\r\n            return;\r\n        }\r\n        setTimeout(() => {\r\n            this.animating = false;\r\n            if (this.constructor.LOG_DONE_ANIMATING) {\r\n                console.log(\"done\",caller);\r\n            }\r\n        }, time);\r\n    }\r\n\r\n    update(animationSpeed, p5, callForward) {\r\n        if (this.constructor.SET_BOUNDS) {\r\n            this.width = p5.width - 2 * this.x;\r\n            this.height = p5.height - 2 * this.y;\r\n        }\r\n        if (callForward) {\r\n            callForward();\r\n        }\r\n        if (!this.constructor.SUPPORTS_ANIMATION_CONTROL || !this.paused) {\r\n            let testsWindowSize = this.popAnimation(animationSpeed);\r\n            if (this.constructor.SUPPORTS_INFREQUENT_RESIZE && testsWindowSize) {\r\n                this.animator.testWindowSize();\r\n            }\r\n        }\r\n        // if (!this.constructor.SUPPORTS_INFREQUENT_RESIZE) {\r\n        //     this.animator.testWindowSize();\r\n        // }\r\n    }\r\n\r\n    isAnimStart(animation) {\r\n        return animation.method === this.animator.emit && animation.params[0] === \"anim-start\";\r\n    }\r\n\r\n    isAnimEnd(animation) {\r\n        return animation.method === this.animator.emit && animation.params[0] === \"anim-end\";\r\n    }\r\n\r\n    isEndDrawLoopTrigger(animation) {\r\n        return animation.method === this.stopDrawing;\r\n    }\r\n\r\n    isPauseTrigger(animation) {\r\n        return animation.method === this.setPaused;\r\n    }\r\n\r\n    isUndoTrigger(animation) {\r\n        return animation.method === this.undoAction;\r\n    }\r\n\r\n    noAnimation(animation) {\r\n        return animation.noAnim\r\n                || (animation.method === this.animator.emit && (animation.params[0] === \"anim-start\" || animation.params[0] === \"anim-end\"))\r\n                || false;\r\n    }\r\n\r\n    popAnimation(animationSpeed) {\r\n        if (!this.animating) {\r\n            if (this.animationQueue.length > 0) {\r\n                let animation = this.animationQueue.shift();\r\n                this.animating = true;\r\n                if (this.constructor.LOG_ANIMATIONS) {\r\n                    console.log(\"animate\",animation.params,animation.method);\r\n                }\r\n                let retVal = animation.method.apply(animation.scope || this, animation.params);\r\n                animation.returnValue = retVal;\r\n                if (this.isAnimStart(animation)) {\r\n                    this.runningAnimation = [];\r\n                } else if (this.isAnimEnd(animation)) {\r\n                    this.animationHistory.push(this.runningAnimation);\r\n                    if (this.constructor.TEST_ANIMATION_STEPS) {\r\n                        this.testAnimation();\r\n                    }\r\n                    this.runningAnimation = null;\r\n                } else if (this.isEndDrawLoopTrigger(animation)) {\r\n                    if (this.animationQueue.length > 0) {\r\n                        this.beginDrawLoop();\r\n                    }\r\n                } else if (this.isPauseTrigger(animation) || this.isUndoTrigger(animation)) {\r\n\r\n                } else {\r\n                    if (this.runningAnimation) {\r\n                        this.runningAnimation.push(animation);\r\n                    } else {\r\n                        if (!this.constructor.SUPPORTS_ANIMATION_CONTROL) {\r\n                            this.animationHistory.push(animation);\r\n                        }\r\n                    }\r\n                }\r\n                if (animation.explanation) {\r\n                    if (animation.explanationUsesReturn) {\r\n                        animation.explanation = animation.explanation.replace(\"|RETURN|\", animation.returnsUndoData ? retVal[0] : retVal);\r\n                        if (animation.returnsUndoData) {\r\n                            // console.log(retVal);\r\n                        }\r\n                    }\r\n                    this.showText(animation.explanation);\r\n                }\r\n                if (animation.returnsUndoData) {\r\n                    animation.undoData = animation.explanationUsesReturn ? retVal[1] : retVal;\r\n                }\r\n                if (animation.returnsRedoData) {\r\n                    animation.redoData = animation.explanationUsesReturn ? retVal[1] : retVal;\r\n                }\r\n                if (this.constructor.SUPPORTS_CUSTOM_END) {\r\n                    if (this.noAnimation(animation)) {\r\n                        this.animating = false;\r\n                    } else if (!animation.customEnd) {\r\n                        if (animationSpeed >= Math.floor(Visualizer.maxAnimationSpeed())) {\r\n                            this.doneAnimating(0, animation.method.name);\r\n                        } else {\r\n                            this.doneAnimating(this.constructor.MAX_ANIM_TIME / animationSpeed / (animation.quick ? 2 : 1), animation.method.name);\r\n                        }\r\n                    }\r\n                }\r\n                return animation.testsWindowSize;\r\n            }\r\n        }\r\n    }\r\n\r\n    beginDrawLoop() {\r\n        this.animator.loop();\r\n        this.drawing = true;\r\n    }\r\n\r\n    endDrawLoop() {\r\n        if (this.drawing) {\r\n            this.animationQueue.push({method:this.stopDrawing,params:this.constructor.SUPPORTS_STOP_ID ? [++this.stopID,true] : [],noAnim:true});\r\n        }\r\n    }\r\n\r\n    stopDrawing(stopID,force) {\r\n        if (!this.constructor.SUPPORTS_STOP_ID || force || stopID === this.stopID) {\r\n            this.animator.noLoop();\r\n            this.drawing = false;\r\n        }\r\n    }\r\n\r\n    draw(p5) {\r\n        if (this.constructor.LOG_DRAW) {\r\n            console.log(\"draw\");\r\n        }\r\n        p5.push();\r\n        if (this.constructor.SUPPORTS_TEXT) {\r\n            p5.fill(...this.displayTextColor);\r\n            p5.textSize(15);\r\n            p5.textAlign(p5.LEFT, p5.TOP);\r\n            p5.text(this.displayText, 2.5,2.5, p5.width-2.5,(this.getDisplayTextExtraLines(p5) + 1)*20);\r\n        }\r\n        p5.pop();\r\n        if (this.constructor.SUPPORTS_TEXT) {\r\n            p5.translate(0,this.getDisplayTextExtraLines(p5)*20);\r\n        }\r\n    }\r\n\r\n    mousePressed(p5) {\r\n        return true;\r\n    }\r\n\r\n    mouseReleased(p5) {\r\n        return true;\r\n    }\r\n\r\n    getDisplayTextExtraLines(p5) {\r\n        p5.push();\r\n        p5.textSize(15);\r\n        let width = p5.textWidth(this.displayText);\r\n        let lines = Math.ceil(width / (p5.width - 10));\r\n        // console.log(width,lines);\r\n        p5.pop();\r\n        return lines - 1;\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars, maxY, callback, maxWidth) {\r\n        maxY += this.getDisplayTextExtraLines(p5)*20;\r\n        if (!document.querySelector(\".canvas-container\").classList.contains(\"mobile\")) {\r\n            height -= numScrollbars * 16;\r\n        }\r\n        let width = p5.windowWidth;\r\n        if (maxY > (height - (2*this.y))) {\r\n            height = (maxY + (3*this.y));\r\n            if (!document.querySelector(\".canvas-container\").classList.contains(\"mobile\")) {\r\n                width -= 16;\r\n            }\r\n            document.querySelector(\".canvas-container\").classList.add(\"overflow-y\");\r\n        } else {\r\n            document.querySelector(\".canvas-container\").classList.remove(\"overflow-y\");\r\n        }\r\n        if (maxWidth) {\r\n            if (maxWidth > (width - (2*this.x))) {\r\n                width = (maxWidth + (4*this.x));\r\n                if (!document.querySelector(\".canvas-container\").classList.contains(\"mobile\")) {\r\n                    height -= 16;\r\n                    if (maxY > (height - (3*this.y))) {\r\n                        height = (maxY + (3*this.y));\r\n                        document.querySelector(\".canvas-container\").classList.add(\"overflow-y\");\r\n                    } else {\r\n                        document.querySelector(\".canvas-container\").classList.remove(\"overflow-y\");\r\n                    }\r\n                }\r\n                document.querySelector(\".canvas-container\").classList.add(\"overflow-x\");\r\n            } else {\r\n                document.querySelector(\".canvas-container\").classList.remove(\"overflow-x\");\r\n            }\r\n        }\r\n\r\n        height = Math.max(height, p5.height);\r\n        p5.resizeCanvas(width, height);\r\n\r\n        if (this.constructor.SET_BOUNDS) {\r\n            this.width = p5.width - 2 * this.x;\r\n            this.height = p5.height - 2 * this.y;\r\n        }\r\n\r\n\r\n        if (callback) {\r\n            callback();\r\n        }\r\n        try {\r\n            this.ensureDrawn(this.animationQueue.length === 0);\r\n            if (this.animationQueue.length > 0 && !this.paused) {\r\n                this.stopID++;\r\n            }\r\n        } catch (e) {\r\n\r\n        } finally {\r\n\r\n        }\r\n    }\r\n}\r\n","import { Visualization, AnimatedObject } from 'animation';\r\n\r\nexport default class ArrayList extends Visualization {\r\n    static USE_CANVAS = true;\r\n\r\n    static ELEMENT_SIZE = 50;\r\n    static INITIAL_CAPACITY = 9;\r\n\r\n    reset() {\r\n        super.reset(() => {\r\n            this.backingArray = {};\r\n            this.backingArray.length = ArrayList.INITIAL_CAPACITY;\r\n            for (let i = 0; i < this.backingArray.length; i++) {\r\n                this.backingArray[i] = new ArrayElement(\"\");\r\n            }\r\n            this.size = 0;\r\n        });\r\n    }\r\n\r\n\r\n    addAtIndex(index, data) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        if (index < 0 || index > this.size) {\r\n            //console.log(\"index out of bounds\");\r\n            return false;\r\n        }\r\n        if (data === null) {\r\n            //console.log(\"Cannot add null to ArrayList.\");\r\n            return false;\r\n        }\r\n        this.animating = true;\r\n        let animation = [];\r\n        if (this.size === this.backingArray.length) {\r\n            animation.push(...this.doubleSize());\r\n        }\r\n        if (index < this.size) {\r\n            animation.push(...this.shiftForIndex(index));\r\n        }\r\n        animation.push({method:this.setIndex,params:[index,data,],});\r\n        animation.push({method:this.sizeIncr,params:[],});\r\n        this.addAnimation(animation);\r\n        this.animationHistory.push(animation);\r\n        return true;\r\n    }\r\n\r\n    addToFront(data) {\r\n        return this.addAtIndex(0,data);\r\n    }\r\n\r\n    addToBack(data) {\r\n        return this.addAtIndex(this.size,data);\r\n    }\r\n\r\n\r\n    removeFromIndex(index) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        if (index < 0 || index >= this.size) {\r\n            //console.log(`Index invalid: ${index} for ArrayList of length ${this.size}. Should be [0,${this.size-1}].`);\r\n            return false;\r\n        }\r\n        this.animating = true;\r\n        let animation = [];\r\n        let element = this.backingArray[index];\r\n        let data = element.data;\r\n        element.data = \"\";\r\n        if (index < this.size - 1) {\r\n            animation.push(...this.shiftIntoIndex(index));\r\n        }\r\n        animation.push({method:this.sizeDecr,params:[],});\r\n        this.addAnimation(animation);\r\n        this.animationHistory.push(animation)\r\n        return data;\r\n    }\r\n\r\n    removeFromFront() {\r\n        return this.removeFromIndex(0);\r\n    }\r\n\r\n    removeFromBack() {\r\n        return this.removeFromIndex(this.size-1);\r\n    }\r\n\r\n\r\n    setIndex(index,data) {\r\n        this.backingArray[index].data = data;\r\n    }\r\n\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n\r\n    doubleSize() {\r\n        let animation = []\r\n        let prevCapacity = this.backingArray.length;\r\n        for (let i = prevCapacity; i < this.backingArray.length * 2; i++) {\r\n            animation.push({method:this.resetElement,params:[i,],});\r\n        }\r\n        animation.push({method:this.incrLength,params:[],});\r\n        return animation;\r\n    }\r\n\r\n    incrLength() {\r\n        this.backingArray.length = 2 * this.backingArray.length;\r\n    }\r\n\r\n    shiftForIndex(index) {\r\n        let animation = []\r\n        for (let i = this.size - 1; i >= index; i--) {\r\n            animation.push(...this.shiftElement(i,1));\r\n        }\r\n        animation.push({method:this.resetElement,params:[index,],});\r\n        return animation;\r\n    }\r\n\r\n    shiftIntoIndex(index) {\r\n        let animation = [];\r\n        for (let i = index + 1; i < this.size; i++) {\r\n            animation.push(...this.shiftElement(i,-1));\r\n        }\r\n        animation.push({method:this.resetElement,params:[this.size-1,],});\r\n        return animation;\r\n    }\r\n\r\n    shiftElement(index, direction) {\r\n        let animation = [];\r\n        animation.push({method:this.shiftElementMovement,params:[index,direction,],});\r\n        animation.push({method:this.shiftElementIndex,params:[index,direction,],});\r\n        return animation;\r\n    }\r\n\r\n    shiftElementMovement(index, direction) {\r\n        this.backingArray[index].shift(direction);\r\n        // console.log(\"move\",index,JSON.stringify(this.backingArray));\r\n    }\r\n\r\n    shiftElementIndex(index, direction) {\r\n        // console.log(\"index\",index,JSON.stringify(this.backingArray));\r\n        // console.log(index+direction, this.backingArray[index].data);\r\n        this.backingArray[index+direction].data = this.backingArray[index].data;\r\n        this.backingArray[index].data = \"\";\r\n    }\r\n\r\n\r\n    resetElement(index) {\r\n        if (this.backingArray[index]) {\r\n            this.backingArray[index].data = \"\";\r\n        } else {\r\n            this.backingArray[index] = new ArrayElement(\"\", ArrayList.ELEMENT_SIZE);\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            for (let i = 0; i < this.backingArray.length; i++) {\r\n                if (this.backingArray[i]) {\r\n                    this.backingArray[i].update(animationSpeed);\r\n                }\r\n            }\r\n            let foundAnimElement = false;\r\n            for (let i = 0; i < this.size; i++) {\r\n                if (!this.backingArray[i].inPosition()) {\r\n                    foundAnimElement = true;\r\n                    break;\r\n                }\r\n            }\r\n            this.animating = foundAnimElement;\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        let maxPerRow = Math.floor((p5.width - 2 * this.x) / ArrayList.ELEMENT_SIZE);\r\n        let rows = Math.ceil(this.backingArray.length / maxPerRow);\r\n\r\n        p5.push();\r\n        p5.translate(this.x,this.y);\r\n\r\n        for (let row = 0; row < rows; row++) {\r\n            let numElements = row !== rows-1 ? maxPerRow\r\n                    : (this.backingArray.length % maxPerRow === 0 ? maxPerRow : (this.backingArray.length % maxPerRow));\r\n            p5.noStroke();\r\n            p5.fill(200);\r\n            p5.rect(ArrayList.ELEMENT_SIZE/10,ArrayList.ELEMENT_SIZE/10 + (2 * ArrayList.ELEMENT_SIZE * row),ArrayList.ELEMENT_SIZE*numElements,ArrayList.ELEMENT_SIZE,ArrayList.ELEMENT_SIZE/20);\r\n\r\n            p5.stroke(0);\r\n            p5.fill(255);\r\n            p5.rect(0,(2 * ArrayList.ELEMENT_SIZE * row), ArrayList.ELEMENT_SIZE*numElements,ArrayList.ELEMENT_SIZE);\r\n        }\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(ArrayList.ELEMENT_SIZE/3 - 2);\r\n\r\n        let i = 0;\r\n        for (let row = 0; row < rows; row++) {\r\n            let numElements = row !== rows-1 ? maxPerRow\r\n                    : (this.backingArray.length % maxPerRow === 0 ? maxPerRow : (this.backingArray.length % maxPerRow));\r\n            let x = 0;\r\n            let y = 2 * row * ArrayList.ELEMENT_SIZE;\r\n            for (let block = 0; block < numElements; block++) {\r\n                p5.stroke(0);\r\n                p5.line(x,y, x, y+ArrayList.ELEMENT_SIZE);\r\n\r\n                p5.noStroke();\r\n                p5.fill(0,0,255);\r\n                p5.text(i.toString(), x,y+ArrayList.ELEMENT_SIZE, ArrayList.ELEMENT_SIZE,ArrayList.ELEMENT_SIZE);\r\n\r\n                let element = this.backingArray[i++];\r\n                let nextX = block < (numElements - 1) ? x + ArrayList.ELEMENT_SIZE : 0;\r\n                let nextY = block < (numElements - 1) ? y : (y + (ArrayList.ELEMENT_SIZE*2));\r\n                if (element.data) {\r\n                    element.draw(p5, x,y,nextX,nextY);\r\n                }\r\n                x = nextX;\r\n                y = nextY;\r\n                if (y >= document.querySelector(\".canvas-container\").getBoundingClientRect().height - ArrayList.ELEMENT_SIZE) {\r\n                    // this.windowResized(p5, document.querySelector(\".canvas-container\").getBoundingClientRect().height);\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, (Math.ceil(this.backingArray.length / (Math.floor((p5.width - 2 * this.x) / ArrayList.ELEMENT_SIZE))))*2*ArrayList.ELEMENT_SIZE);\r\n    }\r\n}\r\n\r\n\r\nclass ArrayElement extends AnimatedObject {\r\n    constructor(data) {\r\n        super();\r\n\r\n        this.data = data;\r\n    }\r\n\r\n    shift(direction) {\r\n        super.travel(direction);\r\n    }\r\n\r\n    draw(p5, x,y, toX,toY) {\r\n        p5.push();\r\n        p5.fill(0);\r\n        p5.stroke(50);\r\n        if (!this.inPosition()) {\r\n            let posX = (toX-x)*this.xProgress + x;\r\n            let posY = (toY-y)*this.yProgress + y;\r\n            p5.text(this.data.toString(), posX,posY, ArrayList.ELEMENT_SIZE,ArrayList.ELEMENT_SIZE);\r\n        } else {\r\n            p5.text(this.data.toString(), x,y, ArrayList.ELEMENT_SIZE,ArrayList.ELEMENT_SIZE)\r\n        }\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization, AttractedDraggableObject } from 'animation';\r\nimport { Utils } from 'utils';\r\n\r\nexport default class SinglyLinkedList extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n\r\n    static ELEMENT_HEIGHT = 35;\r\n    static ELEMENT_WIDTH = 50;\r\n    static POINTER_WIDTH = 15;\r\n    static ITEM_WIDTH = SinglyLinkedList.ELEMENT_WIDTH + SinglyLinkedList.POINTER_WIDTH;\r\n    static SPACING = 50;\r\n    static ELEMENT_SIZE = SinglyLinkedList.ITEM_WIDTH + SinglyLinkedList.SPACING;\r\n\r\n    static MAX_DIST_REMOVE = 300;\r\n\r\n    reset() {\r\n        super.reset(() => {\r\n            this.head = null;\r\n            this.size = 0;\r\n            this.nodes = [];\r\n            this.tempNode = null;\r\n            this.pinnedNode = null;\r\n        });\r\n    }\r\n\r\n\r\n    addAtIndex(index, data) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        if (index < 0 || index > this.size) {\r\n            //console.log(\"index out of bounds\");\r\n            return false;\r\n        }\r\n        if (data === null) {\r\n            //console.log(\"Cannot add null to SinglyLinkedList.\");\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let node = null;\r\n        let nextNode = this.head;\r\n        for (let i = 0; i < index; i++) {\r\n            animation.push({method:this.moveHighlight,params:[node,nextNode,],});\r\n            node = nextNode;\r\n            nextNode = nextNode.next;\r\n        }\r\n        animation.push({method:this.makeNode,params:[index,data,],});\r\n        animation.push({method:this.moveHighlight,params:[node,null,],});\r\n        animation.push({method:this.setTempNodeBefore,params:[nextNode,],});\r\n        animation.push({method:this.setTempNodePrev,params:[node,],});\r\n        if (index < this.size) {\r\n            animation.push({method:this.shiftForNode,params:[nextNode,],});\r\n        }\r\n        animation.push({method:this.insertTempNode,params:[index,],});\r\n        animation.push({method:this.sizeIncr,params:[],});\r\n        this.addAnimation(animation);\r\n        this.animationHistory.push(animation);\r\n        return true;\r\n    }\r\n\r\n    addToFront(data) {\r\n        return this.addAtIndex(0,data);\r\n    }\r\n\r\n    addToBack(data) {\r\n        return this.addAtIndex(this.size,data);\r\n    }\r\n\r\n\r\n    removeFromIndex(index) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        if (index < 0 || index >= this.size) {\r\n            //console.log(`Index invalid: ${index} for SinglyLinkedList of length ${this.size}. Should be [0,${this.size-1}].`);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let prev;\r\n        let toDelete;\r\n        let next;\r\n        if (index === 0) {\r\n            prev = null;\r\n            toDelete = this.head;\r\n            next = toDelete.next;\r\n        } else {\r\n            let node = this.head;\r\n            animation.push({method:this.moveHighlight,params:[null,node,],});\r\n            for (let i = 0; i < index - 1; i++) {\r\n                animation.push({method:this.moveHighlight,params:[node,node.next,],});\r\n                node = node.next;\r\n            }\r\n            prev = node;\r\n            toDelete = prev.next;\r\n            next = toDelete.next;\r\n        }\r\n        let data = toDelete.data;\r\n        animation.push({method:this.markNodeForDeletion,params:[prev,toDelete,],});\r\n        animation.push({method:this.unmakeNode,params:[toDelete,],customEnd:true,});\r\n        if (index < this.size - 1) {\r\n            animation.push({method:this.shiftIntoNode,params:[next,],});\r\n        }\r\n        animation.push({method:this.skipTempNode,params:[prev,],});\r\n        animation.push({method:this.sizeDecr,params:[],});\r\n        this.addAnimation(animation);\r\n        this.animationHistory.push(animation)\r\n        return data;\r\n    }\r\n\r\n    removeFromFront() {\r\n        return this.removeFromIndex(0);\r\n    }\r\n\r\n    removeFromBack() {\r\n        return this.removeFromIndex(this.size-1);\r\n    }\r\n\r\n\r\n    makeNode(index, data) {\r\n        this.tempNode = new SinglyLinkedListNode({data: data, index: index, x:20,y:20,},);\r\n    }\r\n\r\n    setTempNodeBefore(next) {\r\n        this.tempNode.next = next;\r\n    }\r\n\r\n    setTempNodePrev(prev) {\r\n        if (prev) {\r\n            prev.next = this.tempNode;\r\n        } else {\r\n            // this.head = this.tempNode;\r\n        }\r\n    }\r\n\r\n    insertTempNode(index) {\r\n        this.nodes.splice(index, 0, this.tempNode);\r\n        if (index === 0) {\r\n            this.head = this.tempNode;\r\n        }\r\n        this.tempNode.shift(...this.getNodePosition(index));\r\n        this.tempNode = null;\r\n    }\r\n\r\n    moveHighlight(fromNode, toNode) {\r\n        if (fromNode) {\r\n            fromNode.unHighlight();\r\n        }\r\n        if (toNode) {\r\n            toNode.highlight();\r\n        }\r\n    }\r\n\r\n    markNodeForDeletion(highlighted, nodeToDelete) {\r\n        if (highlighted) {\r\n            highlighted.unHighlight();\r\n        }\r\n        nodeToDelete.markForDeletion();\r\n    }\r\n\r\n    unmakeNode(node) {\r\n        this.tempNode = this.nodes.splice(node.index, 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        this.tempNode.addOnStop(() => {\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n\r\n    skipTempNode(prev) {\r\n        if (prev) {\r\n            prev.next = this.tempNode.next;\r\n        } else {\r\n            this.head = this.head.next;\r\n        }\r\n        this.tempNode = null;\r\n    }\r\n\r\n    shiftForNode(node) {\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            node = node.next;\r\n        }\r\n    }\r\n\r\n    shiftIntoNode(node) {\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            node = node.next;\r\n        }\r\n    }\r\n\r\n    shiftNode(node, direction) {\r\n        node.shift(...this.getNodePosition(node.index + direction), direction);\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n\r\n    addAnimation(animation) {\r\n        this.animationQueue.push({method:this.animator.emit,scope:this.animator,params:[\"anim-start\",],});\r\n        this.animationQueue.push(...animation);\r\n        this.animationQueue.push({method:this.animator.emit,scope:this.animator,params:[\"anim-end\",],});\r\n    }\r\n\r\n    getNodePosition(index) {\r\n        let maxPerRow = Math.max(1, Math.floor(this.width / SinglyLinkedList.ELEMENT_SIZE));\r\n        let x = SinglyLinkedList.ELEMENT_SIZE * index;\r\n        let y = 50 + Math.floor(index / maxPerRow) * 2 * SinglyLinkedList.ELEMENT_HEIGHT;\r\n        x = (index % maxPerRow) * SinglyLinkedList.ELEMENT_SIZE;\r\n        return [x + this.x,y + this.y];\r\n    }\r\n\r\n    getNodeAtPos(x,y) {\r\n        let node = this.head;\r\n        while (node) {\r\n            if (node.containsPos(x,y)) {\r\n                return node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode && this.tempNode.containsPos(x,y)) {\r\n            return this.tempNode;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    pin(node, x,y) {\r\n        this.pinnedNode = node;\r\n        node.pin(x,y);\r\n    }\r\n\r\n    unpin() {\r\n        if (this.pinnedNode.unpin()) {\r\n            this.removeFromIndex(this.pinnedNode.index);\r\n            this.pinnedNode.markBroken();\r\n        }\r\n        this.pinnedNode = null;\r\n    }\r\n\r\n    updateNode(node, animationSpeed, p5) {\r\n        if (node.update(animationSpeed, p5)) {\r\n            node.highlightForDeletion();\r\n        } else if (node.pinnedToMouse && !node.toDelete) {\r\n            node.unHighlight();\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            let node = this.head;\r\n            while (node) {\r\n                this.updateNode(node, animationSpeed, p5);\r\n                node = node.next;\r\n            }\r\n            if (this.tempNode) {\r\n                this.updateNode(this.tempNode, animationSpeed, p5);\r\n            }\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        // let maxPerRow = Math.floor(this.width / SinglyLinkedList.ELEMENT_SIZE);\r\n        // let rows = Math.ceil(this.nodes.length / maxPerRow);\r\n\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_WIDTH/3 - 2);\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.draw(p5);\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode) {\r\n            this.tempNode.draw(p5);\r\n        }\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    mousePressed(p5) {\r\n        let pressedNode = this.getNodeAtPos(p5.mouseX, p5.mouseY);\r\n        if (pressedNode) {\r\n            this.pin(pressedNode, p5.mouseX,p5.mouseY);\r\n        }\r\n        return !pressedNode;\r\n    }\r\n\r\n    mouseReleased(p5) {\r\n        if (this.pinnedNode) {\r\n            this.unpin();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, this.getNodePosition(this.size-1)[1] + SinglyLinkedList.ELEMENT_HEIGHT);\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.shift(...this.getNodePosition(node.index));\r\n            node = node.next;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nclass SinglyLinkedListNode extends AttractedDraggableObject {\r\n    static CAN_DRAG = true;\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        this.data = data;\r\n        this.index = index;\r\n        this.next = null;\r\n\r\n        this.toDelete = false;\r\n        this.handBroken = false;\r\n        this.frozen = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    containsPos(x,y) {\r\n        return ((this.currentX <= x && x <= (this.currentX + SinglyLinkedList.ITEM_WIDTH)) && (this.currentY <= y && y <= (this.currentY + SinglyLinkedList.ELEMENT_HEIGHT)))\r\n    }\r\n\r\n    highlight() {\r\n        this.color = [255,165,0];\r\n    }\r\n\r\n    unHighlight() {\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        this.color[0] = 255;\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    markBroken() {\r\n        this.markForDeletion();\r\n        this.frozen = true;\r\n        this.handBroken = true;\r\n    }\r\n\r\n    unpin() {\r\n        super.unpin();\r\n        return this.displacement() > SinglyLinkedList.MAX_DIST_REMOVE;\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        let dist = super.update(animationSpeed, p5);\r\n        return this.pinnedToMouse && !this.handBroken && dist > SinglyLinkedList.MAX_DIST_REMOVE;\r\n    }\r\n\r\n    draw(p5) {\r\n        // console.log(this);\r\n        p5.push();\r\n        p5.fill(255);\r\n        p5.stroke(...this.color);\r\n        p5.rect(this.currentX, this.currentY, SinglyLinkedList.ITEM_WIDTH, SinglyLinkedList.ELEMENT_HEIGHT);\r\n        p5.line(this.currentX + SinglyLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + SinglyLinkedList.ELEMENT_WIDTH, this.currentY + SinglyLinkedList.ELEMENT_HEIGHT);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.text(this.data.toString(), this.currentX,this.currentY, SinglyLinkedList.ELEMENT_WIDTH,SinglyLinkedList.ELEMENT_HEIGHT);\r\n        if (this.next) {\r\n            p5.stroke(...Utils.addArray(this.color, [0,0,255]));\r\n            p5.fill(...Utils.addArray(this.color, [0,0,255]));\r\n            p5.circle(this.currentX + SinglyLinkedList.ELEMENT_WIDTH + SinglyLinkedList.POINTER_WIDTH / 2, this.currentY + SinglyLinkedList.ELEMENT_HEIGHT / 2, 5);\r\n            p5.line(this.currentX + SinglyLinkedList.ELEMENT_WIDTH + SinglyLinkedList.POINTER_WIDTH / 2, this.currentY + SinglyLinkedList.ELEMENT_HEIGHT / 2, this.next.currentX, this.next.currentY + SinglyLinkedList.ELEMENT_HEIGHT / 2)\r\n            p5.rect(this.next.currentX - 3, this.next.currentY + SinglyLinkedList.ELEMENT_HEIGHT / 2 - 3, 6,6);\r\n        } else {\r\n            p5.line(this.currentX + SinglyLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + SinglyLinkedList.ITEM_WIDTH, this.currentY + SinglyLinkedList.ELEMENT_HEIGHT);\r\n        }\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization , AttractedDraggableObject } from 'animation';\r\nimport { Utils, Colors } from 'utils';\r\n\r\nexport default class DoublyLinkedList extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n\r\n    static ELEMENT_HEIGHT = 35;\r\n    static ELEMENT_WIDTH = 50;\r\n    static POINTER_WIDTH = 15;\r\n    static ITEM_WIDTH = DoublyLinkedList.ELEMENT_WIDTH + 2 * DoublyLinkedList.POINTER_WIDTH;\r\n    static SPACING = 50;\r\n    static ELEMENT_PADDED_WIDTH = DoublyLinkedList.ITEM_WIDTH + DoublyLinkedList.SPACING;\r\n\r\n    static MAX_DIST_REMOVE = 300;\r\n\r\n    reset() {\r\n        super.reset(() => {\r\n            this.head = null;\r\n            this.tail = null;\r\n            this.size = 0;\r\n            this.nodes = [];\r\n            this.tempNode = null;\r\n            this.pinnedNode = null;\r\n        });\r\n    }\r\n\r\n\r\n    addAtIndex(index, data) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        if (index < 0 || index > this.size) {\r\n            //console.log(\"index out of bounds\");\r\n            return false;\r\n        }\r\n        if (data === null) {\r\n            //console.log(\"Cannot add null to DoublyLinkedList.\");\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let node;\r\n        let nextNode;\r\n        let highlighted;\r\n        if (index < this.size / 2) {\r\n            node = null;\r\n            nextNode = this.head;\r\n            for (let i = 0; i < index; i++) {\r\n                animation.push({method:this.moveHighlight,params:[node,nextNode,],});\r\n                node = nextNode;\r\n                nextNode = nextNode.next;\r\n            }\r\n            highlighted = node;\r\n        } else {\r\n            node = this.tail;\r\n            nextNode = null;\r\n            for (let i = this.size - 1; i > index-1; i--) {\r\n                animation.push({method:this.moveHighlight,params:[nextNode,node,],});\r\n                nextNode = node;\r\n                node = node.prev;\r\n            }\r\n            highlighted = nextNode;\r\n        }\r\n        animation.push({method:this.makeNode,params:[index,data,],});\r\n        animation.push({method:this.moveHighlight,params:[highlighted,null,],});\r\n        animation.push({method:this.setTempNodeBefore,params:[nextNode,],});\r\n        animation.push({method:this.setTempNodePrev,params:[node,],});\r\n        if (index < this.size) {\r\n            animation.push({method:this.shiftForNode,params:[nextNode,],});\r\n        }\r\n        animation.push({method:this.insertTempNode,params:[index,],});\r\n        animation.push({method:this.sizeIncr,params:[],});\r\n        this.addAnimation(animation);\r\n        this.animationHistory.push(animation);\r\n        return true;\r\n    }\r\n\r\n    addToFront(data) {\r\n        return this.addAtIndex(0,data);\r\n    }\r\n\r\n    addToBack(data) {\r\n        return this.addAtIndex(this.size,data);\r\n    }\r\n\r\n\r\n    removeFromIndex(index) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        if (index < 0 || index >= this.size) {\r\n            //console.log(`Index invalid: ${index} for DoublyLinkedList of length ${this.size}. Should be [0,${this.size-1}].`);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let prev;\r\n        let toDelete;\r\n        let next;\r\n        if (index === 0) {\r\n            prev = null;\r\n            toDelete = this.head;\r\n            next = toDelete.next;\r\n        } else if (index === this.size - 1) {\r\n            next = null;\r\n            toDelete = this.tail;\r\n            prev = toDelete.prev;\r\n        } else {\r\n            if (index < this.size / 2) {\r\n                let node = this.head;\r\n                animation.push({method:this.moveHighlight,params:[null,node,],});\r\n                for (let i = 0; i < index; i++) {\r\n                    animation.push({method:this.moveHighlight,params:[node,node.next,],});\r\n                    node = node.next;\r\n                }\r\n                prev = node.prev;\r\n                toDelete = node;\r\n                next = node.next;\r\n            } else {\r\n                let node = this.tail;\r\n                animation.push({method:this.moveHighlight,params:[null,node,],});\r\n                for (let i = this.size - 1; i > index; i--) {\r\n                    animation.push({method:this.moveHighlight,params:[node,node.prev,],});\r\n                    node = node.prev;\r\n                }\r\n                prev = node.prev;\r\n                toDelete = node;\r\n                next = node.next;\r\n            }\r\n        }\r\n        let data = toDelete.data;\r\n        animation.push({method:this.markNodeForDeletion,params:[toDelete,toDelete,],});\r\n        animation.push({method:this.unmakeNode,params:[toDelete,],customEnd:true,});\r\n        if (index < this.size - 1) {\r\n            animation.push({method:this.shiftIntoNode,params:[next,],});\r\n        }\r\n        animation.push({method:this.skipTempNodePrev,params:[prev,],});\r\n        animation.push({method:this.skipTempNodeNext,params:[next,],});\r\n        animation.push({method:this.sizeDecr,params:[],});\r\n        this.addAnimation(animation);\r\n        this.animationHistory.push(animation)\r\n        return data;\r\n    }\r\n\r\n    removeFromFront() {\r\n        return this.removeFromIndex(0);\r\n    }\r\n\r\n    removeFromBack() {\r\n        return this.removeFromIndex(this.size-1);\r\n    }\r\n\r\n\r\n\r\n    makeNode(index, data) {\r\n        this.tempNode = new DoublyLinkedListNode({data: data, index: index, x:20,y:20,},);\r\n    }\r\n\r\n    setTempNodeBefore(next) {\r\n        this.tempNode.next = next;\r\n        if (next) {\r\n            next.prev = this.tempNode;\r\n        }\r\n    }\r\n\r\n    setTempNodePrev(prev) {\r\n        if (prev) {\r\n            prev.next = this.tempNode;\r\n        }\r\n        this.tempNode.prev = prev;\r\n    }\r\n\r\n    insertTempNode(index) {\r\n        this.nodes.splice(index, 0, this.tempNode);\r\n        if (index === 0) {\r\n            this.head = this.tempNode;\r\n        }\r\n        if (index === this.size) {\r\n            this.tail = this.tempNode;\r\n        }\r\n        this.tempNode.shift(...this.getNodePosition(index));\r\n        this.tempNode = null;\r\n    }\r\n\r\n    moveHighlight(fromNode, toNode) {\r\n        if (fromNode) {\r\n            fromNode.unHighlight();\r\n        }\r\n        if (toNode) {\r\n            toNode.highlight();\r\n        }\r\n    }\r\n\r\n    markNodeForDeletion(highlighted, nodeToDelete) {\r\n        if (highlighted) {\r\n            highlighted.unHighlight();\r\n        }\r\n        nodeToDelete.markForDeletion();\r\n    }\r\n\r\n    unmakeNode(node) {\r\n        this.tempNode = this.nodes.splice(node.index, 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        this.tempNode.addOnStop(() => {\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n\r\n    skipTempNodePrev(prev) {\r\n        if (prev) {\r\n            prev.next = this.tempNode.next;\r\n        } else {\r\n            this.head = this.head.next;\r\n        }\r\n    }\r\n\r\n    skipTempNodeNext(next) {\r\n        if (next) {\r\n            next.prev = this.tempNode.prev;\r\n        } else {\r\n            this.tail = this.tail.prev;\r\n        }\r\n        this.tempNode = null;\r\n    }\r\n\r\n    shiftForNode(node) {\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            node = node.next;\r\n        }\r\n    }\r\n\r\n    shiftIntoNode(node) {\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            node = node.next;\r\n        }\r\n    }\r\n\r\n    shiftNode(node, direction) {\r\n        node.shift(...this.getNodePosition(node.index + direction), direction);\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n\r\n    getNodePosition(index) {\r\n        let maxPerRow = Math.max(1, Math.floor(this.width / DoublyLinkedList.ELEMENT_PADDED_WIDTH));\r\n        let x = DoublyLinkedList.ELEMENT_PADDED_WIDTH * index;\r\n        let y = 50 + Math.floor(index / maxPerRow) * 2 * DoublyLinkedList.ELEMENT_HEIGHT;\r\n        x = (index % maxPerRow) * DoublyLinkedList.ELEMENT_PADDED_WIDTH;\r\n        return [x + this.x,y + this.y];\r\n    }\r\n\r\n    getNodeAtPos(x,y) {\r\n        let node = this.head;\r\n        while (node) {\r\n            if (node.containsPos(x,y)) {\r\n                return node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode && this.tempNode.containsPos(x,y)) {\r\n            return this.tempNode;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    pin(node, x,y) {\r\n        this.pinnedNode = node;\r\n        node.pin(x,y);\r\n    }\r\n\r\n    unpin() {\r\n        if (this.pinnedNode.unpin()) {\r\n            this.removeFromIndex(this.pinnedNode.index);\r\n            this.pinnedNode.markBroken();\r\n        }\r\n        this.pinnedNode = null;\r\n    }\r\n\r\n    updateNode(node, animationSpeed, p5) {\r\n        if (node.update(animationSpeed, p5)) {\r\n            node.highlightForDeletion();\r\n        } else if (node.pinnedToMouse && !node.toDelete) {\r\n            node.unHighlight();\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            let node = this.head;\r\n            while (node) {\r\n                this.updateNode(node, animationSpeed, p5);\r\n                node = node.next;\r\n            }\r\n            if (this.tempNode) {\r\n                this.updateNode(this.tempNode, animationSpeed, p5);\r\n            }\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_WIDTH/3 - 2);\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.draw(p5);\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode) {\r\n            this.tempNode.draw(p5);\r\n        }\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    mousePressed(p5) {\r\n        let pressedNode = this.getNodeAtPos(p5.mouseX, p5.mouseY);\r\n        if (pressedNode) {\r\n            this.pin(pressedNode, p5.mouseX,p5.mouseY);\r\n        }\r\n        return !pressedNode;\r\n    }\r\n\r\n    mouseReleased(p5) {\r\n        if (this.pinnedNode) {\r\n            this.unpin();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, this.getNodePosition(this.size-1)[1] + DoublyLinkedList.ELEMENT_HEIGHT);\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.shift(...this.getNodePosition(node.index));\r\n            node = node.next;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nclass DoublyLinkedListNode extends AttractedDraggableObject {\r\n    static CAN_DRAG = true;\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        this.data = data;\r\n        this.index = index;\r\n        this.next = null;\r\n        this.prev = null;\r\n\r\n        this.toDelete = false;\r\n        this.handBroken = false;\r\n        this.frozen = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    containsPos(x,y) {\r\n        return ((this.currentX <= x && x <= (this.currentX + DoublyLinkedList.ITEM_WIDTH)) && (this.currentY <= y && y <= (this.currentY + DoublyLinkedList.ELEMENT_HEIGHT)))\r\n    }\r\n\r\n    highlight() {\r\n        this.color = [255,165,0];\r\n    }\r\n\r\n    unHighlight() {\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        this.color[0] = 255;\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    markBroken() {\r\n        this.markForDeletion();\r\n        this.frozen = true;\r\n        this.handBroken = true;\r\n    }\r\n\r\n    unpin() {\r\n        super.unpin();\r\n        return this.displacement() > DoublyLinkedList.MAX_DIST_REMOVE;\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        let dist = super.update(animationSpeed, p5);\r\n        return this.pinnedToMouse && !this.handBroken && dist > DoublyLinkedList.MAX_DIST_REMOVE;\r\n    }\r\n\r\n    draw(p5) {\r\n        // console.log(this);\r\n        p5.push();\r\n        p5.fill(255);\r\n        p5.stroke(...this.color);\r\n        p5.rect(this.currentX, this.currentY, DoublyLinkedList.ITEM_WIDTH, DoublyLinkedList.ELEMENT_HEIGHT);\r\n        p5.line(this.currentX + DoublyLinkedList.POINTER_WIDTH, this.currentY, this.currentX + DoublyLinkedList.POINTER_WIDTH, this.currentY + DoublyLinkedList.ELEMENT_HEIGHT);\r\n        p5.line(this.currentX + DoublyLinkedList.POINTER_WIDTH + DoublyLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + DoublyLinkedList.POINTER_WIDTH + DoublyLinkedList.ELEMENT_WIDTH, this.currentY + DoublyLinkedList.ELEMENT_HEIGHT);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.text(this.data.toString(), this.currentX + DoublyLinkedList.POINTER_WIDTH,this.currentY, DoublyLinkedList.ELEMENT_WIDTH,DoublyLinkedList.ELEMENT_HEIGHT);\r\n        if (this.prev) {\r\n            p5.stroke(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.fill(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.circle(this.currentX + DoublyLinkedList.POINTER_WIDTH / 2, this.currentY + DoublyLinkedList.ELEMENT_HEIGHT *2/3, 5);\r\n            p5.line(this.currentX + DoublyLinkedList.POINTER_WIDTH / 2, this.currentY + DoublyLinkedList.ELEMENT_HEIGHT *2/3, this.prev.currentX + DoublyLinkedList.ITEM_WIDTH, this.prev.currentY + DoublyLinkedList.ELEMENT_HEIGHT *2/3)\r\n            p5.rect(this.prev.currentX + DoublyLinkedList.ITEM_WIDTH - 3, this.prev.currentY + DoublyLinkedList.ELEMENT_HEIGHT *2/3 - 3, 6,6);\r\n        } else {\r\n            p5.line(this.currentX, this.currentY, this.currentX + DoublyLinkedList.POINTER_WIDTH, this.currentY + DoublyLinkedList.ELEMENT_HEIGHT);\r\n        }\r\n        if (this.next) {\r\n            p5.stroke(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.fill(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.circle(this.currentX + DoublyLinkedList.ITEM_WIDTH - DoublyLinkedList.POINTER_WIDTH / 2, this.currentY + DoublyLinkedList.ELEMENT_HEIGHT / 3, 5);\r\n            p5.line(this.currentX + DoublyLinkedList.ITEM_WIDTH - DoublyLinkedList.POINTER_WIDTH / 2, this.currentY + DoublyLinkedList.ELEMENT_HEIGHT / 3, this.next.currentX, this.next.currentY + DoublyLinkedList.ELEMENT_HEIGHT / 3)\r\n            p5.rect(this.next.currentX - 3, this.next.currentY + DoublyLinkedList.ELEMENT_HEIGHT / 3 - 3, 6,6);\r\n        } else {\r\n            p5.stroke(...this.color);\r\n            p5.line(this.currentX + DoublyLinkedList.POINTER_WIDTH + DoublyLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + DoublyLinkedList.ITEM_WIDTH, this.currentY + DoublyLinkedList.ELEMENT_HEIGHT);\r\n        }\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization, AttractedDraggableObject } from 'animation';\r\nimport { Utils } from 'utils';\r\n\r\nexport default class CircularSinglyLinkedList extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n\r\n    static ELEMENT_HEIGHT = 35;\r\n    static ELEMENT_WIDTH = 50;\r\n    static POINTER_WIDTH = 15;\r\n    static ITEM_WIDTH = CircularSinglyLinkedList.ELEMENT_WIDTH + CircularSinglyLinkedList.POINTER_WIDTH;\r\n    static SPACING = 50;\r\n    static ELEMENT_SIZE = CircularSinglyLinkedList.ITEM_WIDTH + CircularSinglyLinkedList.SPACING;\r\n\r\n    static MAX_DIST_REMOVE = 300;\r\n\r\n    reset() {\r\n        super.reset(() => {\r\n            this.head = null;\r\n            this.size = 0;\r\n            this.nodes = [];\r\n            this.tempNode = null;\r\n            this.pinnedNode = null;\r\n        });\r\n    }\r\n\r\n\r\n    addAtIndex(index, data) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        if (index < 0 || index > this.size) {\r\n            //console.log(\"index out of bounds\");\r\n            return false;\r\n        }\r\n        if (data === null) {\r\n            //console.log(\"Cannot add null to CircularSinglyLinkedList.\");\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        if (this.size > 0 && (index === 0 || index === this.size)) {\r\n            animation.push({method:this.makeNode,params:[index === 0 ? 1 : index,this.head.data,],});\r\n            animation.push({method:this.setTempNodeBefore,params:[this.head.next,],});\r\n            animation.push({method:this.setTempNodePrev,params:[this.head,],});\r\n            animation.push({method:this.changeHeadData,params:[data],});\r\n            if (this.size >= 2) {\r\n                animation.push({method:this.shiftForNode,params:[this.head.next,],});\r\n            }\r\n            animation.push({method:this.insertTempNode,params:[1,],});\r\n            animation.push({method:this.sizeIncr,params:[],});\r\n            if (index === this.size) {\r\n                animation.push({method:this.customNodeShift,params:[this.head, this.head.currentX - 10, this.getNodePosition(this.size)[1] + CircularSinglyLinkedList.ELEMENT_HEIGHT * 2,],customEnd:true});\r\n                // animation.push({method:this.head.shift,scope:this.head,params:[this.head.currentX - 10, this.getNodePosition(this.size)[1] + CircularSinglyLinkedList.ELEMENT_HEIGHT * 2,],});\r\n                animation.push({method:this.resetHead,params:[],});\r\n            }\r\n        } else {\r\n            let node = null;\r\n            let nextNode = this.head;\r\n            for (let i = 0; i < index; i++) {\r\n                animation.push({method:this.moveHighlight,params:[node,nextNode,],});\r\n                node = nextNode;\r\n                nextNode = nextNode.next;\r\n            }\r\n            animation.push({method:this.makeNode,params:[index,data,],});\r\n            animation.push({method:this.moveHighlight,params:[node,null,],});\r\n            animation.push({method:this.setTempNodeBefore,params:[nextNode,],});\r\n            animation.push({method:this.setTempNodePrev,params:[node,],});\r\n            if (index < this.size) {\r\n                animation.push({method:this.shiftForNode,params:[nextNode,],});\r\n            }\r\n            animation.push({method:this.insertTempNode,params:[index,],});\r\n            animation.push({method:this.sizeIncr,params:[],});\r\n        }\r\n        this.addAnimation(animation);\r\n        this.animationHistory.push(animation);\r\n        return true;\r\n    }\r\n\r\n    addToFront(data) {\r\n        return this.addAtIndex(0,data);\r\n    }\r\n\r\n    addToBack(data) {\r\n        return this.addAtIndex(this.size,data);\r\n    }\r\n\r\n\r\n    removeFromIndex(index) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        if (index < 0 || index >= this.size) {\r\n            //console.log(`Index invalid: ${index} for CircularSinglyLinkedList of length ${this.size}. Should be [0,${this.size-1}].`);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let data;\r\n        if (index === 0) {\r\n            data = this.head.data;\r\n            animation.push({method:this.moveHighlight,params:[null,this.head,],});\r\n            animation.push({method:this.changeHeadData,params:[this.head.next.data],});\r\n            if (this.size > 1) {\r\n                index = 1;\r\n            }\r\n        }\r\n        let prev;\r\n        let toDelete;\r\n        let next;\r\n        let node = this.head;\r\n        animation.push({method:this.moveHighlight,params:[null,node,],});\r\n        for (let i = 0; i < index - 1; i++) {\r\n            animation.push({method:this.moveHighlight,params:[node,node.next,],});\r\n            node = node.next;\r\n        }\r\n        prev = node;\r\n        toDelete = prev.next;\r\n        next = toDelete.next;\r\n        if (!data) {\r\n            data = toDelete.data;\r\n        }\r\n        animation.push({method:this.markNodeForDeletion,params:[prev,toDelete,],});\r\n        animation.push({method:this.unmakeNode,params:[toDelete,],customEnd:true,});\r\n        if (index < this.size - 1) {\r\n            animation.push({method:this.shiftIntoNode,params:[next,],});\r\n        }\r\n        animation.push({method:this.skipTempNode,params:[prev,],});\r\n        animation.push({method:this.sizeDecr,params:[],});\r\n        if (index === 0) {\r\n            animation.push({method:this.reset,params:[],});\r\n        }\r\n        this.addAnimation(animation);\r\n        this.animationHistory.push(animation)\r\n        return data;\r\n    }\r\n\r\n    removeFromFront() {\r\n        return this.removeFromIndex(0);\r\n    }\r\n\r\n    removeFromBack() {\r\n        return this.removeFromIndex(this.size-1);\r\n    }\r\n\r\n\r\n    makeNode(index, data) {\r\n        this.tempNode = new CircularSinglyLinkedListNode({data: data, index: index, x:20,y:20,},);\r\n    }\r\n\r\n    setTempNodeBefore(next) {\r\n        if (next) {\r\n            this.tempNode.next = next;\r\n        } else {\r\n            if (this.head) {\r\n                this.tempNode.next = this.head;\r\n            } else {\r\n                this.tempNode.next = this.tempNode;\r\n            }\r\n        }\r\n    }\r\n\r\n    setTempNodePrev(prev) {\r\n        if (prev) {\r\n            prev.next = this.tempNode;\r\n        } else {\r\n            // this.head = this.tempNode;\r\n        }\r\n    }\r\n\r\n    changeHeadData(data) {\r\n        this.head.data = data;\r\n    }\r\n\r\n    resetHead() {\r\n        this.head = this.head.next;\r\n        let node = this.head;\r\n        let i = 0;\r\n        while (node) {\r\n            node.index = i;\r\n            node.shift(...this.getNodePosition(i++));\r\n            node = node.next;\r\n            if (node === this.head) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    insertTempNode(index) {\r\n        this.nodes.splice(index, 0, this.tempNode);\r\n        if (index === 0) {\r\n            this.head = this.tempNode;\r\n        }\r\n        this.tempNode.shift(...this.getNodePosition(index));\r\n        this.tempNode = null;\r\n    }\r\n\r\n    moveHighlight(fromNode, toNode) {\r\n        if (fromNode) {\r\n            fromNode.unHighlight();\r\n        }\r\n        if (toNode) {\r\n            toNode.highlight();\r\n        }\r\n    }\r\n\r\n    markNodeForDeletion(highlighted, nodeToDelete) {\r\n        if (highlighted) {\r\n            highlighted.unHighlight();\r\n        }\r\n        nodeToDelete.markForDeletion();\r\n    }\r\n\r\n    unmakeNode(node) {\r\n        this.tempNode = node;//this.nodes.splice(node.index, 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        this.tempNode.addOnStop(() => {\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n\r\n    skipTempNode(prev) {\r\n        if (prev) {\r\n            prev.next = this.tempNode.next;\r\n        } else {\r\n            this.head = this.head.next;\r\n        }\r\n        this.tempNode = null;\r\n    }\r\n\r\n    shiftForNode(node) {\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            node = node.next;\r\n            if (node === this.head) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    shiftIntoNode(node) {\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            node = node.next;\r\n            if (node === this.head) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    shiftNode(node, direction = 0) {\r\n        node.shift(...this.getNodePosition(node.index + direction), direction);\r\n    }\r\n\r\n    customNodeShift(node, x, y) {\r\n        node.shift(x,y);\r\n        node.addOnStop(() => {\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n\r\n    getNodePosition(index) {\r\n        let maxPerRow = Math.max(1, Math.floor(this.width / CircularSinglyLinkedList.ELEMENT_SIZE));\r\n        let x = CircularSinglyLinkedList.ELEMENT_SIZE * index;\r\n        let y = 50 + Math.floor(index / maxPerRow) * 2 * CircularSinglyLinkedList.ELEMENT_HEIGHT;\r\n        x = (index % maxPerRow) * CircularSinglyLinkedList.ELEMENT_SIZE;\r\n        return [x + this.x,y + this.y];\r\n    }\r\n\r\n    getNodeAtPos(x,y) {\r\n        let node = this.head;\r\n        while (node) {\r\n            if (node.containsPos(x,y)) {\r\n                return node;\r\n            }\r\n            node = node.next;\r\n            if (node === this.head) {\r\n                break;\r\n            }\r\n        }\r\n        if (this.tempNode && this.tempNode.containsPos(x,y)) {\r\n            return this.tempNode;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    pin(node, x,y) {\r\n        this.pinnedNode = node;\r\n        node.pin(x,y);\r\n    }\r\n\r\n    unpin() {\r\n        if (this.pinnedNode.unpin() && this.animationQueue.length === 0) {\r\n            this.pinnedNode.markBroken();\r\n            this.removeFromIndex(this.pinnedNode.index);\r\n            if (this.pinnedNode.index === 0 && this.size > 1) {\r\n                this.animationQueue.push({method:this.pinnedNode.unfreeze,scope:this.pinnedNode,params:[],});\r\n                this.animationQueue.push({method:this.shiftNode,params:[this.pinnedNode,],});\r\n            }\r\n        }\r\n        this.pinnedNode = null;\r\n    }\r\n\r\n    updateNode(node, animationSpeed, p5) {\r\n        let update = node.update(animationSpeed, p5);\r\n        if (this.animationQueue.length === 0) {\r\n            if (update) {\r\n                node.highlightForDeletion();\r\n            } else if (node.pinnedToMouse && !node.toDelete) {\r\n                node.unHighlight();\r\n            }\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            let node = this.head;\r\n            while (node) {\r\n                this.updateNode(node, animationSpeed, p5);\r\n                node = node.next;\r\n                if (node === this.head) {\r\n                    break;\r\n                }\r\n            }\r\n            if (this.tempNode) {\r\n                this.updateNode(this.tempNode, animationSpeed, p5);\r\n            }\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_WIDTH/3 - 2);\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.draw(p5, node.next === this.head);\r\n            node = node.next;\r\n            if (node === this.head) {\r\n                break;\r\n            }\r\n        }\r\n        if (this.tempNode) {\r\n            this.tempNode.draw(p5);\r\n        }\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    mousePressed(p5) {\r\n        let pressedNode = this.getNodeAtPos(p5.mouseX, p5.mouseY);\r\n        if (pressedNode) {\r\n            this.pin(pressedNode, p5.mouseX,p5.mouseY);\r\n        }\r\n        return !pressedNode;\r\n    }\r\n\r\n    touchMoved(p5) {\r\n        return this.pinnedNode === null;\r\n    }\r\n\r\n    mouseReleased(p5) {\r\n        if (this.pinnedNode) {\r\n            this.unpin();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, this.getNodePosition(this.size-1)[1] + CircularSinglyLinkedList.ELEMENT_HEIGHT);\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.shift(...this.getNodePosition(node.index));\r\n            node = node.next;\r\n            if (node === this.head) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\nclass CircularSinglyLinkedListNode extends AttractedDraggableObject {\r\n    static CAN_DRAG = true;\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        this.data = data;\r\n        this.index = index;\r\n        this.next = null;\r\n\r\n        this.toDelete = false;\r\n        this.handBroken = false;\r\n        this.frozen = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    containsPos(x,y) {\r\n        return ((this.currentX <= x && x <= (this.currentX + CircularSinglyLinkedList.ITEM_WIDTH)) && (this.currentY <= y && y <= (this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT)))\r\n    }\r\n\r\n    highlight() {\r\n        this.color = [255,165,0];\r\n    }\r\n\r\n    unHighlight() {\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        this.color[0] = 255;\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    markBroken() {\r\n        this.markForDeletion();\r\n        this.frozen = true;\r\n        this.handBroken = true;\r\n    }\r\n\r\n    unfreeze() {\r\n        this.frozen = false;\r\n        this.handBroken = false;\r\n    }\r\n\r\n    unpin() {\r\n        super.unpin();\r\n        return this.displacement() > CircularSinglyLinkedList.MAX_DIST_REMOVE;\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        let dist = super.update(animationSpeed, p5);\r\n        return this.pinnedToMouse && !this.handBroken && dist > CircularSinglyLinkedList.MAX_DIST_REMOVE;\r\n    }\r\n\r\n    draw(p5, pointsToHead = false) {\r\n        // console.log(this);\r\n        p5.push();\r\n        p5.fill(255);\r\n        p5.stroke(...this.color);\r\n        p5.rect(this.currentX, this.currentY, CircularSinglyLinkedList.ITEM_WIDTH, CircularSinglyLinkedList.ELEMENT_HEIGHT);\r\n        p5.line(this.currentX + CircularSinglyLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + CircularSinglyLinkedList.ELEMENT_WIDTH, this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.text(this.data.toString(), this.currentX,this.currentY, CircularSinglyLinkedList.ELEMENT_WIDTH,CircularSinglyLinkedList.ELEMENT_HEIGHT);\r\n        if (this.next) {\r\n            p5.stroke(...Utils.addArray(this.color, [0,0,255]));\r\n            p5.fill(...Utils.addArray(this.color, [0,0,255]));\r\n            p5.circle(this.currentX + CircularSinglyLinkedList.ELEMENT_WIDTH + CircularSinglyLinkedList.POINTER_WIDTH / 2, this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT / 2, 5);\r\n            if (pointsToHead) {\r\n                p5.push();\r\n                p5.noFill();\r\n                p5.curveTightness(0.8);\r\n                p5.beginShape();\r\n                p5.curveVertex(this.currentX + CircularSinglyLinkedList.ELEMENT_WIDTH + CircularSinglyLinkedList.POINTER_WIDTH / 2, this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT / 2);\r\n                p5.curveVertex(this.currentX + CircularSinglyLinkedList.ELEMENT_WIDTH + CircularSinglyLinkedList.POINTER_WIDTH / 2, this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT / 2);\r\n\r\n                p5.curveVertex(this.currentX + CircularSinglyLinkedList.ELEMENT_WIDTH + CircularSinglyLinkedList.POINTER_WIDTH / 2, this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT * 2);\r\n                p5.curveVertex(15, this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT * 2);\r\n\r\n                p5.curveVertex(this.next.currentX, this.next.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT / 2);\r\n                p5.curveVertex(this.next.currentX, this.next.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT / 2);\r\n                p5.endShape();\r\n                p5.pop();\r\n            } else {\r\n                p5.line(this.currentX + CircularSinglyLinkedList.ELEMENT_WIDTH + CircularSinglyLinkedList.POINTER_WIDTH / 2, this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT / 2, this.next.currentX, this.next.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT / 2);\r\n            }\r\n            p5.rect(this.next.currentX - 3, this.next.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT / 2 - 3, 6,6);\r\n        } else {\r\n            p5.line(this.currentX + CircularSinglyLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + CircularSinglyLinkedList.ITEM_WIDTH, this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT);\r\n        }\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nimport { AttractedHighlightableObject } from 'animation';\r\nimport { Colors } from 'utils';\r\n\r\nexport default class StackArray extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static SUPPORTS_NO_LOOP = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n    static SUPPORTS_TEXT = true;\r\n\r\n    static INITIAL_CAPACITY = 9;\r\n\r\n    static ELEMENT_SIZE = 50;\r\n    static TOP_LOCATION_X = 125;\r\n    static TOP_LOCATION_Y = 45;\r\n\r\n    reset() {\r\n        super.reset(() => {\r\n            this.backingArray = new Array(StackArray.INITIAL_CAPACITY);\r\n            this.size = 0;\r\n            this.copyArray = null;\r\n            this.tempElement = null;\r\n            this.topPointerValue = 0;\r\n            this.topPointerHighlighter = new AttractedHighlightableObject(StackArray.TOP_LOCATION_X, StackArray.TOP_LOCATION_Y, {\r\n                highlightOuterRadius: 15//StackArray.ELEMENT_SIZE/2,\r\n            });\r\n\r\n            this.resizing = false;\r\n        });\r\n    }\r\n\r\n    push(data) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot add null to Stack.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        if (this.size === this.backingArray.length) {\r\n            animation.push({method:this.showText,params:[`Stack full, resizing to length ${this.backingArray.length*2}`,],});\r\n            animation.push(...this.createCopyArray());\r\n        }\r\n        animation.push({method:this.makeElement,params:[this.size,data],explanation:`Create value: ${data}`,});\r\n        animation.push(...this.useTopPointer());\r\n        animation.push({method:this.highlightTemp,params:[],noAnim:true});\r\n        animation.push({method:this.insertElement,params:[this.size],customEnd:true,explanation:`Added ${data} to backingArray`});\r\n        animation.push({method:this.sizeIncr,params:[],noAnim:true});\r\n        animation.push(...this.updateTopPointer());\r\n        animation.push({method:this.showText,params:[`Successfully pushed ${data} to stack.`,Colors.GREEN,],});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        return true;\r\n    }\r\n\r\n    pop() {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (this.size === 0) {\r\n            this.updateText(\"Cannot pop empty Stack\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let data = this.backingArray[this.size - 1].value;\r\n        animation.push({method:this.sizeDecr,params:[],noAnim:true});\r\n        animation.push(...this.updateTopPointer());\r\n        animation.push(...this.useTopPointer());\r\n        animation.push({method:this.extractElement,params:[],explanation:`Pop value: ${data} from stack`,customEnd:true});\r\n        animation.push({method:this.unmakeElement,params:[],noAnim:true});\r\n        // animation.push({method:this.highlightTemp,params:[],noAnim:true});\r\n        // animation.push({method:this.insertElement,params:[this.size],customEnd:true,explanation:`Added ${data} to backingArray`});\r\n        // animation.push({method:this.makeElement,params:[this.size,data],explanation:`Create value: ${data}`});\r\n\r\n        // if (index === 0) {\r\n        //     data = this.head.data;\r\n        //     animation.push({method:this.moveHighlight,params:[null,this.head,],});\r\n        //     animation.push({method:this.changeHeadData,params:[this.head.next.data],});\r\n        //     index = 1;\r\n        // }\r\n        // let prev;\r\n        // let toDelete;\r\n        // let next;\r\n        // let node = this.head;\r\n        // animation.push({method:this.moveHighlight,params:[null,node,],});\r\n        // for (let i = 0; i < index - 1; i++) {\r\n        //     animation.push({method:this.moveHighlight,params:[node,node.next,],});\r\n        //     node = node.next;\r\n        // }\r\n        // prev = node;\r\n        // toDelete = prev.next;\r\n        // next = toDelete.next;\r\n        // if (!data) {\r\n        //     data = toDelete.data;\r\n        // }\r\n        // animation.push({method:this.markNodeForDeletion,params:[prev,toDelete,],});\r\n        // animation.push({method:this.unmakeNode,params:[toDelete,],customEnd:true,});\r\n        // if (index < this.size - 1) {\r\n        //     animation.push({method:this.shiftIntoNode,params:[next,],});\r\n        // }\r\n        // animation.push({method:this.skipTempNode,params:[prev,],});\r\n        // animation.push({method:this.sizeDecr,params:[],});\r\n        this.addAnimation(animation);\r\n        this.updateText(`Successfully popped ${data} from stack.`, Colors.GREEN);\r\n        this.endDrawLoop();\r\n        // this.animationHistory.push(animation)\r\n        return data;\r\n    }\r\n\r\n    createCopyArray() {\r\n        let animation = [];\r\n        animation.push({method:this.initCopyArray,params:[],noAnim:true});\r\n        for (let i = 0; i < this.size; i++) {\r\n            animation.push(...this.addItemToCopy(i));\r\n        }\r\n        animation.push(...this.useCopyArr());\r\n        return animation;\r\n    }\r\n\r\n    initCopyArray() {\r\n        this.copyArray = new Array(this.backingArray.length * 2);\r\n        for (let i = 0; i < this.size; i++) {\r\n            let pos = this.getElementPosition(i);\r\n            this.copyArray[i] = new StackArrayElement({data: this.backingArray[i].value, index: i, x:pos[0],y:pos[1],},);\r\n        }\r\n    }\r\n\r\n    addItemToCopy(index) {\r\n        let animation = [];\r\n        animation.push({method:this.customEndingElementShift,params:[index,...this.getElementPosition(index,true),true],customEnd:true});\r\n        return animation;\r\n    }\r\n\r\n    useCopyArr() {\r\n        let animation = [];\r\n        animation.push({method:this.assignCopyArray,params:[],noAnim:true});\r\n        for (let i = 0; i < this.size; i++) {\r\n            animation.push({method:this.shiftElementToBackingArray,params:[i,],noAnim:true});\r\n        }\r\n        return animation;\r\n    }\r\n\r\n    assignCopyArray() {\r\n        this.backingArray = this.copyArray;\r\n        this.copyArray = null;\r\n    }\r\n\r\n    shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(element.index));\r\n    }\r\n\r\n    makeElement(index, data, immediateHighlight = false) {\r\n        this.tempElement = new StackArrayElement({data: data, index: index, x:45,y:45,},);\r\n        if (immediateHighlight) {\r\n            this.tempElement.highlightForMovement();\r\n        }\r\n    }\r\n\r\n    useTopPointer() {\r\n        let animation = [];\r\n        animation.push({method:this.topPointerHighlighter.highlight,scope:this.topPointerHighlighter,params:[],noAnim:true});\r\n        animation.push({method:this.moveTopTracker,params:[],customEnd:true,explanation:`Top points to index |RETURN|`,explanationUsesReturn:true});\r\n        animation.push({method:this.topPointerHighlighter.unhighlight,scope:this.topPointerHighlighter,params:[],noAnim:true});\r\n        animation.push({method:this.topPointerHighlighter.goTo,scope:this.topPointerHighlighter,params:[StackArray.TOP_LOCATION_X,StackArray.TOP_LOCATION_Y,],noAnim:true});\r\n        return animation;\r\n    }\r\n\r\n    moveTopTracker() {\r\n        let pos = this.getElementPosition(this.topPointerValue);\r\n        this.topPointerHighlighter.shift(pos[0], pos[1] + StackArray.ELEMENT_SIZE);\r\n        this.topPointerHighlighter.addOnStop(() => {\r\n            this.doneAnimating(0);\r\n        });\r\n        return this.topPointerValue;\r\n    }\r\n\r\n    highlightTemp(color = Colors.BLUE) {\r\n        this.tempElement.highlight(color);\r\n    }\r\n\r\n    insertElement(index) {\r\n        this.backingArray[index] = this.tempElement;\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        this.tempElement = null;\r\n    }\r\n\r\n    extractElement() {\r\n        this.tempElement = this.backingArray[this.topPointerValue];\r\n        this.backingArray[this.topPointerValue] = null;\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(45,45);\r\n        this.tempElement.addOnStop(() => {\r\n            this.tempElement.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n\r\n    unmakeElement(index) {\r\n        this.tempElement = null;\r\n    }\r\n\r\n    shiftElement(element, direction = 0) {\r\n        element.shift(...this.getElementPosition(element.index + direction), direction);\r\n    }\r\n\r\n    customEndingElementShift(index, x, y, copy = false) {\r\n        let element = (copy ? this.copyArray : this.backingArray)[index];\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        element.addOnStop(() => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n\r\n    updateTopPointer() {\r\n        let animation = [];\r\n        animation.push({method:this.topPointerHighlighter.highlight,scope:this.topPointerHighlighter,params:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE]});\r\n        animation.push({method:this.changeTopPointerValue,params:[],explanation:`Update top pointer to |RETURN|`,explanationUsesReturn:true});\r\n        animation.push({method:this.topPointerHighlighter.unhighlight,scope:this.topPointerHighlighter,params:[],noAnim:true});\r\n        return animation;\r\n    }\r\n\r\n    changeTopPointerValue() {\r\n        this.topPointerValue = this.size;\r\n        return this.size;\r\n    }\r\n\r\n    getElementPosition(index, copy = false) {\r\n        let maxPerRow = Math.floor(this.width / StackArray.ELEMENT_SIZE);\r\n        let x = StackArray.ELEMENT_SIZE * index;\r\n        let y = 50 + Math.floor(index / maxPerRow) * 2 * StackArray.ELEMENT_SIZE;\r\n        x = (index % maxPerRow) * StackArray.ELEMENT_SIZE;\r\n        return [x + StackArray.ELEMENT_SIZE/2 + this.x,y + StackArray.ELEMENT_SIZE/2 + this.y + (copy ? (Math.ceil(this.backingArray.length / maxPerRow)*StackArray.ELEMENT_SIZE*2) : 0)];\r\n    }\r\n\r\n    allInPosition() {\r\n        let moving = false;\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i] && this.backingArray[i].displacement() > 0) {\r\n                moving = true;\r\n            }\r\n        }\r\n        if (this.copyArray) {\r\n            for (let i = 0; i < this.copyArray.length; i++) {\r\n                if (this.copyArray[i] && this.copyArray[i].displacement() > 0) {\r\n                    moving = true;\r\n                }\r\n            }\r\n        }\r\n        return !moving;\r\n    }\r\n\r\n    updateElement(element, animationSpeed, p5) {\r\n        if (element) {\r\n            element.update(animationSpeed, p5);\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            for (let i = 0; i < this.backingArray.length; i++) {\r\n                this.updateElement(this.backingArray[i], animationSpeed, p5);\r\n            }\r\n            if (this.copyArray) {\r\n                for (let i = 0; i < this.copyArray.length; i++) {\r\n                    this.updateElement(this.copyArray[i], animationSpeed, p5);\r\n                }\r\n            }\r\n            if (this.tempElement) {\r\n                this.updateElement(this.tempElement, animationSpeed, p5);\r\n            }\r\n            this.topPointerHighlighter.update(animationSpeed, p5);\r\n            if (this.resizing && this.allInPosition()) {\r\n                if (!this.animating && this.animationQueue.length === 0) {\r\n                    this.animator.noLoop();\r\n                }\r\n                this.resizing = false;\r\n            }\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        super.draw(p5);\r\n        // console.log(\"draw\");\r\n        p5.push();\r\n        // let maxPerRow = Math.max(1, Math.floor((p5.width - 2 * this.x) / StackArray.ELEMENT_SIZE));\r\n        // let rows = Math.ceil(this.backingArray.length / maxPerRow);\r\n\r\n        // p5.translate(this.x,this.y+50);\r\n        //\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_SIZE/3 - 2);\r\n        //\r\n        // for (let row = 0; row < rows; row++) {\r\n        //     let numElements = row !== rows-1 ? maxPerRow\r\n        //             : (this.backingArray.length % maxPerRow === 0 ? maxPerRow : (this.backingArray.length % maxPerRow));\r\n        //     p5.noStroke();\r\n        //     p5.fill(200);\r\n        //     p5.rect(StackArray.ELEMENT_SIZE/10,StackArray.ELEMENT_SIZE/10 + (2 * StackArray.ELEMENT_SIZE * row),StackArray.ELEMENT_SIZE*numElements,StackArray.ELEMENT_SIZE,StackArray.ELEMENT_SIZE/20);\r\n        //\r\n        //     p5.stroke(0);\r\n        //     p5.fill(255);\r\n        //     p5.rect(0,(2 * StackArray.ELEMENT_SIZE * row), StackArray.ELEMENT_SIZE*numElements,StackArray.ELEMENT_SIZE);\r\n        // }\r\n        //\r\n        // let i = 0;\r\n        // for (let row = 0; row < rows; row++) {\r\n        //     let numElements = row !== rows-1 ? maxPerRow\r\n        //             : (this.backingArray.length % maxPerRow === 0 ? maxPerRow : (this.backingArray.length % maxPerRow));\r\n        //     let x = 0;\r\n        //     let y = 2 * row * StackArray.ELEMENT_SIZE;\r\n        //     for (let block = 0; block < numElements; block++) {\r\n        //         p5.stroke(0);\r\n        //         p5.line(x,y, x, y+StackArray.ELEMENT_SIZE);\r\n        //\r\n        //         p5.noStroke();\r\n        //         p5.fill(0,0,255);\r\n        //         p5.text(i.toString(), x,y+StackArray.ELEMENT_SIZE, StackArray.ELEMENT_SIZE,StackArray.ELEMENT_SIZE);\r\n        //         //\r\n        //         // let element = this.backingArray[i++];\r\n        //         i++;\r\n        //         let nextX = block < (numElements - 1) ? x + StackArray.ELEMENT_SIZE : 0;\r\n        //         let nextY = block < (numElements - 1) ? y : (y + (StackArray.ELEMENT_SIZE*2));\r\n        //         // if (element.data) {\r\n        //         //     element.draw(p5, x,y,nextX,nextY);\r\n        //         // }\r\n        //         x = nextX;\r\n        //         y = nextY;\r\n        //         // if (y >= document.querySelector(\".canvas-container\").getBoundingClientRect().height - StackArray.ELEMENT_SIZE) {\r\n        //         //     // this.windowResized(p5, document.querySelector(\".canvas-container\").getBoundingClientRect().height);\r\n        //         // }\r\n        //     }\r\n        // }\r\n        //\r\n        // p5.translate(-this.x, -this.y - 50);\r\n\r\n        p5.fill(0);\r\n        p5.text(\"Top: \", StackArray.TOP_LOCATION_X - 50, StackArray.TOP_LOCATION_Y, StackArray.ELEMENT_SIZE);\r\n\r\n        p5.text(this.topPointerValue.toString(), StackArray.TOP_LOCATION_X-25, StackArray.TOP_LOCATION_Y, StackArray.ELEMENT_SIZE);\r\n\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i]) {\r\n                this.backingArray[i].draw(p5);\r\n            }\r\n            let pos = this.getElementPosition(i);\r\n            p5.noFill();\r\n            p5.stroke(0);\r\n            p5.square(pos[0] - StackArray.ELEMENT_SIZE/2,pos[1] - StackArray.ELEMENT_SIZE/2, StackArray.ELEMENT_SIZE);\r\n            p5.fill(...Colors.BLUE);\r\n            p5.stroke(...Colors.BLUE);\r\n            p5.text(i.toString(), pos[0] - StackArray.ELEMENT_SIZE/2,pos[1] + StackArray.ELEMENT_SIZE/2, StackArray.ELEMENT_SIZE, StackArray.ELEMENT_SIZE);\r\n        }\r\n\r\n        if (this.copyArray) {\r\n            for (let i = 0; i < this.copyArray.length; i++) {\r\n                if (this.copyArray[i]) {\r\n                    this.copyArray[i].draw(p5);\r\n                }\r\n                let pos = this.getElementPosition(i, true);\r\n                p5.noFill();\r\n                p5.stroke(0);\r\n                p5.square(pos[0] - StackArray.ELEMENT_SIZE/2,pos[1] - StackArray.ELEMENT_SIZE/2, StackArray.ELEMENT_SIZE);\r\n                p5.fill(...Colors.BLUE);\r\n                p5.stroke(...Colors.BLUE);\r\n                p5.text(i.toString(), pos[0] - StackArray.ELEMENT_SIZE/2,pos[1] + StackArray.ELEMENT_SIZE/2, StackArray.ELEMENT_SIZE, StackArray.ELEMENT_SIZE);\r\n            }\r\n        }\r\n        if (this.tempElement) {\r\n            this.tempElement.draw(p5);\r\n        }\r\n        this.topPointerHighlighter.draw(p5);\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, (this.copyArray ? this.getElementPosition(this.copyArray.length-1, true)[1] : this.getElementPosition(this.backingArray.length-1)[1]) + StackArray.ELEMENT_SIZE);\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i]) {\r\n                this.backingArray[i].shift(...this.getElementPosition(i));\r\n            }\r\n        }\r\n        this.resizing = true;\r\n        this.animator.loop();\r\n    }\r\n}\r\n\r\n\r\nclass StackArrayElement extends AttractedHighlightableObject {\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        // this.highlightInnerRadius = StackArray.ELEMENT_SIZE/2 - 5;\r\n        this.highlightOuterRadius = StackArray.ELEMENT_SIZE/2;\r\n\r\n        this.value = data;\r\n        this.index = index;\r\n\r\n        this.toDelete = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    highlightForMovement() {\r\n        super.highlight(Colors.BLUE);\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        super.highlight(Colors.RED);\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5);\r\n    }\r\n\r\n    drawValue(p5) {\r\n        p5.push();\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.stroke(...this.color);\r\n        p5.text(this.value.toString(), this.currentX - StackArray.ELEMENT_SIZE/2,this.currentY - StackArray.ELEMENT_SIZE/2, StackArray.ELEMENT_SIZE, StackArray.ELEMENT_SIZE);\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nimport { AttractedDraggableObject } from 'animation';\r\nimport { Utils, Colors } from 'utils';\r\n\r\nexport default class StackLinkedList extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static CAN_DRAG = true;\r\n    static SUPPORTS_NO_LOOP = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n    static SUPPORTS_TEXT = true;\r\n    static SUPPORTS_ANIMATION_CONTROL = true;\r\n    static SUPPORTS_STOP_ID = true;\r\n\r\n    static ELEMENT_HEIGHT = 35;\r\n    static ELEMENT_WIDTH = 50;\r\n    static POINTER_WIDTH = 15;\r\n    static ITEM_WIDTH = StackLinkedList.ELEMENT_WIDTH + StackLinkedList.POINTER_WIDTH;\r\n    static SPACING = 50;\r\n    static ELEMENT_SIZE = StackLinkedList.ITEM_WIDTH + StackLinkedList.SPACING;\r\n\r\n    reset() {\r\n        super.reset(() => {\r\n            this.head = null;\r\n            this.size = 0;\r\n            this.nodes = [];\r\n            this.tempNode = null;\r\n            this.pinnedNode = null;\r\n\r\n            this.resizing = false;\r\n        });\r\n    }\r\n\r\n    ensureDrawn(skipDraw = false) {\r\n        this.beginDrawLoop();\r\n        let maxNode = this.head;\r\n        let curr = this.head;\r\n        while (curr) {\r\n            if (curr.displacement() > maxNode.displacement()) {\r\n                maxNode = curr;\r\n            }\r\n            curr = curr.next;\r\n        }\r\n        if (maxNode && maxNode.displacement() > 0) {\r\n            let stopID = ++this.stopID;\r\n            maxNode.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n            if (skipDraw) {\r\n                let curr = this.head;\r\n                while (curr) {\r\n                    curr.stop();\r\n                    curr = curr.next;\r\n                }\r\n            }\r\n        } else {\r\n            this.stopDrawing(++this.stopID);\r\n        }\r\n    }\r\n\r\n\r\n    push(data) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot add null to Stack.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        animation.push({method:this.makeNode,params:[data,],explanation:`Create value: ${data}`,isAnimationStep:true,});\r\n        if (this.size > 0) {\r\n            animation.push({method:this.setTempNodeBeforeHead,explanation:`Assign next pointer`,isAnimationStep:true,});\r\n            animation.push({method:this.shiftHeadForNode,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        }\r\n        animation.push({method:this.insertTempNode,explanation:`Reset top pointer to new head`,isAnimationStep:true,});\r\n        animation.push({method:this.shiftHead,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.sizeIncr,noAnim:true,});\r\n        animation.push({method:this.showText,params:[`Successfully pushed ${data} to stack.`, Colors.GREEN],noAnim:true,});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return true;\r\n    }\r\n\r\n\r\n    pop() {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (this.size === 0) {\r\n            this.updateText(\"Cannot pop empty Stack\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let data = this.head.data;\r\n        animation.push({method:this.markHeadForDeletion,noAnim:true,});\r\n        animation.push({method:this.unmakeHead,explanation:`Extract data`,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        if (this.size > 1) {\r\n            animation.push({method:this.shiftIntoNode,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        }\r\n        animation.push({method:this.skipTempNode,explanation:`Reset top pointer to new head`,isAnimationStep:true,undoData:[this.head.data,],});\r\n        animation.push({method:this.sizeDecr,noAnim:true,});\r\n        animation.push({method:this.showText,params:[`Successfully popped ${data} from stack.`, Colors.GREEN],noAnim:true,});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return data;\r\n    }\r\n\r\n\r\n    makeNode(data) {\r\n        this.tempNode = new StackLinkedListNode({data: data, index: 0, x:20,y:20,});\r\n    }\r\n    undo_makeNode(data) {\r\n        this.tempNode = null;\r\n    }\r\n\r\n    setTempNodeBeforeHead() {\r\n        this.tempNode.next = this.head;\r\n    }\r\n    undo_setTempNodeBeforeHead() {\r\n        this.tempNode.next = null;\r\n    }\r\n\r\n    insertTempNode() {\r\n        this.nodes.splice(0, 0, this.tempNode);\r\n        this.head = this.tempNode;\r\n    }\r\n    undo_insertTempNode() {\r\n        this.head = this.tempNode.next;\r\n        this.nodes.splice(0, 1);\r\n    }\r\n\r\n    shiftHead() {\r\n        this.tempNode.shift(...this.getNodePosition(0));\r\n        this.tempNode = null;\r\n    }\r\n    undo_shiftHead() {\r\n        this.tempNode = this.nodes[0];\r\n        this.tempNode.shift(20,20);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n    redo_shiftHead() {\r\n        this.tempNode.shift(...this.getNodePosition(0));\r\n        let temp = this.tempNode;\r\n        let stopID = ++this.stopID;\r\n        temp.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n\r\n    markHeadForDeletion() {\r\n        this.head.markForDeletion();\r\n    }\r\n    undo_markHeadForDeletion() {\r\n        this.head.unhighlight();\r\n    }\r\n\r\n    unmakeHead() {\r\n        this.tempNode = this.nodes.splice(0, 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        this.tempNode.addOnStop(() => {\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n    undo_unmakeHead() {\r\n        this.tempNode.shift(...this.getNodePosition(0));\r\n        this.nodes.splice(0, 0, this.tempNode);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n    redo_unmakeHead() {\r\n        this.tempNode = this.nodes.splice(0, 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n\r\n    skipTempNode() {\r\n        this.head = this.head.next;\r\n        this.tempNode = null;\r\n    }\r\n    undo_skipTempNode(oldData) {\r\n        this.tempNode = new StackLinkedListNode({data: oldData, index: 0, x:20,y:20,});\r\n        this.tempNode.next = this.head;\r\n        this.tempNode.markForDeletion();\r\n        this.head = this.tempNode;\r\n    }\r\n\r\n    shiftHeadForNode() {\r\n        let node = this.head;\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            node = node.next;\r\n        }\r\n    }\r\n    undo_shiftHeadForNode() {\r\n        let node = this.head;\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            if (!node.next) {\r\n                let stopID = ++this.stopID;\r\n                node.addOnStop(() => {\r\n                    this.stopDrawing(stopID);\r\n                });\r\n            }\r\n            node = node.next;\r\n        }\r\n    }\r\n    redo_shiftHeadForNode() {\r\n        let node = this.head;\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            if (!node.next) {\r\n                let stopID = ++this.stopID;\r\n                node.addOnStop(() => {\r\n                    this.stopDrawing(stopID);\r\n                });\r\n            }\r\n            node = node.next;\r\n        }\r\n    }\r\n\r\n    shiftIntoNode() {\r\n        let node = this.head.next;\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            node = node.next;\r\n        }\r\n    }\r\n    undo_shiftIntoNode() {\r\n        let node = this.head.next;\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            if (!node.next) {\r\n                let stopID = ++this.stopID;\r\n                node.addOnStop(() => {\r\n                    this.stopDrawing(stopID);\r\n                });\r\n            }\r\n            node = node.next;\r\n        }\r\n    }\r\n    redo_shiftIntoNode() {\r\n        let node = this.head.next;\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            if (!node.next) {\r\n                let stopID = ++this.stopID;\r\n                node.addOnStop(() => {\r\n                    this.stopDrawing(stopID);\r\n                });\r\n            }\r\n            node = node.next;\r\n        }\r\n    }\r\n\r\n    shiftNode(node, direction) {\r\n        node.shift(...this.getNodePosition(node.index + direction), direction);\r\n    }\r\n    undo_shiftNode(node, direction) {\r\n        // console.log(\"undo_shiftNode\");\r\n        this.shiftNode(node, -direction);\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n    undo_sizeIncr() {\r\n        this.size--;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n    undo_sizeDecr() {\r\n        this.size++;\r\n    }\r\n\r\n    getNodePosition(index) {\r\n        let maxPerRow = Math.max(1, Math.floor(this.width / StackLinkedList.ELEMENT_SIZE));\r\n        let x = StackLinkedList.ELEMENT_SIZE * index;\r\n        let y = 75 + Math.floor(index / maxPerRow) * 2 * StackLinkedList.ELEMENT_HEIGHT;\r\n        x = (index % maxPerRow) * StackLinkedList.ELEMENT_SIZE;\r\n        return [x + this.x,y + this.y];\r\n    }\r\n\r\n    getNodeAtPos(x,y) {\r\n        let node = this.head;\r\n        while (node) {\r\n            if (node.containsPos(x,y)) {\r\n                return node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode && this.tempNode.containsPos(x,y)) {\r\n            return this.tempNode;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    pin(node, x,y) {\r\n        this.pinnedNode = node;\r\n        node.pin(x,y);\r\n    }\r\n\r\n    unpin() {\r\n        this.pinnedNode.unpin();\r\n        this.pinnedNode = null;\r\n    }\r\n\r\n    updateNode(node, animationSpeed, p5) {\r\n        node.update(animationSpeed, p5);\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            let node = this.head;\r\n            while (node) {\r\n                this.updateNode(node, animationSpeed, p5);\r\n                node = node.next;\r\n            }\r\n            if (this.tempNode) {\r\n                this.updateNode(this.tempNode, animationSpeed, p5);\r\n            }\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        // console.log(\"draw\");\r\n        super.draw(p5);\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_WIDTH/3 - 2);\r\n\r\n        // p5.noFill();\r\n        p5.stroke(0);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.text(\"Top:\",95,20,35,35);\r\n        p5.square(130,20,35);\r\n        if (this.head) {\r\n            p5.stroke(Colors.BLUE);\r\n            p5.fill(Colors.BLUE);\r\n            p5.circle(130 + 35 / 2, 20 + 35 / 2, 5);\r\n            p5.line(130 + 35 / 2, 20 + 35 / 2, this.head.currentX + StackLinkedList.ITEM_WIDTH / 2, this.head.currentY);\r\n            p5.rect(this.head.currentX + StackLinkedList.ITEM_WIDTH / 2 - 3, this.head.currentY - 3, 6,6);\r\n        } else {\r\n            p5.line(130,20,165,55);\r\n        }\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.draw(p5, node.next === this.head);\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode) {\r\n            this.tempNode.draw(p5);\r\n        }\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    mousePressed(p5) {\r\n        // this.drawingBeforeMouseDown = this.drawing;\r\n        let pressedNode = this.getNodeAtPos(p5.mouseX, p5.mouseY);\r\n        if (pressedNode) {\r\n            this.animator.loop();\r\n            this.pin(pressedNode, p5.mouseX,p5.mouseY);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    mouseReleased(p5) {\r\n        if (this.pinnedNode) {\r\n            this.pinnedNode.addOnStop(() => {\r\n                this.ensureDrawn();\r\n            });\r\n            this.unpin();\r\n        } else {\r\n            // this.ensureDrawn();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, this.getNodePosition(this.size-1)[1] + StackLinkedList.ELEMENT_HEIGHT,() => {\r\n            let node = this.head;\r\n            while (node) {\r\n                node.shift(...this.getNodePosition(node.index));\r\n                node = node.next;\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\nclass StackLinkedListNode extends AttractedDraggableObject {\r\n    static CAN_DRAG = true;\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        this.data = data;\r\n        this.index = index;\r\n        this.next = null;\r\n\r\n        this.toDelete = false;\r\n        this.handBroken = false;\r\n        this.frozen = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    containsPos(x,y) {\r\n        return ((this.currentX <= x && x <= (this.currentX + StackLinkedList.ITEM_WIDTH)) && (this.currentY <= y && y <= (this.currentY + StackLinkedList.ELEMENT_HEIGHT)))\r\n    }\r\n\r\n    highlight() {\r\n        this.color = [255,165,0];\r\n    }\r\n\r\n    unhighlight() {\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        this.color[0] = 255;\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    draw(p5) {\r\n        p5.push();\r\n        p5.fill(255);\r\n        p5.stroke(...this.color);\r\n        p5.rect(this.currentX, this.currentY, StackLinkedList.ITEM_WIDTH, StackLinkedList.ELEMENT_HEIGHT);\r\n        p5.line(this.currentX + StackLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + StackLinkedList.ELEMENT_WIDTH, this.currentY + StackLinkedList.ELEMENT_HEIGHT);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.text(this.data.toString(), this.currentX,this.currentY, StackLinkedList.ELEMENT_WIDTH,StackLinkedList.ELEMENT_HEIGHT);\r\n        if (this.next) {\r\n            p5.stroke(...Utils.addArray(this.color, [0,0,255]));\r\n            p5.fill(...Utils.addArray(this.color, [0,0,255]));\r\n            p5.circle(this.currentX + StackLinkedList.ELEMENT_WIDTH + StackLinkedList.POINTER_WIDTH / 2, this.currentY + StackLinkedList.ELEMENT_HEIGHT / 2, 5);\r\n            p5.line(this.currentX + StackLinkedList.ELEMENT_WIDTH + StackLinkedList.POINTER_WIDTH / 2, this.currentY + StackLinkedList.ELEMENT_HEIGHT / 2, this.next.currentX, this.next.currentY + StackLinkedList.ELEMENT_HEIGHT / 2);\r\n            p5.rect(this.next.currentX - 3, this.next.currentY + StackLinkedList.ELEMENT_HEIGHT / 2 - 3, 6,6);\r\n        } else {\r\n            p5.line(this.currentX + StackLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + StackLinkedList.ITEM_WIDTH, this.currentY + StackLinkedList.ELEMENT_HEIGHT);\r\n        }\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nimport { AttractedHighlightableObject } from 'animation';\r\nimport { Colors } from 'utils';\r\n\r\nexport default class QueueArray extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static SUPPORTS_NO_LOOP = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n    static SUPPORTS_TEXT = true;\r\n    static SUPPORTS_ANIMATION_CONTROL = true;\r\n    static SUPPORTS_STOP_ID = true;\r\n\r\n    static INITIAL_CAPACITY = 9;\r\n\r\n    static ELEMENT_SIZE = 50;\r\n    static HEAD_LOCATION_X = 125;\r\n    static HEAD_LOCATION_Y = 35;\r\n    static TAIL_LOCATION_X = 125;\r\n    static TAIL_LOCATION_Y = 55;\r\n\r\n    reset() {\r\n        super.reset(() => {\r\n            this.backingArray = new Array(QueueArray.INITIAL_CAPACITY);\r\n            this.size = 0;\r\n            this.copyArray = null;\r\n            this.tempElement = null;\r\n            this.headPointerValue = 0;\r\n            this.headPointerHighlighter = new AttractedHighlightableObject(QueueArray.HEAD_LOCATION_X, QueueArray.HEAD_LOCATION_Y, {\r\n                highlightOuterRadius: 15\r\n            });\r\n            this.tailPointerValue = 0;\r\n            this.tailPointerHighlighter = new AttractedHighlightableObject(QueueArray.TAIL_LOCATION_X, QueueArray.TAIL_LOCATION_Y, {\r\n                highlightOuterRadius: 15\r\n            });\r\n        });\r\n    }\r\n\r\n    ensureDrawn(skipDraw = false) {\r\n        this.beginDrawLoop();\r\n        let furthestObject = this.headPointerHighlighter;\r\n        if (this.tailPointerHighlighter.displacement() > furthestObject.displacement()) {\r\n            furthestObject = this.tailPointerHighlighter;\r\n        }\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i] && this.backingArray[i].displacement() > furthestObject.displacement()) {\r\n                furthestObject = this.backingArray[i];\r\n            }\r\n        }\r\n        if (this.copyArray) {\r\n            for (let i = 0; i < this.copyArray.length; i++) {\r\n                if (this.copyArray[i] && this.copyArray[i].displacement() > furthestObject.displacement()) {\r\n                    furthestObject = this.copyArray[i];\r\n                }\r\n            }\r\n        }\r\n        if (furthestObject.displacement() > 0) {\r\n            let stopID = ++this.stopID;\r\n            furthestObject.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n            if (skipDraw) {\r\n                this.headPointerHighlighter.stop();\r\n                this.tailPointerHighlighter.stop();\r\n                for (let i = 0; i < this.backingArray.length; i++) {\r\n                    if (this.backingArray[i]) {\r\n                        this.backingArray[i].stop();\r\n                    }\r\n                }\r\n                if (this.copyArray) {\r\n                    for (let i = 0; i < this.copyArray.length; i++) {\r\n                        if (this.copyArray[i]) {\r\n                            this.copyArray[i].stop();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            this.stopDrawing(++this.stopID);\r\n        }\r\n    }\r\n\r\n\r\n    enqueue(data) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot add null to Queue.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        animation.push({method:this.showText,params:[`Enqueuing at index ${this.tailPointerValue}.`]});\r\n        if (this.size === this.backingArray.length) {\r\n            animation.push(...this.createCopyArray());\r\n        }\r\n        animation.push({method:this.createElement,params:[data],explanation:`Create value: ${data}`,isAnimationStep:true,});\r\n        animation.push(...this.useTailPointer());\r\n        // animation.push({method:this.highlightTemp,params:[],noAnim:true});\r\n        animation.push({method:this.insertElement,params:[],customEnd:true,explanation:`Added ${data} to backingArray`,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push(...this.updateTailPointer());\r\n        animation.push({method:this.sizeIncr,params:[],noAnim:true});\r\n        animation.push({method:this.showText,params:[`Successfully pushed ${data} to queue.`,Colors.GREEN,],});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return true;\r\n    }\r\n\r\n    dequeue() {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (this.size === 0) {\r\n            this.updateText(\"Cannot pop empty Queue\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let data = this.backingArray[this.headPointerValue].value;\r\n        animation.push({method:this.showText,params:[`Dequeuing from index ${this.headPointerValue}.`]});\r\n        animation.push(...this.useHeadPointer());\r\n        animation.push({method:this.extractElement,params:[],explanation:`Pop value: ${data} from queue`,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.unmakeElement,params:[],noAnim:true,returnsUndoData:true});\r\n        animation.push(...this.updateHeadPointer());\r\n        animation.push({method:this.sizeDecr,params:[],noAnim:true});\r\n        animation.push({method:this.showText,params:[`Successfully popped ${data} from queue.`,Colors.GREEN],noAnim:true});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return data;\r\n    }\r\n\r\n    createCopyArray() {\r\n        let animation = [];\r\n        animation.push({method:this.initCopyArray,params:[],noAnim:true,explanation:`Queue full, resizing to length ${this.backingArray.length*2}`,isForwardStep:true,});\r\n        animation.push(...this.useHeadPointer());\r\n        for (let i = 0; i < this.size; i++) {\r\n            animation.push(...this.addItemToCopy(i));\r\n        }\r\n        animation.push(...this.useCopyArr());\r\n        animation.push(...this.updateHeadPointer(0));\r\n        animation.push(...this.updateTailPointer(this.size));\r\n        return animation;\r\n    }\r\n\r\n    initCopyArray() {\r\n        this.copyArray = new Array(this.backingArray.length * 2);\r\n        for (let i = 0; i < this.size; i++) {\r\n            let arrIndex = (i + this.headPointerValue) % this.backingArray.length;\r\n            let pos = this.getElementPosition(arrIndex);\r\n            this.copyArray[i] = new QueueArrayElement({data: this.backingArray[arrIndex].value, index: i, x:pos[0],y:pos[1],},);\r\n        }\r\n    }\r\n    undo_initCopyArray() {\r\n        this.copyArray = null;\r\n    }\r\n\r\n    addItemToCopy(index) {\r\n        let animation = [];\r\n        // animation.push({method:this.shiftElementToCopyArray,params:[index,...this.getElementPosition(index,true)],customEnd:true,isBackStep:(index === 0),isForwardStep:(index === this.size - 1),customUndoEnd:(index === 0),customRedoEnd:(index === this.size - 1),});\r\n        animation.push({method:this.shiftElementToCopyArray,params:[index,...this.getElementPosition(index,true)],customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n        return animation;\r\n    }\r\n\r\n    shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        let oldX = element.desiredX;\r\n        let oldY = element.desiredY;\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        element.addOnStop((el) => {\r\n            el.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        return [index, oldX, oldY];\r\n    }\r\n    undo_shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        if (true || index === 0) {\r\n            let stopID = ++this.stopID;\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n                this.stopDrawing(stopID);\r\n            });\r\n        } else {\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n            });\r\n        }\r\n    }\r\n    redo_shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        let oldX = element.desiredX;\r\n        let oldY = element.desiredY;\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        if (true || index === this.size - 1) {\r\n            let stopID = ++this.stopID;\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n                this.stopDrawing(stopID);\r\n            });\r\n        } else {\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n            });\r\n        }\r\n        return [index, oldX, oldY];\r\n    }\r\n\r\n    useCopyArr() {\r\n        let animation = [];\r\n        animation.push({method:this.assignCopyArray,params:[],noAnim:true,isBackStep:true,customUndoEnd:true,returnsUndoData:true});\r\n        for (let i = 0; i < this.size; i++) {\r\n            animation.push({method:this.shiftElementToBackingArray,params:[i,],noAnim:true,isForwardStep:(i === this.size - 1),customUndoEnd:true,customRedoEnd:true});\r\n        }\r\n        animation.push({method:this.noAction,noAnim:true,isBackStep:true});\r\n        return animation;\r\n    }\r\n\r\n    assignCopyArray() {\r\n        let oldBacking = this.backingArray;\r\n        this.backingArray = this.copyArray;\r\n        this.copyArray = null;\r\n        return [oldBacking];\r\n    }\r\n    undo_assignCopyArray(oldBacking) {\r\n        this.copyArray = this.backingArray;\r\n        this.backingArray = oldBacking;\r\n    }\r\n\r\n    shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(element.index));\r\n    }\r\n    undo_shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(index,true));\r\n        if (index === 0) {\r\n            let stopID = ++this.stopID;\r\n            element.addOnStop((el) => {\r\n                this.stopDrawing(stopID);\r\n            })\r\n        }\r\n    }\r\n    redo_shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(element.index));\r\n        if (index === this.size - 1) {\r\n            let stopID = ++this.stopID;\r\n            element.addOnStop((el) => {\r\n                this.stopDrawing(stopID);\r\n            })\r\n        }\r\n    }\r\n\r\n    createElement(data) {\r\n        this.tempElement = new QueueArrayElement({data: data, index: this.tailPointerValue, x:45,y:45,},);\r\n    }\r\n    undo_createElement(data) {\r\n        this.tempElement = null;\r\n    }\r\n\r\n    useTailPointer() {\r\n        let animation = [];\r\n        animation.push({method:this.tailPointerHighlighter.highlight,scope:this.tailPointerHighlighter,params:[],noAnim:true,});\r\n        animation.push({method:this.moveTailTracker,params:[],customEnd:true,explanation:`Tail points to index |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.tailPointerHighlighter.unhighlight,scope:this.tailPointerHighlighter,params:[],noAnim:true,});\r\n        animation.push({method:this.tailPointerHighlighter.goTo,scope:this.tailPointerHighlighter,params:[QueueArray.TAIL_LOCATION_X,QueueArray.TAIL_LOCATION_Y,],noAnim:true,returnsUndoData:true});\r\n        return animation;\r\n    }\r\n\r\n    moveTailTracker() {\r\n        let pos = this.getElementPosition(this.tailPointerValue);\r\n        this.tailPointerHighlighter.highlight();\r\n        this.tailPointerHighlighter.shift(pos[0], pos[1] + QueueArray.ELEMENT_SIZE);\r\n        this.tailPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        return this.tailPointerValue;\r\n    }\r\n    undo_moveTailTracker() {\r\n        this.tailPointerHighlighter.shift(QueueArray.TAIL_LOCATION_X,QueueArray.TAIL_LOCATION_Y);\r\n        this.tailPointerHighlighter.highlight();\r\n        let stopID = ++this.stopID;\r\n        this.tailPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n    redo_moveTailTracker() {\r\n        let pos = this.getElementPosition(this.tailPointerValue);\r\n        this.tailPointerHighlighter.highlight();\r\n        this.tailPointerHighlighter.shift(pos[0], pos[1] + QueueArray.ELEMENT_SIZE);\r\n        let stopID = ++this.stopID;\r\n        this.tailPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        return this.tailPointerValue;\r\n    }\r\n\r\n    highlightTemp(color = Colors.BLUE) {\r\n        this.tempElement.highlight(color);\r\n    }\r\n    undo_highlightTemp() {\r\n        this.tempElement.unhighlight();\r\n    }\r\n\r\n    insertElement() {\r\n        let index = this.tailPointerValue;\r\n        this.backingArray[index] = this.tempElement;\r\n        this.highlightTemp();\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        this.tempElement = null;\r\n    }\r\n    undo_insertElement() {\r\n        let index = this.tailPointerValue;// - 1;\r\n        // if (index < 0) {\r\n        //     index += this.backingArray.length;\r\n        // }\r\n        this.tempElement = this.backingArray[index];\r\n        this.highlightTemp();\r\n        this.tempElement.shift(45,45);\r\n        let stopID = ++this.stopID;\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.backingArray[index] = null;\r\n    }\r\n    redo_insertElement() {\r\n        let index = this.tailPointerValue;\r\n        this.backingArray[index] = this.tempElement;\r\n        this.highlightTemp();\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        let stopID = ++this.stopID;\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempElement = null;\r\n    }\r\n\r\n    useHeadPointer() {\r\n        let animation = [];\r\n        animation.push({method:this.headPointerHighlighter.highlight,scope:this.headPointerHighlighter,params:[],noAnim:true,});\r\n        animation.push({method:this.moveHeadTracker,params:[],customEnd:true,explanation:`Head points to index |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.headPointerHighlighter.unhighlight,scope:this.headPointerHighlighter,params:[],noAnim:true,});\r\n        animation.push({method:this.headPointerHighlighter.goTo,scope:this.headPointerHighlighter,params:[QueueArray.HEAD_LOCATION_X,QueueArray.HEAD_LOCATION_Y,],noAnim:true,returnsUndoData:true,});\r\n        return animation;\r\n    }\r\n\r\n    moveHeadTracker() {\r\n        let pos = this.getElementPosition(this.headPointerValue);\r\n        this.headPointerHighlighter.highlight();\r\n        this.headPointerHighlighter.shift(pos[0], pos[1] + QueueArray.ELEMENT_SIZE);\r\n        this.headPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        return this.headPointerValue;\r\n    }\r\n    undo_moveHeadTracker() {\r\n        this.headPointerHighlighter.shift(QueueArray.HEAD_LOCATION_X,QueueArray.HEAD_LOCATION_Y);\r\n        this.headPointerHighlighter.highlight();\r\n        let stopID = ++this.stopID;\r\n        this.headPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n    redo_moveHeadTracker() {\r\n        let pos = this.getElementPosition(this.headPointerValue);\r\n        this.headPointerHighlighter.highlight();\r\n        this.headPointerHighlighter.shift(pos[0], pos[1] + QueueArray.ELEMENT_SIZE);\r\n        let stopID = ++this.stopID;\r\n        this.headPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        return this.headPointerValue;\r\n    }\r\n\r\n    extractElement() {\r\n        this.tempElement = this.backingArray[this.headPointerValue];\r\n        this.backingArray[this.headPointerValue] = null;\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(45,45);\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n    undo_extractElement() {\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(...this.getElementPosition(this.headPointerValue));\r\n        let stopID = ++this.stopID;\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.backingArray[this.headPointerValue] = this.tempElement;\r\n        this.tempElement = null;\r\n    }\r\n    redo_extractElement() {\r\n        this.tempElement = this.backingArray[this.headPointerValue];\r\n        this.backingArray[this.headPointerValue] = null;\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(45,45);\r\n        let stopID = ++this.stopID;\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n\r\n    unmakeElement(index) {\r\n        let oldTemp = this.tempElement;\r\n        this.tempElement = null;\r\n        return [oldTemp];\r\n    }\r\n    undo_unmakeElement(oldTemp) {\r\n        this.tempElement = oldTemp;\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n    undo_sizeIncr() {\r\n        this.size--;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n    undo_sizeDecr() {\r\n        this.size++;\r\n    }\r\n\r\n    updateHeadPointer(newHead) {\r\n        let animation = [];\r\n        animation.push({method:this.headPointerHighlighter.highlight,scope:this.headPointerHighlighter,params:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],isForwardStep:true,});\r\n        animation.push({method:this.changeHeadPointerValue,params:[newHead],explanation:`Update head pointer to |RETURN|`,explanationUsesReturn:true,returnsUndoData:true,});\r\n        animation.push({method:this.headPointerHighlighter.unhighlight,scope:this.headPointerHighlighter,params:[],noAnim:true,isBackStep:true,undoData:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],});\r\n        return animation;\r\n    }\r\n\r\n    changeHeadPointerValue(newHead) {\r\n        let oldHead = this.headPointerValue;\r\n        if (newHead !== undefined) {\r\n            this.headPointerValue = newHead;\r\n        } else {\r\n            this.headPointerValue++;\r\n            this.headPointerValue %= this.backingArray.length;\r\n        }\r\n        return [this.headPointerValue,[oldHead]];\r\n    }\r\n    undo_changeHeadPointerValue(oldHead) {\r\n        this.headPointerValue = oldHead;\r\n        return this.headPointerValue;\r\n    }\r\n\r\n    updateTailPointer(newTail) {\r\n        let animation = [];\r\n        animation.push({method:this.tailPointerHighlighter.highlight,scope:this.tailPointerHighlighter,params:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],isForwardStep:true,});\r\n        animation.push({method:this.changeTailPointerValue,params:[newTail],explanation:`Update tail pointer to |RETURN|`,explanationUsesReturn:true,returnsUndoData:true,});\r\n        animation.push({method:this.tailPointerHighlighter.unhighlight,scope:this.tailPointerHighlighter,params:[],noAnim:true,isBackStep:true,undoData:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],});\r\n        return animation;\r\n    }\r\n\r\n    changeTailPointerValue(newTail) {\r\n        let oldTail = this.tailPointerValue;\r\n        if (newTail) {\r\n            this.tailPointerValue = newTail;\r\n        } else {\r\n            this.tailPointerValue++;\r\n            this.tailPointerValue %= this.backingArray.length;\r\n        }\r\n        return [this.tailPointerValue,[oldTail]];\r\n    }\r\n    undo_changeTailPointerValue(oldTail) {\r\n        this.tailPointerValue = oldTail;\r\n        return this.tailPointerValue;\r\n    }\r\n\r\n    getElementPosition(index, copy = false) {\r\n        let maxPerRow = Math.floor(this.width / QueueArray.ELEMENT_SIZE);\r\n        let x = QueueArray.ELEMENT_SIZE * index;\r\n        let y = 50 + Math.floor(index / maxPerRow) * 2 * QueueArray.ELEMENT_SIZE;\r\n        x = (index % maxPerRow) * QueueArray.ELEMENT_SIZE;\r\n        return [x + QueueArray.ELEMENT_SIZE/2 + this.x,y + QueueArray.ELEMENT_SIZE/2 + this.y + (copy ? (Math.ceil(this.backingArray.length / maxPerRow)*QueueArray.ELEMENT_SIZE*2) : 0)];\r\n    }\r\n\r\n    updateElement(element, animationSpeed, p5) {\r\n        if (element) {\r\n            element.update(animationSpeed, p5);\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            for (let i = 0; i < this.backingArray.length; i++) {\r\n                this.updateElement(this.backingArray[i], animationSpeed, p5);\r\n            }\r\n            if (this.copyArray) {\r\n                for (let i = 0; i < this.copyArray.length; i++) {\r\n                    this.updateElement(this.copyArray[i], animationSpeed, p5);\r\n                }\r\n            }\r\n            if (this.tempElement) {\r\n                this.updateElement(this.tempElement, animationSpeed, p5);\r\n            }\r\n            this.headPointerHighlighter.update(animationSpeed, p5);\r\n            this.tailPointerHighlighter.update(animationSpeed, p5);\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        super.draw(p5);\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_SIZE/3 - 2);\r\n\r\n        p5.fill(0);\r\n        p5.text(\"Head: \", QueueArray.HEAD_LOCATION_X - 50, QueueArray.HEAD_LOCATION_Y, QueueArray.ELEMENT_SIZE);\r\n        p5.text(this.headPointerValue.toString(), QueueArray.HEAD_LOCATION_X-25, QueueArray.HEAD_LOCATION_Y, QueueArray.ELEMENT_SIZE);\r\n        p5.text(\"Tail: \", QueueArray.TAIL_LOCATION_X - 50, QueueArray.TAIL_LOCATION_Y, QueueArray.ELEMENT_SIZE);\r\n        p5.text(this.tailPointerValue.toString(), QueueArray.TAIL_LOCATION_X-25, QueueArray.TAIL_LOCATION_Y, QueueArray.ELEMENT_SIZE);\r\n\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i]) {\r\n                this.backingArray[i].draw(p5);\r\n            }\r\n            let pos = this.getElementPosition(i);\r\n            p5.noFill();\r\n            p5.stroke(0);\r\n            p5.square(pos[0] - QueueArray.ELEMENT_SIZE/2,pos[1] - QueueArray.ELEMENT_SIZE/2, QueueArray.ELEMENT_SIZE);\r\n            p5.fill(...Colors.BLUE);\r\n            p5.stroke(...Colors.BLUE);\r\n            p5.text(i.toString(), pos[0] - QueueArray.ELEMENT_SIZE/2,pos[1] + QueueArray.ELEMENT_SIZE/2, QueueArray.ELEMENT_SIZE, QueueArray.ELEMENT_SIZE);\r\n        }\r\n\r\n        if (this.copyArray) {\r\n            for (let i = 0; i < this.copyArray.length; i++) {\r\n                if (this.copyArray[i]) {\r\n                    this.copyArray[i].draw(p5);\r\n                }\r\n                let pos = this.getElementPosition(i, true);\r\n                p5.noFill();\r\n                p5.stroke(0);\r\n                p5.square(pos[0] - QueueArray.ELEMENT_SIZE/2,pos[1] - QueueArray.ELEMENT_SIZE/2, QueueArray.ELEMENT_SIZE);\r\n                p5.fill(...Colors.BLUE);\r\n                p5.stroke(...Colors.BLUE);\r\n                p5.text(i.toString(), pos[0] - QueueArray.ELEMENT_SIZE/2,pos[1] + QueueArray.ELEMENT_SIZE/2, QueueArray.ELEMENT_SIZE, QueueArray.ELEMENT_SIZE);\r\n            }\r\n        }\r\n        if (this.tempElement) {\r\n            this.tempElement.draw(p5);\r\n        }\r\n        this.headPointerHighlighter.draw(p5);\r\n        this.tailPointerHighlighter.draw(p5);\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, (this.copyArray ? this.getElementPosition(this.copyArray.length-1, true)[1] : this.getElementPosition(this.backingArray.length-1)[1]) + QueueArray.ELEMENT_SIZE, () => {\r\n            for (let i = 0; i < this.backingArray.length; i++) {\r\n                if (this.backingArray[i]) {\r\n                    this.backingArray[i].shift(...this.getElementPosition(i));\r\n                }\r\n            }\r\n            if (this.copyArray) {\r\n                for (let i = 0; i < this.copyArray.length; i++) {\r\n                    if (this.copyArray[i]) {\r\n                        this.copyArray[i].shift(...this.getElementPosition(i,true));\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\nclass QueueArrayElement extends AttractedHighlightableObject {\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        // this.highlightInnerRadius = QueueArray.ELEMENT_SIZE/2 - 5;\r\n        this.highlightOuterRadius = QueueArray.ELEMENT_SIZE/2;\r\n\r\n        this.value = data;\r\n        this.index = index;\r\n\r\n        this.toDelete = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    highlightForMovement() {\r\n        super.highlight(Colors.BLUE);\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        super.highlight(Colors.RED);\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5);\r\n    }\r\n\r\n    drawValue(p5) {\r\n        p5.push();\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.stroke(...this.color);\r\n        p5.text(this.value.toString(), this.currentX - QueueArray.ELEMENT_SIZE/2,this.currentY - QueueArray.ELEMENT_SIZE/2, QueueArray.ELEMENT_SIZE, QueueArray.ELEMENT_SIZE);\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nimport { AttractedDraggableObject } from 'animation';\r\nimport { Utils, Colors } from 'utils';\r\n\r\nexport default class QueueLinkedList extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static CAN_DRAG = true;\r\n    static SUPPORTS_NO_LOOP = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n    static SUPPORTS_TEXT = true;\r\n    static SUPPORTS_ANIMATION_CONTROL = true;\r\n    static SUPPORTS_STOP_ID = true;\r\n\r\n    static ELEMENT_HEIGHT = 35;\r\n    static ELEMENT_WIDTH = 50;\r\n    static POINTER_WIDTH = 15;\r\n    static ITEM_WIDTH = QueueLinkedList.ELEMENT_WIDTH + QueueLinkedList.POINTER_WIDTH;\r\n    static SPACING = 50;\r\n    static ELEMENT_SIZE = QueueLinkedList.ITEM_WIDTH + QueueLinkedList.SPACING;\r\n\r\n    static HEAD_TAIL_SIZE = 35;\r\n    static HEAD_TAIL_X = 130;\r\n\r\n\r\n    reset() {\r\n        super.reset(() => {\r\n            this.head = null;\r\n            this.tail = null;\r\n            this.size = 0;\r\n            this.nodes = [];\r\n            this.tempNode = null;\r\n            this.pinnedNode = null;\r\n\r\n            this.resizing = false;\r\n        });\r\n    }\r\n\r\n    ensureDrawn(skipDraw = false) {\r\n        this.beginDrawLoop();\r\n        let maxNode = this.tempNode || this.head;\r\n        let curr = this.head;\r\n        while (curr) {\r\n            if (curr.displacement() > maxNode.displacement()) {\r\n                maxNode = curr;\r\n            }\r\n            curr = curr.next;\r\n        }\r\n        if (maxNode && maxNode.displacement() > 0) {\r\n            let stopID = ++this.stopID;\r\n            maxNode.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n            if (skipDraw) {\r\n                let curr = this.head;\r\n                while (curr) {\r\n                    curr.stop();\r\n                    curr = curr.next;\r\n                }\r\n                if (this.tempNode) {\r\n                    this.tempNode.stop();\r\n                }\r\n            }\r\n        } else {\r\n            this.stopDrawing(++this.stopID);\r\n        }\r\n    }\r\n\r\n\r\n    enqueue(data) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot add null to Queue.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        animation.push({method:this.makeNode,params:[data,],explanation:`Create value: ${data}`,isAnimationStep:true,returnsRedoData:true});\r\n        if (this.size > 0) {\r\n            animation.push({method:this.setTempNodeAfterTail,explanation:`Assign next pointer`,isAnimationStep:true,});\r\n        }\r\n        animation.push({method:this.insertTempNode,explanation:`Reset tail pointer`,isAnimationStep:true,returnsUndoData:true,});\r\n        animation.push({method:this.shiftTail,customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.sizeIncr,noAnim:true,});\r\n        animation.push({method:this.showText,params:[`Successfully enqueued ${data} to queue.`, Colors.GREEN],noAnim:true,});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return true;\r\n    }\r\n\r\n\r\n    dequeue() {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (this.size === 0) {\r\n            this.updateText(\"Cannot dequeue empty Queue\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let data = this.head.data;\r\n        animation.push({method:this.markHeadForDeletion,noAnim:true,});\r\n        animation.push({method:this.unmakeHead,explanation:`Extract data`,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        if (this.size > 1) {\r\n            animation.push({method:this.shiftIntoNode,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        }\r\n        animation.push({method:this.skipTempNode,explanation:`Reset head pointer to new head`,isAnimationStep:true,returnsUndoData:true,});\r\n        animation.push({method:this.sizeDecr,noAnim:true,});\r\n        animation.push({method:this.showText,params:[`Successfully dequeued ${data} from queue.`, Colors.GREEN],noAnim:true,});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return data;\r\n    }\r\n\r\n\r\n    makeNode(data) {\r\n        this.tempNode = new QueueLinkedListNode({data: data, index: this.size, x:20,y:20,});\r\n        return [this.tempNode];\r\n    }\r\n    undo_makeNode(data) {\r\n        this.tempNode = null;\r\n    }\r\n    redo_makeNode(newTemp) {\r\n        if (typeof newTemp !== \"object\") {\r\n            return this.makeNode(...arguments);\r\n        }\r\n        this.tempNode = newTemp;\r\n    }\r\n\r\n    setTempNodeAfterTail() {\r\n        this.tail.next = this.tempNode;\r\n    }\r\n    undo_setTempNodeAfterTail() {\r\n        this.tail.next = null;\r\n    }\r\n\r\n    insertTempNode() {\r\n        let oldTail = this.tail;\r\n        this.nodes.splice(this.size, 0, this.tempNode);\r\n        this.tail = this.tempNode;\r\n        if (!oldTail) {\r\n            this.head = this.tempNode;\r\n        }\r\n        return [oldTail];\r\n    }\r\n    undo_insertTempNode(oldTail) {\r\n        this.tail = oldTail;\r\n        if (!oldTail) {\r\n            this.head = null;\r\n        }\r\n        this.nodes.splice(this.size, 1);\r\n    }\r\n\r\n    shiftTail() {\r\n        this.tempNode.shift(...this.getNodePosition(this.size));\r\n        this.tempNode.addOnStop((element) => {\r\n            this.doneAnimating(0);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n    undo_shiftTail() {\r\n        this.tempNode = this.tail;\r\n        this.tempNode.shift(20,20);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n    redo_shiftTail() {\r\n        this.tempNode.shift(...this.getNodePosition(this.size));\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n\r\n    markHeadForDeletion() {\r\n        this.head.markForDeletion();\r\n    }\r\n    undo_markHeadForDeletion() {\r\n        this.head.unhighlight();\r\n    }\r\n\r\n    unmakeHead() {\r\n        this.tempNode = this.nodes.splice(0, 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        this.tempNode.addOnStop(() => {\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n    undo_unmakeHead() {\r\n        this.tempNode.shift(...this.getNodePosition(0));\r\n        this.nodes.splice(0, 0, this.tempNode);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n    redo_unmakeHead() {\r\n        this.tempNode = this.nodes.splice(0, 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n\r\n    skipTempNode() {\r\n        let oldTemp = this.tempNode;\r\n        this.head = this.head.next;\r\n        this.tempNode = null;\r\n        if (!this.head) {\r\n            this.tail = null;\r\n        }\r\n        return [oldTemp, this.tail === null]\r\n    }\r\n    undo_skipTempNode(oldTemp, noTail) {\r\n        this.tempNode = oldTemp;\r\n        this.tempNode.next = this.head;\r\n        this.tempNode.markForDeletion();\r\n        this.head = this.tempNode;\r\n        if (noTail) {\r\n            this.tail = this.tempNode;\r\n        }\r\n    }\r\n\r\n    shiftIntoNode() {\r\n        let node = this.head.next;\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            node = node.next;\r\n        }\r\n    }\r\n    undo_shiftIntoNode() {\r\n        let node = this.head.next;\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            if (!node.next) {\r\n                let stopID = ++this.stopID;\r\n                node.addOnStop(() => {\r\n                    this.stopDrawing(stopID);\r\n                });\r\n            }\r\n            node = node.next;\r\n        }\r\n    }\r\n    redo_shiftIntoNode() {\r\n        let node = this.head.next;\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            if (!node.next) {\r\n                let stopID = ++this.stopID;\r\n                node.addOnStop(() => {\r\n                    this.stopDrawing(stopID);\r\n                });\r\n            }\r\n            node = node.next;\r\n        }\r\n    }\r\n\r\n    shiftNode(node, direction) {\r\n        node.shift(...this.getNodePosition(node.index + direction), direction);\r\n    }\r\n    undo_shiftNode(node, direction) {\r\n        // console.log(\"undo_shiftNode\");\r\n        this.shiftNode(node, -direction);\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n    undo_sizeIncr() {\r\n        this.size--;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n    undo_sizeDecr() {\r\n        this.size++;\r\n    }\r\n\r\n    getNodePosition(index) {\r\n        let maxPerRow = Math.max(1, Math.floor(this.width / QueueLinkedList.ELEMENT_SIZE));\r\n        let x = QueueLinkedList.ELEMENT_SIZE * index;\r\n        let y = 75 + Math.floor(index / maxPerRow) * 2 * QueueLinkedList.ELEMENT_HEIGHT;\r\n        x = (index % maxPerRow) * QueueLinkedList.ELEMENT_SIZE;\r\n        return [x + this.x,y + this.y];\r\n    }\r\n\r\n    getNodeAtPos(x,y) {\r\n        let node = this.head;\r\n        while (node) {\r\n            if (node.containsPos(x,y)) {\r\n                return node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode && this.tempNode.containsPos(x,y)) {\r\n            return this.tempNode;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    getTailY() {\r\n        return this.getNodePosition(this.size-1)[1] + QueueLinkedList.ELEMENT_HEIGHT + QueueLinkedList.HEAD_TAIL_SIZE;\r\n    }\r\n\r\n    pin(node, x,y) {\r\n        this.pinnedNode = node;\r\n        node.pin(x,y);\r\n    }\r\n\r\n    unpin() {\r\n        this.pinnedNode.unpin();\r\n        this.pinnedNode = null;\r\n    }\r\n\r\n    updateNode(node, animationSpeed, p5) {\r\n        node.update(animationSpeed, p5);\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            let node = this.head;\r\n            while (node) {\r\n                this.updateNode(node, animationSpeed, p5);\r\n                node = node.next;\r\n            }\r\n            if (this.tempNode) {\r\n                this.updateNode(this.tempNode, animationSpeed, p5);\r\n            }\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        // console.log(\"draw\");\r\n        super.draw(p5);\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_WIDTH/3 - 2);\r\n\r\n        p5.noFill();\r\n        p5.stroke(0);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        let headY = 20;\r\n        p5.text(\"Head:\",95-5,headY,QueueLinkedList.HEAD_TAIL_SIZE + 10,QueueLinkedList.HEAD_TAIL_SIZE);\r\n        p5.square(QueueLinkedList.HEAD_TAIL_X,headY,QueueLinkedList.HEAD_TAIL_SIZE);\r\n        if (this.head) {\r\n            p5.stroke(Colors.BLUE);\r\n            p5.fill(Colors.BLUE);\r\n            p5.circle(QueueLinkedList.HEAD_TAIL_X + QueueLinkedList.HEAD_TAIL_SIZE / 2, headY + QueueLinkedList.HEAD_TAIL_SIZE / 2, 5);\r\n            p5.line(QueueLinkedList.HEAD_TAIL_X + QueueLinkedList.HEAD_TAIL_SIZE / 2, headY + QueueLinkedList.HEAD_TAIL_SIZE / 2, this.head.currentX + QueueLinkedList.ITEM_WIDTH / 2, this.head.currentY);\r\n            p5.rect(this.head.currentX + QueueLinkedList.ITEM_WIDTH / 2 - 3, this.head.currentY - 3, 6,6);\r\n        } else {\r\n            p5.line(QueueLinkedList.HEAD_TAIL_X,headY,QueueLinkedList.HEAD_TAIL_X + QueueLinkedList.HEAD_TAIL_SIZE,headY + QueueLinkedList.HEAD_TAIL_SIZE);\r\n        }\r\n        p5.noFill();\r\n        p5.stroke(0);\r\n        let tailY = this.getTailY();\r\n        p5.text(\"Tail:\",95,tailY,QueueLinkedList.HEAD_TAIL_SIZE,QueueLinkedList.HEAD_TAIL_SIZE);\r\n        p5.square(QueueLinkedList.HEAD_TAIL_X,tailY,QueueLinkedList.HEAD_TAIL_SIZE);\r\n        if (this.tail) {\r\n            p5.stroke(Colors.BLUE);\r\n            p5.fill(Colors.BLUE);\r\n            p5.circle(QueueLinkedList.HEAD_TAIL_X + QueueLinkedList.HEAD_TAIL_SIZE / 2, tailY + QueueLinkedList.HEAD_TAIL_SIZE / 2, 5);\r\n            p5.line(QueueLinkedList.HEAD_TAIL_X + QueueLinkedList.HEAD_TAIL_SIZE / 2, tailY + QueueLinkedList.HEAD_TAIL_SIZE / 2, this.tail.currentX + QueueLinkedList.ITEM_WIDTH / 2, this.tail.currentY + QueueLinkedList.ELEMENT_HEIGHT);\r\n            p5.rect(this.tail.currentX + QueueLinkedList.ITEM_WIDTH / 2 - 3, this.tail.currentY + QueueLinkedList.ELEMENT_HEIGHT - 3, 6,6);\r\n        } else {\r\n            p5.line(QueueLinkedList.HEAD_TAIL_X,tailY,QueueLinkedList.HEAD_TAIL_X + QueueLinkedList.HEAD_TAIL_SIZE,tailY + QueueLinkedList.HEAD_TAIL_SIZE);\r\n        }\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.draw(p5, node.next === this.head);\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode) {\r\n            this.tempNode.draw(p5);\r\n        }\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    mousePressed(p5) {\r\n        // this.drawingBeforeMouseDown = this.drawing;\r\n        let pressedNode = this.getNodeAtPos(p5.mouseX, p5.mouseY);\r\n        if (pressedNode) {\r\n            this.animator.loop();\r\n            this.pin(pressedNode, p5.mouseX,p5.mouseY);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    mouseReleased(p5) {\r\n        if (this.pinnedNode) {\r\n            this.pinnedNode.addOnStop(() => {\r\n                this.ensureDrawn();\r\n            });\r\n            this.unpin();\r\n        } else {\r\n            // this.ensureDrawn();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, this.getTailY() + QueueLinkedList.HEAD_TAIL_SIZE + 20,() => {\r\n            let shiftTemp = this.tempNode && this.tempNode.desiredX === 20 && this.tempNode.desiredY === 20;\r\n            let node = this.head;\r\n            while (node) {\r\n                node.shift(...this.getNodePosition(node.index));\r\n                node = node.next;\r\n            }\r\n            if (shiftTemp) {\r\n                this.tempNode.shift(20,20);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\nclass QueueLinkedListNode extends AttractedDraggableObject {\r\n    static CAN_DRAG = true;\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        this.data = data;\r\n        this.index = index;\r\n        this.next = null;\r\n\r\n        this.toDelete = false;\r\n        this.handBroken = false;\r\n        this.frozen = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    containsPos(x,y) {\r\n        return ((this.currentX <= x && x <= (this.currentX + QueueLinkedList.ITEM_WIDTH)) && (this.currentY <= y && y <= (this.currentY + QueueLinkedList.ELEMENT_HEIGHT)))\r\n    }\r\n\r\n    highlight() {\r\n        this.color = [255,165,0];\r\n    }\r\n\r\n    unhighlight() {\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        this.color[0] = 255;\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    draw(p5) {\r\n        p5.push();\r\n        p5.fill(255);\r\n        p5.stroke(...this.color);\r\n        p5.rect(this.currentX, this.currentY, QueueLinkedList.ITEM_WIDTH, QueueLinkedList.ELEMENT_HEIGHT);\r\n        p5.line(this.currentX + QueueLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + QueueLinkedList.ELEMENT_WIDTH, this.currentY + QueueLinkedList.ELEMENT_HEIGHT);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.text(this.data.toString(), this.currentX,this.currentY, QueueLinkedList.ELEMENT_WIDTH,QueueLinkedList.ELEMENT_HEIGHT);\r\n        if (this.next) {\r\n            p5.stroke(...Utils.addArray(this.color, [0,0,255]));\r\n            p5.fill(...Utils.addArray(this.color, [0,0,255]));\r\n            p5.circle(this.currentX + QueueLinkedList.ELEMENT_WIDTH + QueueLinkedList.POINTER_WIDTH / 2, this.currentY + QueueLinkedList.ELEMENT_HEIGHT / 2, 5);\r\n            p5.line(this.currentX + QueueLinkedList.ELEMENT_WIDTH + QueueLinkedList.POINTER_WIDTH / 2, this.currentY + QueueLinkedList.ELEMENT_HEIGHT / 2, this.next.currentX, this.next.currentY + QueueLinkedList.ELEMENT_HEIGHT / 2);\r\n            p5.rect(this.next.currentX - 3, this.next.currentY + QueueLinkedList.ELEMENT_HEIGHT / 2 - 3, 6,6);\r\n        } else {\r\n            p5.line(this.currentX + QueueLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + QueueLinkedList.ITEM_WIDTH, this.currentY + QueueLinkedList.ELEMENT_HEIGHT);\r\n        }\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nimport { AttractedHighlightableObject } from 'animation';\r\nimport { Colors } from 'utils';\r\n\r\nexport default class DequeArray extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static SUPPORTS_NO_LOOP = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n    static SUPPORTS_TEXT = true;\r\n    static SUPPORTS_ANIMATION_CONTROL = true;\r\n    static SUPPORTS_STOP_ID = true;\r\n\r\n    static INITIAL_CAPACITY = 9;\r\n\r\n    static ELEMENT_SIZE = 50;\r\n    static FRONT_LOCATION_X = 125;\r\n    static FRONT_LOCATION_Y = 35;\r\n    static SIZE_LOCATION_X = 125;\r\n    static SIZE_LOCATION_Y = 55;\r\n\r\n    reset() {\r\n        super.reset(() => {\r\n            this.backingArray = new Array(DequeArray.INITIAL_CAPACITY);\r\n            this.size = 0;\r\n            this.copyArray = null;\r\n            this.tempElement = null;\r\n            this.frontPointerValue = 0;\r\n            this.frontPointerHighlighter = new AttractedHighlightableObject(DequeArray.FRONT_LOCATION_X, DequeArray.FRONT_LOCATION_Y, {\r\n                highlightOuterRadius: 15\r\n            });\r\n            this.sizePointerHighlighter = new AttractedHighlightableObject(DequeArray.SIZE_LOCATION_X, DequeArray.SIZE_LOCATION_Y, {\r\n                highlightOuterRadius: 15\r\n            });\r\n        });\r\n    }\r\n\r\n    ensureDrawn(skipDraw = false) {\r\n        this.beginDrawLoop();\r\n        let furthestObject = this.tempElement || this.frontPointerHighlighter;\r\n        if (this.frontPointerHighlighter.displacement() > furthestObject.displacement()) {\r\n            furthestObject = this.frontPointerHighlighter;\r\n        }\r\n        if (this.sizePointerHighlighter.displacement() > furthestObject.displacement()) {\r\n            furthestObject = this.sizePointerHighlighter;\r\n        }\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i] && this.backingArray[i].displacement() > furthestObject.displacement()) {\r\n                furthestObject = this.backingArray[i];\r\n            }\r\n        }\r\n        if (this.copyArray) {\r\n            for (let i = 0; i < this.copyArray.length; i++) {\r\n                if (this.copyArray[i] && this.copyArray[i].displacement() > furthestObject.displacement()) {\r\n                    furthestObject = this.copyArray[i];\r\n                }\r\n            }\r\n        }\r\n        if (furthestObject.displacement() > 0) {\r\n            let stopID = ++this.stopID;\r\n            furthestObject.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n            if (skipDraw) {\r\n                if (this.tempElement) {\r\n                    this.tempElement.stop();\r\n                }\r\n                this.frontPointerHighlighter.stop();\r\n                this.sizePointerHighlighter.stop();\r\n                for (let i = 0; i < this.backingArray.length; i++) {\r\n                    if (this.backingArray[i]) {\r\n                        this.backingArray[i].stop();\r\n                    }\r\n                }\r\n                if (this.copyArray) {\r\n                    for (let i = 0; i < this.copyArray.length; i++) {\r\n                        if (this.copyArray[i]) {\r\n                            this.copyArray[i].stop();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            let stopID = ++this.stopID;\r\n            this.stopDrawing(stopID);\r\n        }\r\n    }\r\n\r\n\r\n    add(data,front) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot add null to Deque.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        if (this.size === this.backingArray.length) {\r\n            animation.push({method:this.showText,params:[`Deque full, resizing to length ${this.backingArray.length*2}`,Colors.GREEN,],});\r\n            animation.push(...this.createCopyArray());\r\n        }\r\n        animation.push({method:this.createElement,params:[data,front],explanation:`Create value: ${data}`,isAnimationStep:true,returnsRedoData:true,});\r\n        animation.push(...this.useFrontPointer());\r\n        if (front) {\r\n            animation.push(...this.useFrontDecrementPointer(true));\r\n        } else {\r\n            animation.push(...this.useFrontSizePointer(true));\r\n        }\r\n        animation.push({method:this.highlightTemp,noAnim:true});\r\n        animation.push({method:this.insertElement,customEnd:true,explanation:`Added ${data} to backingArray`,isAnimationStep:true,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true,});\r\n        if (front) {\r\n            // animation.push({method:this.noAction,noAnim:true,isBackStep:true});\r\n            animation.push(...this.updateFrontPointer(-1));\r\n        }\r\n        animation.push(...this.updateSizePointer(1));\r\n        animation.push({method:this.showText,params:[`Successfully added ${data} to ${front ? \"front\" : \"back\"} of deque.`,Colors.GREEN,],});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return true;\r\n    }\r\n\r\n    addFirst(data) {\r\n        return this.add(data, true);\r\n    }\r\n\r\n    addLast(data) {\r\n        return this.add(data, false);\r\n    }\r\n\r\n    remove(front) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (this.size === 0) {\r\n            this.updateText(\"Cannot pop empty Deque\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let data = this.backingArray[front ? this.frontPointerValue : this.getIndex(this.frontPointerValue + this.size - 1)].value;\r\n        animation.push({method:this.showText,params:[`Dequeuing from index ${this.frontPointerValue}.`]});\r\n        animation.push(...this.useFrontPointer(front));\r\n        if (!front) {\r\n            animation.push(...this.useFrontSizePointer(false,false));\r\n            animation.push(...this.useFrontDecrementPointer(false));\r\n        }\r\n        animation.push({method:this.extractElement,params:[front],explanation:`Remove value: ${data} from deque`,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.unmakeElement,noAnim:true,returnsUndoData:true});\r\n        if (front) {\r\n            animation.push(...this.updateFrontPointer(1));\r\n        }\r\n        animation.push(...this.updateSizePointer(-1));\r\n        animation.push({method:this.showText,params:[`Successfully removed ${data} from ${front ? \"front of \" : \"back of\"} deque.`,Colors.GREEN],noAnim:true});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return data;\r\n    }\r\n\r\n    removeFirst() {\r\n        return this.remove(true);\r\n    }\r\n\r\n    removeLast() {\r\n        return this.remove(false);\r\n    }\r\n\r\n    createCopyArray() {\r\n        let animation = [];\r\n        animation.push({method:this.initCopyArray,noAnim:true,explanation:`Deque full, resizing to length ${this.backingArray.length*2}`,isForwardStep:true,});\r\n        animation.push(...this.useFrontPointer(true));\r\n        for (let i = 0; i < this.size; i++) {\r\n            animation.push(...this.addItemToCopy(i));\r\n        }\r\n        animation.push(...this.useCopyArr());\r\n        animation.push(...this.updateFrontPointer(0));\r\n        return animation;\r\n    }\r\n\r\n    initCopyArray() {\r\n        this.copyArray = new Array(this.backingArray.length * 2);\r\n        for (let i = 0; i < this.size; i++) {\r\n            let arrIndex = (i + this.frontPointerValue) % this.backingArray.length;\r\n            let pos = this.getElementPosition(arrIndex);\r\n            this.copyArray[i] = new DequeArrayElement({data: this.backingArray[arrIndex].value, index: i, x:pos[0],y:pos[1],},);\r\n        }\r\n    }\r\n    undo_initCopyArray() {\r\n        this.copyArray = null;\r\n    }\r\n\r\n    addItemToCopy(index) {\r\n        let animation = [];\r\n        // animation.push({method:this.shiftElementToCopyArray,params:[index,...this.getElementPosition(index,true)],customEnd:true,isBackStep:(index === 0),isForwardStep:(index === this.size - 1),customUndoEnd:(index === 0),customRedoEnd:(index === this.size - 1),});\r\n        animation.push({method:this.shiftElementToCopyArray,params:[index,...this.getElementPosition(index,true)],customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n        return animation;\r\n    }\r\n\r\n    shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        let oldX = element.desiredX;\r\n        let oldY = element.desiredY;\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        element.addOnStop((el) => {\r\n            el.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        return [index, oldX, oldY];\r\n    }\r\n    undo_shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        if (true || index === 0) {\r\n            let stopID = ++this.stopID;\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n                this.stopDrawing(stopID);\r\n            });\r\n        } else {\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n            });\r\n        }\r\n    }\r\n    redo_shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        let oldX = element.desiredX;\r\n        let oldY = element.desiredY;\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        if (true || index === this.size - 1) {\r\n            let stopID = ++this.stopID;\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n                this.stopDrawing(stopID);\r\n            });\r\n        } else {\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n            });\r\n        }\r\n        return [index, oldX, oldY];\r\n    }\r\n\r\n    useCopyArr() {\r\n        let animation = [];\r\n        animation.push({method:this.assignCopyArray,noAnim:true,isBackStep:true,customUndoEnd:true,returnsUndoData:true});\r\n        for (let i = 0; i < this.size; i++) {\r\n            animation.push({method:this.shiftElementToBackingArray,params:[i,],noAnim:true,isForwardStep:(i === this.size - 1),customUndoEnd:true,customRedoEnd:true});\r\n        }\r\n        animation.push({method:this.noAction,noAnim:true,isBackStep:true});\r\n        return animation;\r\n    }\r\n\r\n    assignCopyArray() {\r\n        let oldBacking = this.backingArray;\r\n        this.backingArray = this.copyArray;\r\n        this.copyArray = null;\r\n        return [oldBacking];\r\n    }\r\n    undo_assignCopyArray(oldBacking) {\r\n        this.copyArray = this.backingArray;\r\n        this.backingArray = oldBacking;\r\n    }\r\n\r\n    shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(element.index));\r\n    }\r\n    undo_shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(index,true));\r\n        if (index === 0) {\r\n            let stopID = ++this.stopID;\r\n            element.addOnStop((el) => {\r\n                this.stopDrawing(stopID);\r\n            })\r\n        }\r\n    }\r\n    redo_shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(element.index));\r\n        if (index === this.size - 1) {\r\n            let stopID = ++this.stopID;\r\n            element.addOnStop((el) => {\r\n                this.stopDrawing(stopID);\r\n            })\r\n        }\r\n    }\r\n\r\n    createElement(data, front) {\r\n        this.tempElement = new DequeArrayElement({data: data, index: this.getIndex(front ? this.frontPointerValue - 1 : this.frontPointerValue + this.size), x:45,y:45,},);\r\n        return [this.tempElement];\r\n    }\r\n    undo_createElement() {\r\n        this.tempElement = null;\r\n    }\r\n    redo_createElement(newTemp) {\r\n        if (typeof newTemp !== \"object\") {\r\n            return this.createElement(...arguments);\r\n        }\r\n        this.tempElement = newTemp;\r\n        this.tempElement.goTo(45,45);\r\n    }\r\n\r\n    highlightTemp(color = Colors.BLUE) {\r\n        this.tempElement.highlight(color);\r\n    }\r\n    undo_highlightTemp() {\r\n        this.tempElement.unhighlight();\r\n    }\r\n\r\n    insertElement() {\r\n        let index = this.tempElement.index;\r\n        this.backingArray[index] = this.tempElement;\r\n        this.highlightTemp();\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        let oldTemp = this.tempElement;\r\n        this.tempElement = null;\r\n        return [oldTemp];\r\n    }\r\n    undo_insertElement(oldTemp) {\r\n        this.tempElement = oldTemp;\r\n        let index = this.tempElement.index;\r\n        this.highlightTemp();\r\n        this.tempElement.shift(45,45);\r\n        let stopID = ++this.stopID;\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.backingArray[index] = null;\r\n    }\r\n    redo_insertElement() {\r\n        let index = this.tempElement.index;\r\n        this.backingArray[index] = this.tempElement;\r\n        this.highlightTemp();\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        let stopID = ++this.stopID;\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        let oldTemp = this.tempElement;\r\n        this.tempElement = null;\r\n        return [oldTemp];\r\n    }\r\n\r\n    useFrontPointer(end = false) {\r\n        let animation = [];\r\n        animation.push({method:this.frontPointerHighlighter.highlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.moveFrontTracker,params:[0,false],customEnd:true,explanation:`Front points to index |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.frontPointerHighlighter.unhighlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        if (end) {\r\n            animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[DequeArray.FRONT_LOCATION_X,DequeArray.FRONT_LOCATION_Y,],noAnim:true,returnsUndoData:true,});\r\n        }\r\n        return animation;\r\n    }\r\n    useFrontDecrementPointer(add) {\r\n        let animation = [];\r\n        // animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[...this.getElementPosition(this.frontPointerValue)],noAnim:true,returnsUndoData:true,});\r\n        animation.push({method:this.frontPointerHighlighter.highlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.moveFrontTracker,params:[-1,!add],customEnd:true,explanation:`${add ? \"Add at\" : \"Remove from\"} index (front${add ? \" \" : \" + size \"}- 1) % backingArray.length = |RETURN|`,explanationUsesReturn:true,isForwardStep:true,isBackStep:add,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.frontPointerHighlighter.unhighlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[DequeArray.FRONT_LOCATION_X,DequeArray.FRONT_LOCATION_Y,],noAnim:true,returnsUndoData:true,});\r\n        return animation;\r\n    }\r\n    useFrontSizePointer(add, end = true) {\r\n        let animation = [];\r\n        // animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[...this.getElementPosition(this.frontPointerValue)],noAnim:true,returnsUndoData:true,});\r\n        animation.push({method:this.frontPointerHighlighter.highlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.moveFrontTracker,params:[0,true],customEnd:true,explanation:`${add ? \"Add at\" : \"Remove from\"} index (front + size${add ? \"\" : \" - 1\"}) % backingArray.length = |RETURN|`,explanationUsesReturn:true,isForwardStep:end,isBackStep:true,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.frontPointerHighlighter.unhighlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        if (end) {\r\n            animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[DequeArray.FRONT_LOCATION_X,DequeArray.FRONT_LOCATION_Y,],noAnim:true,returnsUndoData:true,});\r\n        }\r\n        return animation;\r\n    }\r\n\r\n    moveFrontTracker(offset, fromSize) {\r\n        let oldX = this.frontPointerHighlighter.desiredX;\r\n        let oldY = this.frontPointerHighlighter.desiredY;\r\n        let index = this.getIndex(this.frontPointerValue + offset + (fromSize ? this.size : 0));\r\n        let pos = this.getElementPosition(index);\r\n        this.frontPointerHighlighter.highlight();\r\n        this.frontPointerHighlighter.shift(pos[0], pos[1] + DequeArray.ELEMENT_SIZE);\r\n        this.frontPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        return [index, [oldX,oldY]];\r\n    }\r\n    undo_moveFrontTracker(oldX,oldY) {\r\n        this.frontPointerHighlighter.highlight();\r\n        this.frontPointerHighlighter.shift(oldX, oldY);\r\n        let stopID = ++this.stopID;\r\n        this.frontPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n    redo_moveFrontTracker(offset, fromSize) {\r\n        let oldX = this.frontPointerHighlighter.desiredX;\r\n        let oldY = this.frontPointerHighlighter.desiredY;\r\n        let index = this.getIndex(this.frontPointerValue + offset + (fromSize ? this.size : 0));\r\n        let pos = this.getElementPosition(index);\r\n        this.frontPointerHighlighter.highlight();\r\n        this.frontPointerHighlighter.shift(pos[0], pos[1] + DequeArray.ELEMENT_SIZE);\r\n        let stopID = ++this.stopID;\r\n        this.frontPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        return [index, [oldX,oldY]];\r\n    }\r\n\r\n    extractElement(front) {\r\n        let index = this.getIndex(this.frontPointerValue + (front ? 0 : this.size - 1));\r\n        this.tempElement = this.backingArray[index];\r\n        this.backingArray[index] = null;\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(45,45);\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n    undo_extractElement(front) {\r\n        let index = this.getIndex(this.frontPointerValue + (front ? 0 : this.size - 1));\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        let stopID = ++this.stopID;\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.backingArray[index] = this.tempElement;\r\n        this.tempElement = null;\r\n    }\r\n    redo_extractElement(front) {\r\n        let index = this.getIndex(this.frontPointerValue + (front ? 0 : this.size - 1));\r\n        this.tempElement = this.backingArray[index];\r\n        this.backingArray[index] = null;\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(45,45);\r\n        let stopID = ++this.stopID;\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n\r\n    unmakeElement() {\r\n        let oldTemp = this.tempElement;\r\n        this.tempElement = null;\r\n        return [oldTemp];\r\n    }\r\n    undo_unmakeElement(oldTemp) {\r\n        this.tempElement = oldTemp;\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n    undo_sizeIncr() {\r\n        this.size--;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n    undo_sizeDecr() {\r\n        this.size++;\r\n    }\r\n\r\n    updateFrontPointer(offset) {\r\n        let animation = [];\r\n        animation.push({method:this.frontPointerHighlighter.highlight,scope:this.frontPointerHighlighter,params:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],isForwardStep:false,});\r\n        animation.push({method:this.changeFrontPointerValue,params:[offset],explanation:`Update front pointer to |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,returnsUndoData:true,});\r\n        animation.push({method:this.frontPointerHighlighter.unhighlight,scope:this.frontPointerHighlighter,noAnim:true,isBackStep:false,undoData:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],});\r\n        return animation;\r\n    }\r\n\r\n    changeFrontPointerValue(offset) {\r\n        let oldFront = this.frontPointerValue;\r\n        if (offset === 0) {\r\n            this.frontPointerValue = 0;\r\n        } else {\r\n            this.frontPointerValue = this.getIndex(this.frontPointerValue + offset);\r\n        }\r\n        return [this.frontPointerValue,[oldFront]];\r\n    }\r\n    undo_changeFrontPointerValue(oldFront) {\r\n        this.frontPointerValue = oldFront;\r\n        return this.frontPointerValue;\r\n    }\r\n\r\n    updateSizePointer(offset) {\r\n        let animation = [];\r\n        animation.push({method:this.sizePointerHighlighter.highlight,scope:this.sizePointerHighlighter,params:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],isForwardStep:false,});\r\n        animation.push({method:this.changeSizePointerValue,params:[offset],explanation:`Update size to |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,returnsUndoData:true,});\r\n        animation.push({method:this.sizePointerHighlighter.unhighlight,scope:this.sizePointerHighlighter,noAnim:true,isBackStep:false,undoData:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],});\r\n        return animation;\r\n    }\r\n\r\n    changeSizePointerValue(offset) {\r\n        let oldSize = this.size;\r\n        this.size += offset;\r\n        return [this.size,[oldSize]];\r\n    }\r\n    undo_changeSizePointerValue(oldSize) {\r\n        this.size = oldSize;\r\n        return this.size;\r\n    }\r\n\r\n\r\n    getIndex(index, copy = false) {\r\n        let array = copy ? this.copyArray : this.backingArray;\r\n        index %= array.length;\r\n        if (index < 0) {\r\n            index += array.length;\r\n        }\r\n        return index;\r\n    }\r\n\r\n    getElementPosition(index, copy = false) {\r\n        let maxPerRow = Math.floor(this.width / DequeArray.ELEMENT_SIZE);\r\n        let x = DequeArray.ELEMENT_SIZE * index;\r\n        let y = 50 + Math.floor(index / maxPerRow) * 2 * DequeArray.ELEMENT_SIZE;\r\n        x = (index % maxPerRow) * DequeArray.ELEMENT_SIZE;\r\n        return [x + DequeArray.ELEMENT_SIZE/2 + this.x,y + DequeArray.ELEMENT_SIZE/2 + this.y + (copy ? (Math.ceil(this.backingArray.length / maxPerRow)*DequeArray.ELEMENT_SIZE*2) : 0)];\r\n    }\r\n\r\n    updateElement(element, animationSpeed, p5) {\r\n        if (element) {\r\n            element.update(animationSpeed, p5);\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            for (let i = 0; i < this.backingArray.length; i++) {\r\n                this.updateElement(this.backingArray[i], animationSpeed, p5);\r\n            }\r\n            if (this.copyArray) {\r\n                for (let i = 0; i < this.copyArray.length; i++) {\r\n                    this.updateElement(this.copyArray[i], animationSpeed, p5);\r\n                }\r\n            }\r\n            if (this.tempElement) {\r\n                this.updateElement(this.tempElement, animationSpeed, p5);\r\n            }\r\n            this.frontPointerHighlighter.update(animationSpeed, p5);\r\n            this.sizePointerHighlighter.update(animationSpeed, p5);\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        super.draw(p5);\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_SIZE/3 - 2);\r\n\r\n        p5.fill(0);\r\n        p5.text(\"Front: \", DequeArray.FRONT_LOCATION_X - 50, DequeArray.FRONT_LOCATION_Y, DequeArray.ELEMENT_SIZE);\r\n        p5.text(this.frontPointerValue.toString(), DequeArray.FRONT_LOCATION_X-25, DequeArray.FRONT_LOCATION_Y, DequeArray.ELEMENT_SIZE);\r\n        p5.text(\"Size: \", DequeArray.SIZE_LOCATION_X - 50, DequeArray.SIZE_LOCATION_Y, DequeArray.ELEMENT_SIZE);\r\n        p5.text(this.size.toString(), DequeArray.SIZE_LOCATION_X-25, DequeArray.SIZE_LOCATION_Y, DequeArray.ELEMENT_SIZE);\r\n\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i]) {\r\n                this.backingArray[i].draw(p5);\r\n            }\r\n            let pos = this.getElementPosition(i);\r\n            p5.noFill();\r\n            p5.stroke(0);\r\n            p5.square(pos[0] - DequeArray.ELEMENT_SIZE/2,pos[1] - DequeArray.ELEMENT_SIZE/2, DequeArray.ELEMENT_SIZE);\r\n            p5.fill(...Colors.BLUE);\r\n            p5.stroke(...Colors.BLUE);\r\n            p5.text(i.toString(), pos[0] - DequeArray.ELEMENT_SIZE/2,pos[1] + DequeArray.ELEMENT_SIZE/2, DequeArray.ELEMENT_SIZE, DequeArray.ELEMENT_SIZE);\r\n        }\r\n\r\n        if (this.copyArray) {\r\n            for (let i = 0; i < this.copyArray.length; i++) {\r\n                if (this.copyArray[i]) {\r\n                    this.copyArray[i].draw(p5);\r\n                }\r\n                let pos = this.getElementPosition(i, true);\r\n                p5.noFill();\r\n                p5.stroke(0);\r\n                p5.square(pos[0] - DequeArray.ELEMENT_SIZE/2,pos[1] - DequeArray.ELEMENT_SIZE/2, DequeArray.ELEMENT_SIZE);\r\n                p5.fill(...Colors.BLUE);\r\n                p5.stroke(...Colors.BLUE);\r\n                p5.text(i.toString(), pos[0] - DequeArray.ELEMENT_SIZE/2,pos[1] + DequeArray.ELEMENT_SIZE/2, DequeArray.ELEMENT_SIZE, DequeArray.ELEMENT_SIZE);\r\n            }\r\n        }\r\n        if (this.tempElement) {\r\n            this.tempElement.draw(p5);\r\n        }\r\n        this.frontPointerHighlighter.draw(p5);\r\n        this.sizePointerHighlighter.draw(p5);\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, (this.copyArray ? this.getElementPosition(this.copyArray.length-1, true)[1] : this.getElementPosition(this.backingArray.length-1)[1]) + DequeArray.ELEMENT_SIZE, () => {\r\n            for (let i = 0; i < this.backingArray.length; i++) {\r\n                if (this.backingArray[i]) {\r\n                    this.backingArray[i].shift(...this.getElementPosition(i));\r\n                }\r\n            }\r\n            if (this.copyArray) {\r\n                for (let i = 0; i < this.copyArray.length; i++) {\r\n                    if (this.copyArray[i]) {\r\n                        this.copyArray[i].shift(...this.getElementPosition(i,true));\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\nclass DequeArrayElement extends AttractedHighlightableObject {\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        // this.highlightInnerRadius = DequeArray.ELEMENT_SIZE/2 - 5;\r\n        this.highlightOuterRadius = DequeArray.ELEMENT_SIZE/2;\r\n\r\n        this.value = data;\r\n        this.index = index;\r\n\r\n        this.toDelete = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    highlightForMovement() {\r\n        super.highlight(Colors.BLUE);\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        super.highlight(Colors.RED);\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5);\r\n    }\r\n\r\n    drawValue(p5) {\r\n        p5.push();\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.stroke(...this.color);\r\n        p5.text(this.value.toString(), this.currentX - DequeArray.ELEMENT_SIZE/2,this.currentY - DequeArray.ELEMENT_SIZE/2, DequeArray.ELEMENT_SIZE, DequeArray.ELEMENT_SIZE);\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nimport { AttractedDraggableObject } from 'animation';\r\nimport { Utils, Colors } from 'utils';\r\n\r\nexport default class DequeLinkedList extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static CAN_DRAG = true;\r\n    static SUPPORTS_NO_LOOP = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n    static SUPPORTS_TEXT = true;\r\n    static SUPPORTS_ANIMATION_CONTROL = true;\r\n    static SUPPORTS_STOP_ID = true;\r\n\r\n    static ELEMENT_HEIGHT = 35;\r\n    static ELEMENT_WIDTH = 50;\r\n    static POINTER_WIDTH = 15;\r\n    static ITEM_WIDTH = DequeLinkedList.ELEMENT_WIDTH + 2 * DequeLinkedList.POINTER_WIDTH;\r\n    static SPACING = 50;\r\n    static ELEMENT_SIZE = DequeLinkedList.ITEM_WIDTH + DequeLinkedList.SPACING;\r\n\r\n    static HEAD_TAIL_SIZE = 35;\r\n    static HEAD_TAIL_X = 130;\r\n\r\n\r\n    reset() {\r\n        super.reset(() => {\r\n            this.head = null;\r\n            this.tail = null;\r\n            this.size = 0;\r\n            this.nodes = [];\r\n            this.tempNode = null;\r\n            this.pinnedNode = null;\r\n\r\n            this.resizing = false;\r\n        });\r\n    }\r\n\r\n    ensureDrawn(skipDraw = false) {\r\n        this.beginDrawLoop();\r\n        let maxNode = this.tempNode || this.head;\r\n        let curr = this.head;\r\n        while (curr) {\r\n            if (curr.displacement() > maxNode.displacement()) {\r\n                maxNode = curr;\r\n            }\r\n            curr = curr.next;\r\n        }\r\n        if (maxNode && maxNode.displacement() > 0) {\r\n            let stopID = ++this.stopID;\r\n            maxNode.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n            if (skipDraw) {\r\n                let curr = this.head;\r\n                while (curr) {\r\n                    curr.stop();\r\n                    curr = curr.next;\r\n                }\r\n                if (this.tempNode) {\r\n                    this.tempNode.stop();\r\n                }\r\n            }\r\n        } else {\r\n            let stopID = ++this.stopID;\r\n            this.stopDrawing(stopID);\r\n        }\r\n    }\r\n\r\n\r\n    add(data,front) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot add null to Deque.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        animation.push({method:this.makeNode,params:[data,front],explanation:`Create value: ${data}`,isAnimationStep:true,returnsRedoData:true,});\r\n        if (this.size > 0) {\r\n            if (front) {\r\n                animation.push({method:this.setTempNodeBeforeHead,explanation:`Assign next pointer`,isAnimationStep:true,});\r\n                animation.push({method:this.setHeadAfterTempNode,explanation:`Assign prev pointer`,isAnimationStep:true,});\r\n                animation.push({method:this.shiftHeadForNode,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n            } else {\r\n                animation.push({method:this.setTempNodeAfterTail,explanation:`Assign next pointer`,isAnimationStep:true,});\r\n                animation.push({method:this.setTailBeforeTempNode,explanation:`Assign prev pointer`,isAnimationStep:true,});\r\n            }\r\n        }\r\n        animation.push({method:this.insertTempNode,params:[front],explanation:`Reset ${front ? \"head\" : \"tail\"} pointer`,quick:true,isAnimationStep:true,returnsUndoData:true,});\r\n        if (front) {\r\n            animation.push({method:this.shiftNewHead,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        } else {\r\n            animation.push({method:this.shiftNewTail,customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        }\r\n        animation.push({method:this.sizeIncr,noAnim:true,});\r\n        animation.push({method:this.showText,params:[`Successfully added ${data} to ${front ? \"front\" : \"back\"} of deque.`, Colors.GREEN],noAnim:true,});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return true;\r\n    }\r\n\r\n    addFirst(data) {\r\n        return this.add(data,true);\r\n    }\r\n\r\n    addLast(data) {\r\n        return this.add(data,false);\r\n    }\r\n\r\n    remove(front) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (this.size === 0) {\r\n            this.updateText(\"Cannot dedeque empty Deque\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let data = (front ? this.head : this.tail).data;\r\n        animation.push({method:this.markNodeForDeletion,params:[front],quick:true,});\r\n        animation.push({method:this.unmakeNode,params:[front],explanation:`Extract data`,customEnd:true,isForwardStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        if (front && this.size > 1) {\r\n            animation.push({method:this.shiftIntoNode,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        }\r\n        animation.push({method:this.skipTempNode,params:[front],explanation:`Reset ${front ? \"head\" : \"tail\"} pointer`,quick:true,isBackStep:true,returnsUndoData:true,});\r\n        animation.push({method:this.sizeDecr,noAnim:true,});\r\n        animation.push({method:this.showText,params:[`Successfully removed ${data} from ${front ? \"front of \" : \"back of\"} deque.`, Colors.GREEN],noAnim:true,});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return data;\r\n    }\r\n\r\n    removeFirst() {\r\n        return this.remove(true);\r\n    }\r\n\r\n    removeLast() {\r\n        return this.remove(false);\r\n    }\r\n\r\n    makeNode(data,front) {\r\n        this.tempNode = new DequeLinkedListNode({data: data, index: front ? 0 : this.size, x:20,y:20,});\r\n        return [this.tempNode];\r\n    }\r\n    undo_makeNode(data) {\r\n        this.tempNode = null;\r\n    }\r\n    redo_makeNode(newTemp) {\r\n        if (typeof newTemp !== \"object\") {\r\n            return this.makeNode(...arguments);\r\n        }\r\n        this.tempNode = newTemp;\r\n    }\r\n\r\n    setTempNodeBeforeHead() {\r\n        this.tempNode.next = this.head;\r\n    }\r\n    undo_setTempNodeBeforeHead() {\r\n        this.tempNode.next = null;\r\n    }\r\n\r\n    setHeadAfterTempNode() {\r\n        this.head.prev = this.tempNode;\r\n    }\r\n    undo_setHeadAfterTempNode() {\r\n        this.head.prev = null;\r\n    }\r\n\r\n    setTempNodeAfterTail() {\r\n        this.tail.next = this.tempNode;\r\n    }\r\n    undo_setTempNodeAfterTail() {\r\n        this.tail.next = null;\r\n    }\r\n\r\n    setTailBeforeTempNode() {\r\n        this.tempNode.prev = this.tail;\r\n    }\r\n    undo_setTailBeforeTempNode() {\r\n        this.tempNode.prev = null;\r\n    }\r\n\r\n    insertTempNode(atHead) {\r\n        let oldTail = this.tail;\r\n        if (atHead) {\r\n            this.nodes.splice(0, 0, this.tempNode);\r\n            if (!oldTail) {\r\n                this.tail = this.tempNode;\r\n            }\r\n            this.head = this.tempNode;\r\n        } else {\r\n            this.nodes.splice(this.size, 0, this.tempNode);\r\n            this.tail = this.tempNode;\r\n            if (!oldTail) {\r\n                this.head = this.tempNode;\r\n            }\r\n        }\r\n        return [atHead, oldTail];\r\n    }\r\n    undo_insertTempNode(atHead, oldTail) {\r\n        if (atHead) {\r\n            this.head = this.tempNode.next;\r\n            this.nodes.splice(0, 1);\r\n        } else {\r\n            this.tail = oldTail;\r\n            if (!oldTail) {\r\n                this.head = null;\r\n            }\r\n            this.nodes.splice(this.size, 1);\r\n        }\r\n    }\r\n\r\n    shiftNewHead() {\r\n        this.tempNode.shift(...this.getNodePosition(0));\r\n        this.tempNode = null;\r\n    }\r\n    undo_shiftNewHead() {\r\n        this.tempNode = this.nodes[0];\r\n        this.tempNode.shift(20,20);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n    redo_shiftNewHead() {\r\n        this.tempNode.shift(...this.getNodePosition(0));\r\n        let temp = this.tempNode;\r\n        let stopID = ++this.stopID;\r\n        temp.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n\r\n    shiftNewTail() {\r\n        this.tempNode.shift(...this.getNodePosition(this.size));\r\n        this.tempNode.addOnStop((element) => {\r\n            this.doneAnimating(0);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n    undo_shiftNewTail() {\r\n        this.tempNode = this.tail;\r\n        this.tempNode.shift(20,20);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n    redo_shiftNewTail() {\r\n        this.tempNode.shift(...this.getNodePosition(this.size));\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n\r\n    markNodeForDeletion(front) {\r\n        (front ? this.head : this.tail).markForDeletion();\r\n    }\r\n    undo_markNodeForDeletion(front) {\r\n        (front ? this.head : this.tail).unhighlight();\r\n    }\r\n\r\n    unmakeNode(front) {\r\n        this.tempNode = this.nodes.splice(front ? 0 : (this.size - 1), 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        this.tempNode.addOnStop(() => {\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n    undo_unmakeNode(front) {\r\n        this.tempNode.shift(...this.getNodePosition(front ? 0 : (this.size - 1)));\r\n        this.nodes.splice(front ? 0 : (this.size - 1), 0, this.tempNode);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n    redo_unmakeNode(front) {\r\n        this.tempNode = this.nodes.splice(front ? 0 : (this.size - 1), 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n\r\n    skipTempNode(front) {\r\n        let oldTemp = this.tempNode;\r\n        if (front) {\r\n            this.head = this.head.next;\r\n            if (this.head) {\r\n                this.head.prev = null;\r\n            }\r\n        } else {\r\n            this.tail = this.tail.prev;\r\n            if (this.tail) {\r\n                this.tail.next = null;\r\n            }\r\n        }\r\n        if (!this.head || !this.tail) {\r\n            this.head = this.tail = null;\r\n        }\r\n        this.tempNode = null;\r\n        return [front,oldTemp, this.head === null || this.tail === null];\r\n    }\r\n    undo_skipTempNode(front,oldTemp, noData) {\r\n        this.tempNode = oldTemp;\r\n        if (front) {\r\n            this.tempNode.next = this.head;\r\n            if (this.head) {\r\n                this.head.prev = this.tempNode;\r\n            }\r\n            this.head = this.tempNode;\r\n        } else {\r\n            this.tempNode.prev = this.tail;\r\n            if (this.tail) {\r\n                this.tail.next = this.tempNode;\r\n            }\r\n            this.tail = this.tempNode;\r\n        }\r\n        if (noData) {\r\n            this.head = this.tail = this.tempNode;\r\n        }\r\n        this.tempNode.markForDeletion();\r\n    }\r\n\r\n    shiftHeadForNode() {\r\n        let node = this.head;\r\n        let furthest = node;\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            if (node.displacement() > furthest.displacement()) {\r\n                furthest = node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (furthest) {\r\n            furthest.addOnStop(() => {\r\n                this.doneAnimating(0);\r\n            });\r\n        }\r\n    }\r\n    undo_shiftHeadForNode() {\r\n        let node = this.head;\r\n        let furthest = node;\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            if (node.displacement() > furthest.displacement()) {\r\n                furthest = node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (furthest) {\r\n            let stopID = ++this.stopID;\r\n            furthest.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n        }\r\n    }\r\n    redo_shiftHeadForNode() {\r\n        let node = this.head;\r\n        let furthest = node;\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            if (node.displacement() > furthest.displacement()) {\r\n                furthest = node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (furthest) {\r\n            let stopID = ++this.stopID;\r\n            furthest.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n        }\r\n    }\r\n\r\n    shiftIntoNode() {\r\n        let node = this.head.next;\r\n        let furthest = node;\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            if (node.displacement() > furthest.displacement()) {\r\n                furthest = node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (furthest) {\r\n            furthest.addOnStop((element) => {\r\n                this.doneAnimating(0);\r\n            });\r\n        }\r\n    }\r\n    undo_shiftIntoNode() {\r\n        let node = this.head.next;\r\n        let furthest = node;\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            if (node.displacement() > furthest.displacement()) {\r\n                furthest = node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (furthest) {\r\n            let stopID = ++this.stopID;\r\n            furthest.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n        }\r\n    }\r\n    redo_shiftIntoNode() {\r\n        let node = this.head.next;\r\n        let furthest = node;\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            if (node.displacement() > furthest.displacement()) {\r\n                furthest = node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (furthest) {\r\n            let stopID = ++this.stopID;\r\n            furthest.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n        }\r\n    }\r\n\r\n    shiftNode(node, direction) {\r\n        node.shift(...this.getNodePosition(node.index + direction), direction);\r\n    }\r\n    undo_shiftNode(node, direction) {\r\n        // console.log(\"undo_shiftNode\");\r\n        this.shiftNode(node, -direction);\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n    undo_sizeIncr() {\r\n        this.size--;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n    undo_sizeDecr() {\r\n        this.size++;\r\n    }\r\n\r\n    getNodePosition(index) {\r\n        let maxPerRow = Math.max(1, Math.floor(this.width / DequeLinkedList.ELEMENT_SIZE));\r\n        let x = DequeLinkedList.ELEMENT_SIZE * index;\r\n        let y = 75 + Math.floor(index / maxPerRow) * 2 * DequeLinkedList.ELEMENT_HEIGHT;\r\n        x = (index % maxPerRow) * DequeLinkedList.ELEMENT_SIZE;\r\n        return [x + this.x,y + this.y];\r\n    }\r\n\r\n    getNodeAtPos(x,y) {\r\n        let node = this.head;\r\n        while (node) {\r\n            if (node.containsPos(x,y)) {\r\n                return node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode && this.tempNode.containsPos(x,y)) {\r\n            return this.tempNode;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    getTailY() {\r\n        return this.getNodePosition(this.size)[1] + DequeLinkedList.ELEMENT_HEIGHT + DequeLinkedList.HEAD_TAIL_SIZE;\r\n    }\r\n\r\n    pin(node, x,y) {\r\n        this.pinnedNode = node;\r\n        node.pin(x,y);\r\n    }\r\n\r\n    unpin() {\r\n        this.pinnedNode.unpin();\r\n        this.pinnedNode = null;\r\n    }\r\n\r\n    updateNode(node, animationSpeed, p5) {\r\n        node.update(animationSpeed, p5);\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            let node = this.head;\r\n            while (node) {\r\n                this.updateNode(node, animationSpeed, p5);\r\n                node = node.next;\r\n            }\r\n            if (this.tempNode) {\r\n                this.updateNode(this.tempNode, animationSpeed, p5);\r\n            }\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        // console.log(\"draw\");\r\n        super.draw(p5);\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_WIDTH/3 - 2);\r\n\r\n        p5.noFill();\r\n        p5.stroke(0);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        let headY = 20;\r\n        p5.text(\"Head:\",95-5,headY,DequeLinkedList.HEAD_TAIL_SIZE + 10,DequeLinkedList.HEAD_TAIL_SIZE);\r\n        p5.square(DequeLinkedList.HEAD_TAIL_X,headY,DequeLinkedList.HEAD_TAIL_SIZE);\r\n        if (this.head) {\r\n            p5.stroke(Colors.BLUE);\r\n            p5.fill(Colors.BLUE);\r\n            p5.circle(DequeLinkedList.HEAD_TAIL_X + DequeLinkedList.HEAD_TAIL_SIZE / 2, headY + DequeLinkedList.HEAD_TAIL_SIZE / 2, 5);\r\n            p5.line(DequeLinkedList.HEAD_TAIL_X + DequeLinkedList.HEAD_TAIL_SIZE / 2, headY + DequeLinkedList.HEAD_TAIL_SIZE / 2, this.head.currentX + DequeLinkedList.ITEM_WIDTH / 2, this.head.currentY);\r\n            p5.rect(this.head.currentX + DequeLinkedList.ITEM_WIDTH / 2 - 3, this.head.currentY - 3, 6,6);\r\n        } else {\r\n            p5.line(DequeLinkedList.HEAD_TAIL_X,headY,DequeLinkedList.HEAD_TAIL_X + DequeLinkedList.HEAD_TAIL_SIZE,headY + DequeLinkedList.HEAD_TAIL_SIZE);\r\n        }\r\n        p5.noFill();\r\n        p5.stroke(0);\r\n        let tailY = this.getTailY();\r\n        p5.text(\"Tail:\",95,tailY,DequeLinkedList.HEAD_TAIL_SIZE,DequeLinkedList.HEAD_TAIL_SIZE);\r\n        p5.square(DequeLinkedList.HEAD_TAIL_X,tailY,DequeLinkedList.HEAD_TAIL_SIZE);\r\n        if (this.tail) {\r\n            p5.stroke(Colors.BLUE);\r\n            p5.fill(Colors.BLUE);\r\n            p5.circle(DequeLinkedList.HEAD_TAIL_X + DequeLinkedList.HEAD_TAIL_SIZE / 2, tailY + DequeLinkedList.HEAD_TAIL_SIZE / 2, 5);\r\n            p5.line(DequeLinkedList.HEAD_TAIL_X + DequeLinkedList.HEAD_TAIL_SIZE / 2, tailY + DequeLinkedList.HEAD_TAIL_SIZE / 2, this.tail.currentX + DequeLinkedList.ITEM_WIDTH / 2, this.tail.currentY + DequeLinkedList.ELEMENT_HEIGHT);\r\n            p5.rect(this.tail.currentX + DequeLinkedList.ITEM_WIDTH / 2 - 3, this.tail.currentY + DequeLinkedList.ELEMENT_HEIGHT - 3, 6,6);\r\n        } else {\r\n            p5.line(DequeLinkedList.HEAD_TAIL_X,tailY,DequeLinkedList.HEAD_TAIL_X + DequeLinkedList.HEAD_TAIL_SIZE,tailY + DequeLinkedList.HEAD_TAIL_SIZE);\r\n        }\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.draw(p5, node.next === this.head);\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode) {\r\n            this.tempNode.draw(p5);\r\n        }\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    mousePressed(p5) {\r\n        // this.drawingBeforeMouseDown = this.drawing;\r\n        let pressedNode = this.getNodeAtPos(p5.mouseX, p5.mouseY);\r\n        if (pressedNode) {\r\n            this.animator.loop();\r\n            this.pin(pressedNode, p5.mouseX,p5.mouseY);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    mouseReleased(p5) {\r\n        if (this.pinnedNode) {\r\n            this.pinnedNode.addOnStop(() => {\r\n                this.ensureDrawn();\r\n            });\r\n            this.unpin();\r\n        } else {\r\n            // this.ensureDrawn();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, this.getTailY() + DequeLinkedList.HEAD_TAIL_SIZE + 20,() => {\r\n            let shiftTemp = this.tempNode && this.tempNode.desiredX === 20 && this.tempNode.desiredY === 20;\r\n            let node = this.head;\r\n            while (node) {\r\n                node.shift(...this.getNodePosition(node.index));\r\n                node = node.next;\r\n            }\r\n            if (shiftTemp) {\r\n                this.tempNode.shift(20,20);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\nclass DequeLinkedListNode extends AttractedDraggableObject {\r\n    static CAN_DRAG = true;\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        this.data = data;\r\n        this.index = index;\r\n        this.next = null;\r\n        this.prev = null;\r\n\r\n        this.toDelete = false;\r\n        this.handBroken = false;\r\n        this.frozen = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    containsPos(x,y) {\r\n        return ((this.currentX <= x && x <= (this.currentX + DequeLinkedList.ITEM_WIDTH)) && (this.currentY <= y && y <= (this.currentY + DequeLinkedList.ELEMENT_HEIGHT)))\r\n    }\r\n\r\n    highlight() {\r\n        this.color = [255,165,0];\r\n    }\r\n\r\n    unhighlight() {\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        this.color[0] = 255;\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    draw(p5) {\r\n        p5.push();\r\n        p5.fill(255);\r\n        p5.stroke(...this.color);\r\n        p5.rect(this.currentX, this.currentY, DequeLinkedList.ITEM_WIDTH, DequeLinkedList.ELEMENT_HEIGHT);\r\n        p5.line(this.currentX + DequeLinkedList.POINTER_WIDTH, this.currentY, this.currentX + DequeLinkedList.POINTER_WIDTH, this.currentY + DequeLinkedList.ELEMENT_HEIGHT);\r\n        p5.line(this.currentX + DequeLinkedList.POINTER_WIDTH + DequeLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + DequeLinkedList.POINTER_WIDTH + DequeLinkedList.ELEMENT_WIDTH, this.currentY + DequeLinkedList.ELEMENT_HEIGHT);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.text(this.data.toString(), this.currentX + DequeLinkedList.POINTER_WIDTH,this.currentY, DequeLinkedList.ELEMENT_WIDTH,DequeLinkedList.ELEMENT_HEIGHT);\r\n        if (this.prev) {\r\n            p5.stroke(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.fill(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.circle(this.currentX + DequeLinkedList.POINTER_WIDTH / 2, this.currentY + DequeLinkedList.ELEMENT_HEIGHT *2/3, 5);\r\n            p5.line(this.currentX + DequeLinkedList.POINTER_WIDTH / 2, this.currentY + DequeLinkedList.ELEMENT_HEIGHT *2/3, this.prev.currentX + DequeLinkedList.ITEM_WIDTH, this.prev.currentY + DequeLinkedList.ELEMENT_HEIGHT *2/3)\r\n            p5.rect(this.prev.currentX + DequeLinkedList.ITEM_WIDTH - 3, this.prev.currentY + DequeLinkedList.ELEMENT_HEIGHT *2/3 - 3, 6,6);\r\n        } else {\r\n            p5.line(this.currentX, this.currentY, this.currentX + DequeLinkedList.POINTER_WIDTH, this.currentY + DequeLinkedList.ELEMENT_HEIGHT);\r\n        }\r\n        if (this.next) {\r\n            p5.stroke(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.fill(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.circle(this.currentX + DequeLinkedList.ITEM_WIDTH - DequeLinkedList.POINTER_WIDTH / 2, this.currentY + DequeLinkedList.ELEMENT_HEIGHT / 3, 5);\r\n            p5.line(this.currentX + DequeLinkedList.ITEM_WIDTH - DequeLinkedList.POINTER_WIDTH / 2, this.currentY + DequeLinkedList.ELEMENT_HEIGHT / 3, this.next.currentX, this.next.currentY + DequeLinkedList.ELEMENT_HEIGHT / 3)\r\n            p5.rect(this.next.currentX - 3, this.next.currentY + DequeLinkedList.ELEMENT_HEIGHT / 3 - 3, 6,6);\r\n        } else {\r\n            p5.stroke(...this.color);\r\n            p5.line(this.currentX + DequeLinkedList.POINTER_WIDTH + DequeLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + DequeLinkedList.ITEM_WIDTH, this.currentY + DequeLinkedList.ELEMENT_HEIGHT);\r\n        }\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nimport { TreeNode, TrackingHighlighter, AttractedHighlightableObject } from 'animation';\r\nimport { Colors } from 'utils';\r\n\r\nexport default class BST extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static CAN_DRAG = true;\r\n    static SUPPORTS_NO_LOOP = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n    static SUPPORTS_TEXT = true;\r\n    static SUPPORTS_ANIMATION_CONTROL = true;\r\n    static SUPPORTS_STOP_ID = true;\r\n    static SUPPORTS_INFREQUENT_RESIZE = true;\r\n    static HAS_MIN_WIDTH = true;\r\n\r\n    static ELEMENT_SIZE = 40;\r\n    static VERTICAL_SPACING = 7.5;\r\n    static HORIZONTAL_SPACING = -17.5;\r\n\r\n    static ROOT_SIZE = 25;\r\n    static ROOT_X_MIN = 50;\r\n    static ROOT_X_OFFSET = -40;\r\n    static ROOT_Y = 20;\r\n    static ROOT_HIGHLIGHT_DIAMETER = 10;\r\n\r\n    reset() {\r\n        super.reset(() => {\r\n            this.root = null;\r\n            this.size = 0;\r\n            this.predSuccMode = this.predSuccMode !== undefined ? this.predSuccMode : true;\r\n            this.tempNode = null;\r\n            this.pinnedNode = null;\r\n            this.highlighter = new TrackingHighlighter(null, this.constructor.ELEMENT_SIZE/2, {\r\n                highlightInnerRadius: this.constructor.ELEMENT_SIZE/2\r\n            });\r\n            this.rootPointerPos = {currentX: this.getRootPointerX() + this.constructor.ROOT_SIZE / 2 - this.constructor.ROOT_HIGHLIGHT_DIAMETER / 2, currentY: this.constructor.ROOT_Y + this.constructor.ROOT_SIZE / 2 - this.constructor.ROOT_HIGHLIGHT_DIAMETER / 2};\r\n        });\r\n\r\n    }\r\n\r\n    mostDisplacedRecursive(curr) {\r\n        if (curr) {\r\n            let left = this.mostDisplacedRecursive(curr.left) || curr;\r\n            let right = this.mostDisplacedRecursive(curr.right) || curr;\r\n            return [left, curr, right].sort((a,b) => b.displacement() - a.displacement())[0];\r\n        }\r\n        return null;\r\n    }\r\n\r\n    stopNodesRecursive(curr) {\r\n        if (curr) {\r\n            curr.stop();\r\n            curr.left && curr.left.stop();\r\n            curr.right && curr.right.stop();\r\n        }\r\n    }\r\n\r\n    ensureDrawn(skipDraw = false) {\r\n        this.beginDrawLoop();\r\n        let maxNode = this.highlighter;\r\n        if (this.tempNode && this.tempNode.displacement() > maxNode.displacement()) {\r\n            maxNode = this.tempNode;\r\n        }\r\n        if (this.dataMover && this.dataMover.displacement() > maxNode.displacement()) {\r\n            maxNode = this.dataMover;\r\n        }\r\n        let furthestTreeNode = this.mostDisplacedRecursive(this.root);\r\n        if (furthestTreeNode && furthestTreeNode.displacement() > maxNode.displacement()) {\r\n            maxNode = furthestTreeNode;\r\n        }\r\n        if (maxNode && maxNode.displacement() > 0) {\r\n            let stopID = ++this.stopID;\r\n            maxNode.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n            if (skipDraw) {\r\n                this.stopNodesRecursive(this.root);\r\n                if (this.tempNode) {\r\n                    this.tempNode.stop();\r\n                }\r\n                if (this.dataMover) {\r\n                    this.dataMover.stop();\r\n                }\r\n                this.highlighter.stop();\r\n            }\r\n        } else {\r\n            let stopID = ++this.stopID;\r\n            this.stopDrawing(stopID);\r\n        }\r\n    }\r\n\r\n\r\n    insert(data) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot add null to BST.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        animation.push({method:this.showText,params:[`Attempt add: ${data} to BST`],noAnim:true});\r\n        animation.push({method:this.setHighlighter,params:[this.rootPointerPos],customEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n        animation.push({method:this.showText,params:[`Searching tree for value: ${data}`],quick:true,isForwardStep:true,customRedoEnd:true});\r\n        let [ recurredAnimation, newRoot, nodeJustAdded, added ] = this.insertRecursive(this.root, data);\r\n        animation.push(...recurredAnimation);\r\n        animation.push({method:this.setHighlighter,params:[this.rootPointerPos],customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n        animation.push({method:this.setRoot,params:[newRoot],explanation:`${this.root ? \"Res\" : \"S\"}et root pointer to node containing ${newRoot.data}`,quick:true,isForwardStep:true,returnsUndoData:true,customRedoEnd:true});\r\n        if (nodeJustAdded) {\r\n            animation.push({method:this.shiftByInOrder,testsWindowSize:true,explanation:`Add node:${data} to root of tree`,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true});\r\n        }\r\n        animation.push({method:this.setHighlighter,params:[null],noAnim:true,isBackStep:true,customUndoEnd:true,returnsUndoData:true,});\r\n        animation.push({method:this.clearTemp,noAnim:true,returnsUndoData:true,});\r\n        if (added) {\r\n            animation.push({method:this.showText,params:[`Successfully inserted ${data} into BST.`, Colors.GREEN],noAnim:true});\r\n        } else {\r\n            animation.push({method:this.showText,params:[`Failed to insert duplicate ${data} into BST.`, Colors.RED],noAnim:true});\r\n        }\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return true;\r\n    }\r\n\r\n    delete(data) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot remove null from BST.\", Colors.RED);\r\n            return false;\r\n        }\r\n        if (this.size === 0) {\r\n            this.updateText(\"Cannot delete from empty BST\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        animation.push({method:this.showText,params:[`Attempt delete: ${data} to BST`],noAnim:true});\r\n        animation.push({method:this.setHighlighter,params:[this.rootPointerPos],customEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n        animation.push({method:this.showText,params:[`Searching tree for value: ${data}`],quick:true,isForwardStep:true,customRedoEnd:true});\r\n        let [ recurredAnimation, newRoot, nodeJustDeleted, deleted ] = this.deleteRecursive(this.root, data);\r\n        animation.push(...recurredAnimation);\r\n        animation.push({method:this.setHighlighter,params:[this.rootPointerPos],customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n        animation.push({method:this.setRoot,params:[newRoot],explanation:`${this.root ? \"Res\" : \"S\"}et root pointer to ${newRoot ? `node containing ${newRoot.data}` : \"null\"}`,quick:true,isForwardStep:true,returnsUndoData:true,customRedoEnd:true});\r\n        if (nodeJustDeleted) {\r\n            animation.push({method:this.clearTemp,noAnim:true,returnsUndoData:true,});\r\n            animation.push({method:this.shiftByInOrder,testsWindowSize:true,explanation:`Remove node:${data} from root of tree`,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true});\r\n        }\r\n        animation.push({method:this.setHighlighter,params:[null],noAnim:true,isBackStep:true,customUndoEnd:true,returnsUndoData:true,});\r\n        if (deleted) {\r\n            animation.push({method:this.showText,params:[`Successfully deleted ${data} from BST.`, Colors.GREEN],noAnim:true});\r\n        } else {\r\n            animation.push({method:this.showText,params:[`Failed to delete ${data} from BST.`, Colors.RED],noAnim:true});\r\n        }\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return true;\r\n    }\r\n\r\n    find(data) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot search for null in BST.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        animation.push({method:this.showText,params:[`Search for ${data} in BST`],noAnim:true});\r\n        animation.push({method:this.setHighlighter,params:[this.rootPointerPos],customEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n        animation.push({method:this.showText,params:[`Searching tree for value: ${data}`],quick:true,isForwardStep:true,customRedoEnd:true});\r\n        let [ recurredAnimation ] = this.findRecursive(this.root, data);\r\n        animation.push(...recurredAnimation);\r\n        animation.push({method:this.setHighlighter,params:[null],noAnim:true,customUndoEnd:true,returnsUndoData:true,});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return true;\r\n    }\r\n\r\n    print() {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (this.size === 0) {\r\n            this.updateText(\"Cannot print in order for empty BST.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        animation.push({method:this.showText,params:[`Print BST in order`],noAnim:true});\r\n        animation.push({method:this.setHighlighter,params:[this.rootPointerPos],customEnd:true,customRedoEnd:true,returnsUndoData:true,isForwardStep:true});\r\n        let inOrder = [];\r\n        let [ recurredAnimation ] = this.printInOrderRecursive(this.root, inOrder);\r\n        animation.push(...recurredAnimation);\r\n        animation.push({method:this.setHighlighter,params:[null],noAnim:true,customUndoEnd:true,returnsUndoData:true,isBackStep:true,});\r\n        animation.push({method:this.showText,params:[`[${inOrder.join(\",    \")}]`],quick:true});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return true;\r\n    }\r\n\r\n    togglePredecessorSuccessor(which) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        let animation = [];\r\n        animation.push({method:this.switchMode,params:[which],explanation:`Switching BST modes`,quick:true});\r\n        animation.push({method:this.showText,params:[`Successfully changed to ${which} mode.`, Colors.GREEN],noAnim:true});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return true;\r\n    }\r\n\r\n\r\n    setRoot(newRoot) {\r\n        let oldRoot = this.root;\r\n        this.root = newRoot;\r\n        return [oldRoot];\r\n    }\r\n    undo_setRoot(oldRoot) {\r\n        this.root = oldRoot;\r\n    }\r\n\r\n    setLeft(parent, newLeft) {\r\n        let oldLeft = parent.left;\r\n        parent.left = newLeft;\r\n        return [parent, oldLeft];\r\n    }\r\n    undo_setLeft(parent, oldLeft) {\r\n        parent.left = oldLeft;\r\n    }\r\n\r\n    setRight(parent, newRight) {\r\n        let oldRight = parent.right;\r\n        parent.right = newRight;\r\n        return [parent, oldRight];\r\n    }\r\n    undo_setRight(parent, oldRight) {\r\n        parent.right = oldRight;\r\n    }\r\n\r\n    setHighlighter(node,color = Colors.BLUE) {\r\n        let oldTarget = this.highlighter.target;\r\n        let oldColor = this.highlighter.highlightColor;\r\n        this.highlighter.setTarget(node, node === this.rootPointerPos ? this.constructor.ROOT_HIGHLIGHT_DIAMETER/2 : this.constructor.ELEMENT_SIZE/2);\r\n        this.highlighter.highlightColor = color;\r\n        if (node) {\r\n            this.highlighter.addOnStop((highlighter) => {\r\n                this.doneAnimating(0, \"setHighlighter\"+(node ? node.data : \"\"));\r\n            });\r\n        }\r\n        return [oldTarget, oldColor];\r\n    }\r\n    undo_setHighlighter(oldTarget, oldColor) {\r\n        this.highlighter.setTarget(oldTarget, oldTarget === this.rootPointerPos ? this.constructor.ROOT_HIGHLIGHT_DIAMETER/2 : this.constructor.ELEMENT_SIZE/2);\r\n        this.highlighter.highlightColor = oldColor;\r\n        if (oldTarget) {\r\n            let stopID = ++this.stopID;\r\n            this.highlighter.addOnStop((highlighter) => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n        }\r\n    }\r\n    redo_setHighlighter(node, color = Colors.BLUE) {\r\n        let oldTarget = this.highlighter.target;\r\n        let oldColor = this.highlighter.highlightColor;\r\n        this.highlighter.setTarget(node, node === this.rootPointerPos ? this.constructor.ROOT_HIGHLIGHT_DIAMETER/2 : this.constructor.ELEMENT_SIZE/2);\r\n        this.highlighter.highlightColor = color;\r\n        if (node) {\r\n            let stopID = ++this.stopID;\r\n            this.highlighter.addOnStop((highlighter) => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n        }\r\n        return [oldTarget, oldColor];\r\n    }\r\n\r\n    getInOrder() {\r\n        return this.getInOrderRecursive(this.root, 0, []);\r\n    }\r\n    getInOrderRecursive(curr, depth, list) {\r\n        if (curr) {\r\n            this.getInOrderRecursive(curr.left, depth + 1, list);\r\n            curr.depth = depth;\r\n            list.push(curr);\r\n            this.getInOrderRecursive(curr.right, depth + 1, list);\r\n        }\r\n        return list;\r\n    }\r\n\r\n    shiftByInOrder() {\r\n        let order = this.getInOrder();\r\n        let oldPositions = order.map(node => [node.desiredX - ((this.width - this.constructor.ELEMENT_SIZE)/2),node.desiredY]);\r\n        let centerIndex = order.indexOf(this.root);\r\n        let displaced = null;\r\n        // console.log(centerIndex);\r\n        order.forEach((node, i) => {\r\n            // console.log(node.data,\":\",i - centerIndex, ((this.width - this.constructor.ELEMENT_SIZE)/2), node.constructor.HSPACE);\r\n            node.shiftX(((this.width - this.constructor.ELEMENT_SIZE)/2) + (i - centerIndex) * node.constructor.HSPACE);\r\n            node.setY(this.getNodeY(node.depth));\r\n            if ((!displaced && node.displacement()) || (displaced && node.displacement() > displaced.displacement())) {\r\n                displaced = node;\r\n            }\r\n        });\r\n        if (!displaced) {\r\n            this.doneAnimating(0, \"shift by order none displaced\");\r\n        } else {\r\n            displaced.addOnStop((element) => {\r\n                this.doneAnimating(0, \"shift by order:end with \"+element.data);\r\n            });\r\n        }\r\n        return [order, oldPositions];\r\n    }\r\n    undo_shiftByInOrder(order, oldPositions) {\r\n        let stopID = ++this.stopID;\r\n        if (order) {\r\n            // console.log(oldPositions);\r\n            let displaced = null;\r\n            order.forEach((node, i) => {\r\n                node.shift(((this.width - this.constructor.ELEMENT_SIZE)/2) + oldPositions[i][0], oldPositions[i][1]);\r\n                if ((!displaced && node.displacement()) || (displaced && node.displacement() > displaced.displacement())) {\r\n                    node.addOnStop((element) => {\r\n                        this.stopDrawing(stopID);\r\n                    });\r\n                    displaced = node;\r\n                }\r\n            });\r\n            if (!displaced) {\r\n                this.stopDrawing(stopID);\r\n            }\r\n        } else {\r\n            this.stopDrawing(stopID);\r\n        }\r\n    }\r\n    redo_shiftByInOrder() {\r\n        let order = this.getInOrder();\r\n        let oldPositions = order.map(node => [node.desiredX - ((this.width - this.constructor.ELEMENT_SIZE)/2),node.desiredY]);\r\n        let centerIndex = order.indexOf(this.root);\r\n        let displaced = null;\r\n        // console.log(centerIndex);\r\n        order.forEach((node, i) => {\r\n            // console.log(node.data,\":\",i - centerIndex, ((this.width - this.constructor.ELEMENT_SIZE)/2), node.constructor.HSPACE);\r\n            node.shiftX(((this.width - this.constructor.ELEMENT_SIZE)/2) + (i - centerIndex) * node.constructor.HSPACE);\r\n            node.setY(this.getNodeY(node.depth));\r\n            if ((!displaced && node.displacement()) || (displaced && node.displacement() > displaced.displacement())) {\r\n                let stopID = ++this.stopID;\r\n                node.addOnStop((element) => {\r\n                    this.stopDrawing(stopID);\r\n                });\r\n                displaced = node;\r\n            }\r\n        });\r\n        if (!displaced) {\r\n            let stopID = ++this.stopID;\r\n            this.stopDrawing(stopID);\r\n        }\r\n        return [order, oldPositions];\r\n    }\r\n\r\n    insertRecursive(curr, value) {\r\n        let animation = [];\r\n        let justAdded = false;\r\n        let added = false;\r\n        animation.push({method:this.setHighlighter,params:[curr],customEnd:curr!==null,noAnim:curr===null,isBackStep:true,customUndoEnd:true,customRedoEnd:curr!==null,returnsUndoData:true});\r\n        if (!curr) {\r\n            animation.push({method:this.showText,params:[`Reached null: ${value} not found in tree`],quick:true,isForwardStep:true,});\r\n            curr = new BSTNode({data: value});\r\n            animation.push({method:this.makeNode,params:[curr],explanation:`Create value: ${value}`,quick:true,isAnimationStep:true});\r\n            animation.push({method:this.sizeIncr,noAnim:true,});\r\n            justAdded = true;\r\n            added = true;\r\n        } else if (value === curr.data) {\r\n            animation.push({method:this.showText,params:[`${value} == ${curr.data}: value found in tree`],quick:true,isForwardStep:true,customRedoEnd:true,});\r\n            animation.push({method:this.showText,params:[`${value} already in BST, failed to add.`],noAnim:true,isAnimationStep:true,});\r\n        } else if (value < curr.data) {\r\n            animation.push({method:this.showText,params:[`${value} < ${curr.data}: look to left subtree`],quick:true,isForwardStep:true,customRedoEnd:true,});\r\n            let [recurredAnimation, newLeft, nodeJustAdded, nodeAdded] = this.insertRecursive(curr.left, value);\r\n            animation.push(...recurredAnimation);\r\n            animation.push({method:this.setHighlighter,params:[curr],customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n            animation.push({method:this.setLeft,params:[curr, newLeft],explanation:`${curr.left ? \"Res\" : \"S\"}et left pointer to node containing ${newLeft.data}`,quick:true,returnsUndoData:true,isForwardStep:true,customRedoEnd:true});\r\n            if (nodeJustAdded) {\r\n                animation.push({method:this.shiftByInOrder,testsWindowSize:true,explanation:`Add node:${value} to left of node:${curr.data}`,customEnd:true,isAnimationStep:true,returnsUndoData:true});\r\n            }\r\n            added = nodeAdded;\r\n        } else if (value > curr.data) {\r\n            animation.push({method:this.showText,params:[`${value} > ${curr.data}: look to right subtree`],quick:true,isForwardStep:true,customRedoEnd:true,});\r\n            let [recurredAnimation, newRight, nodeJustAdded, nodeAdded] = this.insertRecursive(curr.right, value);\r\n            animation.push(...recurredAnimation);\r\n            animation.push({method:this.setHighlighter,params:[curr],customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n            animation.push({method:this.setRight,params:[curr, newRight],explanation:`${curr.right ? \"Res\" : \"S\"}et right pointer to node containing ${newRight.data}`,quick:true,returnsUndoData:true,isForwardStep:true,customRedoEnd:true,});\r\n            if (nodeJustAdded) {\r\n                animation.push({method:this.shiftByInOrder,testsWindowSize:true,explanation:`Add node:${value} to right of node:${curr.data}`,customEnd:true,isAnimationStep:true,returnsUndoData:true});\r\n            }\r\n            added = nodeAdded;\r\n        }\r\n        return [animation, curr, justAdded, added];\r\n    }\r\n\r\n    makeNode(newTemp) {\r\n        this.tempNode = newTemp;\r\n        this.tempNode.goTo(20,20);\r\n    }\r\n    undo_makeNode(data, parent) {\r\n        this.tempNode = null;\r\n    }\r\n\r\n    deleteRecursive(curr, value) {\r\n        let animation = [];\r\n        let justDeleted = false;\r\n        let deleted = false;\r\n        animation.push({method:this.setHighlighter,params:[curr],customEnd:curr!==null,noAnim:curr===null,isBackStep:true,customUndoEnd:true,customRedoEnd:curr!==null,returnsUndoData:true});\r\n        if (!curr) {\r\n            animation.push({method:this.showText,params:[`Reached null: ${value} not found in tree`],quick:true,isForwardStep:true,});\r\n        } else if (value === curr.data) {\r\n            animation.push({method:this.showText,params:[`${value} == ${curr.data}: value found in tree`],isForwardStep:true,customRedoEnd:true,});\r\n            // animation.push({method:this.showText,params:[`Deleting ${value} from BST.`],noAnim:true,isAnimationStep:true,});\r\n            if (!curr.left || !curr.right) {\r\n                if (!curr.left && !curr.right) {\r\n                    animation.push({method:this.unmakeNode,params:[curr],explanation:`Remove leaf node:${value} from BST`,customEnd:true,isAnimationStep:true,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true});\r\n                    curr = null;\r\n                } else {\r\n                    animation.push({method:this.unmakeNode,params:[curr],explanation:`Replace node:${value} with single child:${curr.left ? curr.left.data : curr.right.data}`,customEnd:true,isAnimationStep:true,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true});\r\n                    curr = curr.left || curr.right;\r\n                }\r\n                animation.push({method:this.setHighlighter,params:[null],customUndoEnd:true,returnsUndoData:true,});\r\n                justDeleted = true;\r\n            } else {\r\n                animation.push({method:this.showText,params:[`2 children: finding ${this.predSuccMode ? \"predecessor\" : \"successor\"}`],quick:true,customRedoEnd:true,});\r\n                // console.log([`find${this.predSuccMode ? \"Predecessor\" : \"Successor\"}Recursive`], this[`find${this.predSuccMode ? \"Predecessor\" : \"Successor\"}Recursive`], [`${this.predSuccMode ? \"left\" : \"right\"}`]);\r\n                let [recurredAnimation, newChild, justFoundPredSucc, predSuccValue] = this[`find${this.predSuccMode ? \"Predecessor\" : \"Successor\"}Recursive`](curr[`${this.predSuccMode ? \"left\" : \"right\"}`]);\r\n                animation.push(...recurredAnimation);\r\n                animation.push({method:this.setHighlighter,params:[curr],customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n                animation.push({method:this[`set${this.predSuccMode ? \"Left\" : \"Right\"}`],params:[curr,newChild],\r\n                        explanation:`${curr[`${this.predSuccMode ? \"left\" : \"right\"}`] ? \"Res\" : \"S\"}et ${this.predSuccMode ? \"left\" : \"right\"} pointer to ${newChild ? `node containing ${newChild.data}` : \"null\"}`,\r\n                        customEnd:false,quick:true,returnsUndoData:true,isForwardStep:true,customRedoEnd:true});\r\n                animation.push({method:this.pullTempDataToCurr,params:[curr],explanation:`Set curr data to dummy data from ${this.predSuccMode ? \"predecessor\" : \"successor\"}`,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n                animation.push({method:this.clearTemp,noAnim:true,returnsUndoData:true,});\r\n                if (justFoundPredSucc) {\r\n                    animation.push({method:this.shiftByInOrder,testsWindowSize:true,explanation:`Remove ${this.predSuccMode ? \"predecessor\" : \"successor\"}:${predSuccValue} of node:${curr.data}`,customEnd:true,isAnimationStep:true,returnsUndoData:true});\r\n                }\r\n            }\r\n            animation.push({method:this.sizeDecr,noAnim:true,});\r\n            deleted = true;\r\n        } else if (value < curr.data) {\r\n            animation.push({method:this.showText,params:[`${value} < ${curr.data}: look to left subtree`],quick:true,isForwardStep:true,customRedoEnd:true,});\r\n            let [recurredAnimation, newLeft, nodeJustDeleted, nodeDeleted] = this.deleteRecursive(curr.left, value);\r\n            animation.push(...recurredAnimation);\r\n            animation.push({method:this.setHighlighter,params:[curr],customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n            animation.push({method:this.setLeft,params:[curr, newLeft],explanation:`${curr.left ? \"Res\" : \"S\"}et left pointer to ${newLeft ? `node containing ${newLeft.data}` : \"null\"}`,quick:true,returnsUndoData:true,isForwardStep:true,customRedoEnd:true});\r\n            if (nodeJustDeleted) {\r\n                animation.push({method:this.clearTemp,noAnim:true,returnsUndoData:true,});\r\n                animation.push({method:this.shiftByInOrder,testsWindowSize:true,explanation:`Remove node:${value} from left of node:${curr.data}`,customEnd:true,isAnimationStep:true,returnsUndoData:true});\r\n            }\r\n            deleted = nodeDeleted;\r\n        } else if (value > curr.data) {\r\n            animation.push({method:this.showText,params:[`${value} > ${curr.data}: look to right subtree`],quick:true,isForwardStep:true,customRedoEnd:true,});\r\n            let [recurredAnimation, newRight, nodeJustDeleted, nodeDeleted] = this.deleteRecursive(curr.right, value);\r\n            animation.push(...recurredAnimation);\r\n            animation.push({method:this.setHighlighter,params:[curr],customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n            animation.push({method:this.setRight,params:[curr, newRight],explanation:`${curr.right ? \"Res\" : \"S\"}et right pointer to ${newRight ? `node containing ${newRight.data}` : \"null\"}`,quick:true,returnsUndoData:true,isForwardStep:true,customRedoEnd:true,});\r\n            if (nodeJustDeleted) {\r\n                animation.push({method:this.clearTemp,noAnim:true,returnsUndoData:true,});\r\n                animation.push({method:this.shiftByInOrder,testsWindowSize:true,explanation:`Remove node:${value} from right of node:${curr.data}`,customEnd:true,isAnimationStep:true,returnsUndoData:true});\r\n            }\r\n            deleted = nodeDeleted;\r\n        }\r\n        return [animation, curr, justDeleted, deleted];\r\n    }\r\n\r\n    findPredecessorRecursive(curr) {\r\n        let animation = [];\r\n        let justFound = false;\r\n        let predecessorValue = null;\r\n        animation.push({method:this.setHighlighter,params:[curr],customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true});\r\n        if (!curr.right) {\r\n            animation.push({method:this.showText,params:[`Predecessor found: ${curr.data}`],quick:true,isForwardStep:true,});\r\n            animation.push({method:this.unmakeNode,params:[curr],explanation:`${curr.left ? `Replace predecessor with left child:${curr.left.data}` : `Remove predecessor`}`,customEnd:true,isAnimationStep:true,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true});\r\n            animation.push({method:this.setHighlighter,params:[null],customUndoEnd:true,returnsUndoData:true,});\r\n            // animation.push({method:this.setRight,params:[curr, null],noAnim:true,returnsUndoData:true,isForwardStep:true,customRedoEnd:true,});\r\n            predecessorValue = curr.data;\r\n            curr = curr.left;\r\n            justFound = true;\r\n        } else {\r\n            animation.push({method:this.showText,params:[`Node ${curr.data} has right child, look right for successor`],quick:true,isForwardStep:true,customRedoEnd:true,});\r\n            let [recurredAnimation, newRight, justFoundPredSucc, predValue] = this.findPredecessorRecursive(curr.right);\r\n            animation.push(...recurredAnimation);\r\n            animation.push({method:this.setHighlighter,params:[curr],customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n            animation.push({method:this.setRight,params:[curr,newRight],explanation:`Reset right pointer to ${newRight ? `node containing ${newRight.data}` : \"null\"}`,quick:true,returnsUndoData:true,isForwardStep:true,customRedoEnd:true});\r\n            // animation.push({method:this.pullTempDataToCurr,params:[curr],customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n            // animation.push({method:this.clearTemp,noAnim:true,returnsUndoData:true,});\r\n            if (justFoundPredSucc) {\r\n                animation.push({method:this.shiftByInOrder,testsWindowSize:true,explanation:`Remove predecessor:${predValue} of node:${curr.data}`,customEnd:true,isAnimationStep:true,returnsUndoData:true});\r\n            }\r\n            predecessorValue = predValue;\r\n        }\r\n        return [animation, curr, justFound, predecessorValue];\r\n    }\r\n\r\n    findSuccessorRecursive(curr) {\r\n        let animation = [];\r\n        let justFound = false;\r\n        let successorValue = null;\r\n        animation.push({method:this.setHighlighter,params:[curr],customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true});\r\n        if (!curr.left) {\r\n            animation.push({method:this.showText,params:[`Successor found: ${curr.data}`],quick:true,isForwardStep:true,});\r\n            animation.push({method:this.unmakeNode,params:[curr],explanation:`${curr.right ? `Replace successor with right child:${curr.right.data}` : `Remove successor`}`,customEnd:true,isAnimationStep:true,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true});\r\n            animation.push({method:this.setHighlighter,params:[null],customUndoEnd:true,returnsUndoData:true,});\r\n            // animation.push({method:this.setRight,params:[curr, null],noAnim:true,returnsUndoData:true,isForwardStep:true,customRedoEnd:true,});\r\n            successorValue = curr.data;\r\n            curr = curr.right;\r\n            justFound = true;\r\n        } else {\r\n            animation.push({method:this.showText,params:[`Node ${curr.data} has left child, look left for successor`],quick:true,isForwardStep:true,customRedoEnd:true,});\r\n            let [recurredAnimation, newLeft, justFoundPredSucc, succValue] = this.findSuccessorRecursive(curr.left);\r\n            animation.push(...recurredAnimation);\r\n            animation.push({method:this.setHighlighter,params:[curr],customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n            animation.push({method:this.setLeft,params:[curr,newLeft],explanation:`Reset left pointer to ${newLeft ? `node containing ${newLeft.data}` : \"null\"}`,quick:true,returnsUndoData:true,isForwardStep:true,customRedoEnd:true});\r\n            // animation.push({method:this.pullTempDataToCurr,params:[curr],customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n            // animation.push({method:this.clearTemp,noAnim:true,returnsUndoData:true,});\r\n            if (justFoundPredSucc) {\r\n                animation.push({method:this.shiftByInOrder,testsWindowSize:true,explanation:`Remove successor:${succValue} of node:${curr.data}`,customEnd:true,isAnimationStep:true,returnsUndoData:true});\r\n            }\r\n            successorValue = succValue;\r\n        }\r\n        return [animation, curr, justFound, successorValue];\r\n    }\r\n\r\n    unmakeNode(node) {\r\n        this.tempNode = node;\r\n        let oldPosition = [node.desiredX, node.desiredY];\r\n        this.tempNode.shift(20,20);\r\n        this.tempNode.addOnStop((element) => {\r\n            // element.frozen = true;\r\n            this.doneAnimating(0, \"unmake\"+element.data);\r\n        });\r\n        return [oldPosition];\r\n    }\r\n    undo_unmakeNode(oldPosition) {\r\n        // this.tempNode.frozen = false;\r\n        this.tempNode.shift(...oldPosition);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n    redo_unmakeNode(node) {\r\n        this.tempNode = node;\r\n        let oldPosition = [node.desiredX, node.desiredY];\r\n        this.tempNode.shift(20,20);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop((element) => {\r\n            // element.frozen = true;\r\n            this.stopDrawing(stopID);\r\n        });\r\n        return [oldPosition];\r\n    }\r\n\r\n    pullTempDataToCurr(node) {\r\n        this.dataMover = new AttractedHighlightableObject(20+this.constructor.ELEMENT_SIZE/2,20+this.constructor.ELEMENT_SIZE/2,\r\n                {\r\n                    value:this.tempNode.data,\r\n                    highlightInnerRadius: this.constructor.ELEMENT_SIZE/2,\r\n                }\r\n            );\r\n        let oldData = node.data;\r\n        let nodePos = [node.currentX+this.constructor.ELEMENT_SIZE/2, node.currentY+this.constructor.ELEMENT_SIZE/2]\r\n        this.dataMover.shift(...nodePos);\r\n        this.dataMover.addOnStop((element) => {\r\n            this.doneAnimating(0,\"move data\"+element.value+\"to\"+oldData);\r\n            node.data = element.value;\r\n            this.dataMover = null;\r\n        });\r\n        return [node, oldData, nodePos];\r\n    }\r\n    undo_pullTempDataToCurr(node, oldData, nodePos) {\r\n        this.dataMover = new AttractedHighlightableObject(...nodePos,\r\n                {\r\n                    value:this.tempNode.data,\r\n                    highlightInnerRadius: this.constructor.ELEMENT_SIZE/2,\r\n                }\r\n            );\r\n        this.dataMover.shift(20+this.constructor.ELEMENT_SIZE/2,20+this.constructor.ELEMENT_SIZE/2);\r\n        node.data = oldData;\r\n        let stopID = ++this.stopID;\r\n        this.dataMover.addOnStop((element) => {\r\n            this.stopDrawing(stopID);\r\n            this.dataMover = null;\r\n        });\r\n    }\r\n    redo_pullTempDataToCurr(node) {\r\n        this.dataMover = new AttractedHighlightableObject(20+this.constructor.ELEMENT_SIZE/2,20+this.constructor.ELEMENT_SIZE/2,\r\n                {\r\n                    value:this.tempNode.data,\r\n                    highlightInnerRadius: this.constructor.ELEMENT_SIZE/2,\r\n                }\r\n            );\r\n        let oldData = node.data;\r\n        let nodePos = [node.currentX+this.constructor.ELEMENT_SIZE/2, node.currentY+this.constructor.ELEMENT_SIZE/2]\r\n        this.dataMover.shift(...nodePos);\r\n        let stopID = ++this.stopID;\r\n        this.dataMover.addOnStop((element) => {\r\n            this.stopDrawing(stopID);\r\n            node.data = element.value;\r\n            this.dataMover = null;\r\n        });\r\n        return [node, oldData, nodePos];\r\n    }\r\n\r\n    findRecursive(curr, value) {\r\n        let animation = [];\r\n        animation.push({method:this.setHighlighter,params:[curr],customEnd:curr!==null,noAnim:curr===null,isBackStep:true,customUndoEnd:true,customRedoEnd:curr!==null,returnsUndoData:true});\r\n        if (!curr) {\r\n            animation.push({method:this.showText,params:[`Reached null: ${value} not found in tree`],quick:true,isForwardStep:true,});\r\n            animation.push({method:this.showText,params:[`${value} is not in BST.`, Colors.RED],noAnim:true,isBackStep:true,});\r\n        } else if (value === curr.data) {\r\n            animation.push({method:this.showText,params:[`${value} == ${curr.data}: value found in tree`],quick:true,isForwardStep:true,customRedoEnd:true,});\r\n            animation.push({method:this.showText,params:[`${value} was found in BST.`, Colors.GREEN],noAnim:true,isBackStep:true,});\r\n        } else if (value < curr.data) {\r\n            animation.push({method:this.showText,params:[`${value} < ${curr.data}: look to left subtree`],quick:true,isForwardStep:true,customRedoEnd:true,});\r\n            let [recurredAnimation] = this.findRecursive(curr.left, value);\r\n            animation.push(...recurredAnimation);\r\n        } else if (value > curr.data) {\r\n            animation.push({method:this.showText,params:[`${value} > ${curr.data}: look to right subtree`],quick:true,isForwardStep:true,customRedoEnd:true,});\r\n            let [recurredAnimation] = this.findRecursive(curr.right, value);\r\n            animation.push(...recurredAnimation);\r\n        }\r\n        return [animation];\r\n    }\r\n\r\n    printInOrderRecursive(curr, list) {\r\n        let animation = [];\r\n        if (curr) {\r\n            animation.push({method:this.setHighlighter,params:[curr],customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true});\r\n            let [leftAnimation] = this.printInOrderRecursive(curr.left, list);\r\n            animation.push(...leftAnimation);\r\n            animation.push({method:this.setHighlighter,params:[curr],customEnd:true,isBackStep:false,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n            animation.push({method:this.setHighlighter,params:[curr, Colors.GREEN],customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n            list.push(curr.data);\r\n            animation.push({method:this.setHighlighter,params:[curr, Colors.BLUE],customEnd:true,isBackStep:false,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n            animation.push({method:this.showText,params:[`[${list.join(\",    \")}]`],noAnim:true});\r\n            let [rightAnimation] = this.printInOrderRecursive(curr.right, list);\r\n            animation.push(...rightAnimation);\r\n        }\r\n        return [animation];\r\n    }\r\n\r\n    switchMode(which) {\r\n        this.predSuccMode = which === \"Predecessor\";\r\n    }\r\n    undo_switchMode(which) {\r\n        this.predSuccMode = which !== \"Predecessor\";\r\n    }\r\n\r\n    clearTemp() {\r\n        let oldTemp = this.tempNode;\r\n        this.tempNode = null;\r\n        return [oldTemp];\r\n    }\r\n    undo_clearTemp(oldTemp) {\r\n        this.tempNode = oldTemp;\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n    undo_sizeIncr() {\r\n        this.size--;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n    undo_sizeDecr() {\r\n        this.size++;\r\n    }\r\n\r\n    getNodeY(depth) {\r\n        let y = depth * (this.constructor.ELEMENT_SIZE + this.constructor.VERTICAL_SPACING);\r\n        return y + this.y + this.constructor.ROOT_SIZE+10;\r\n    }\r\n\r\n    getTreeNodeAtPosRecursive(curr, x,y) {\r\n        if (curr) {\r\n            if (curr.containsPos(x,y)) {\r\n                return curr;\r\n            }\r\n            return this.getTreeNodeAtPosRecursive(curr.left, x,y) || this.getTreeNodeAtPosRecursive(curr.right, x,y);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    getNodeAtPos(x,y) {\r\n        if (this.tempNode && this.tempNode.containsPos(x,y)) {\r\n            return this.tempNode;\r\n        }\r\n        return this.getTreeNodeAtPosRecursive(this.root, x,y);\r\n    }\r\n\r\n    getRootPointerX() {\r\n        return Math.max(this.width / 2 - this.constructor.ROOT_SIZE - 50, this.constructor.ROOT_X_MIN);\r\n    }\r\n\r\n    getHeight() {\r\n        return this.getHeightRecursive(this.root);\r\n    }\r\n    getHeightRecursive(curr) {\r\n        if (curr) {\r\n            return Math.max(this.getHeightRecursive(curr.left),this.getHeightRecursive(curr.right)) + 1;\r\n        }\r\n        return -1;\r\n    }\r\n\r\n    getMaxY() {\r\n        return this.getNodeY(Math.max(this.getHeight(), 1)) + 20;\r\n    }\r\n\r\n    getMaxWidth() {\r\n        if (!this.root) {\r\n            return this.constructor.ROOT_SIZE + 80;\r\n        }\r\n        let order = this.getInOrder();\r\n        let centerIndex = order.indexOf(this.root);\r\n        let leftOffset = centerIndex * order[0].constructor.HSPACE;\r\n        let rightOffset = (order.length - 1 - centerIndex) * order[0].constructor.HSPACE;\r\n        return Math.max(leftOffset,rightOffset)*2+order[0].constructor.SIZE;\r\n    }\r\n\r\n    pin(node, x,y) {\r\n        this.pinnedNode = node;\r\n        node.pin(x,y);\r\n    }\r\n\r\n    unpin() {\r\n        this.pinnedNode.unpin();\r\n        this.pinnedNode = null;\r\n    }\r\n\r\n    updateNode(node, animationSpeed, p5) {\r\n        if (node) {\r\n            node.update(animationSpeed, p5);\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            this.updateNode(this.root, animationSpeed, p5);\r\n            this.updateNode(this.tempNode, animationSpeed, p5);\r\n            this.highlighter.update(animationSpeed, p5);\r\n            this.updateNode(this.dataMover, animationSpeed, p5);\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        // console.log(\"draw\");\r\n        super.draw(p5);\r\n        p5.push();\r\n        // p5.translate(this.x,this.y);\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_SIZE/3 - 2);\r\n\r\n        p5.noFill();\r\n        p5.stroke(0);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        let rootX = this.getRootPointerX();\r\n        p5.text(\"Root:\",rootX - 40,this.constructor.ROOT_Y,this.constructor.ROOT_SIZE + 10,this.constructor.ROOT_SIZE);\r\n        p5.square(rootX,this.constructor.ROOT_Y,this.constructor.ROOT_SIZE);\r\n        if (this.root) {\r\n            p5.stroke(Colors.BLUE);\r\n            p5.fill(Colors.BLUE);\r\n            p5.circle(rootX + this.constructor.ROOT_SIZE / 2, this.constructor.ROOT_Y + this.constructor.ROOT_SIZE / 2, 5);\r\n            p5.line(rootX + this.constructor.ROOT_SIZE / 2, this.constructor.ROOT_Y + this.constructor.ROOT_SIZE / 2, this.root.currentX + this.constructor.ELEMENT_SIZE / 2, this.root.currentY);\r\n            // p5.rect(this.root.currentX + this.constructor.ELEMENT_SIZE / 2 - 3, this.root.currentY - 3, 6,6);\r\n        } else {\r\n            p5.line(rootX,this.constructor.ROOT_Y,rootX + this.constructor.ROOT_SIZE,this.constructor.ROOT_Y + this.constructor.ROOT_SIZE);\r\n        }\r\n\r\n\r\n        if (this.root) {\r\n            this.root.draw(p5);\r\n        }\r\n        if (this.tempNode) {\r\n            this.tempNode.draw(p5);\r\n        }\r\n        this.highlighter.draw(p5);\r\n        if (this.dataMover) {\r\n            this.dataMover.draw(p5);\r\n        }\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    mousePressed(p5) {\r\n        // this.drawingBeforeMouseDown = this.drawing;\r\n        let pressedNode = this.getNodeAtPos(p5.mouseX, p5.mouseY);\r\n        if (pressedNode) {\r\n            this.animator.loop();\r\n            this.pin(pressedNode, p5.mouseX,p5.mouseY);\r\n            //console.log(pressedNode,`\\nleft:`,pressedNode. && pressedNode..data,`\\nright:`,pressedNode. && pressedNode..data);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    mouseReleased(p5) {\r\n        if (this.pinnedNode) {\r\n            this.pinnedNode.addOnStop(() => {\r\n                this.ensureDrawn();\r\n            });\r\n            this.unpin();\r\n        } else {\r\n            // this.ensureDrawn();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, this.getMaxY(),() => {\r\n            this.rootPointerPos.currentX = this.getRootPointerX() + this.constructor.ROOT_SIZE / 2 - this.constructor.ROOT_HIGHLIGHT_DIAMETER / 2;\r\n            let shiftTemp = this.tempNode && this.tempNode.desiredX === 20 && this.tempNode.desiredY === 20;\r\n            if (this.root) {\r\n                let order = this.getInOrder();\r\n                let centerIndex = order.indexOf(this.root);\r\n                order.forEach((node, i) => {\r\n                    node.shiftX(((this.width - this.constructor.ELEMENT_SIZE)/2) + (i - centerIndex) * node.constructor.HSPACE);\r\n                    node.setY(this.getNodeY(node.depth));\r\n                });\r\n            }\r\n            if (shiftTemp) {\r\n                this.tempNode.shift(20,20);\r\n            }\r\n        }, this.getMaxWidth());\r\n    }\r\n}\r\n\r\n\r\nclass BSTNode extends TreeNode {\r\n    static CAN_DRAG = true;\r\n    static SIZE = BST.ELEMENT_SIZE;\r\n    static VSPACE = BST.ELEMENT_SIZE + BST.VERTICAL_SPACING;\r\n    static HSPACE = BST.ELEMENT_SIZE + BST.HORIZONTAL_SPACING;\r\n\r\n    constructor({x=20,y=20, data} = {}) {\r\n        super(x,y, data);\r\n\r\n        this.toDelete = false;\r\n        this.handBroken = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        this.color[0] = 255;\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nimport { AttractedHighlightableObject } from 'animation';\r\nimport { Colors } from 'utils';\r\n\r\nexport default class Heap extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static SUPPORTS_NO_LOOP = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n    static SUPPORTS_TEXT = true;\r\n    static SUPPORTS_ANIMATION_CONTROL = true;\r\n    static SUPPORTS_STOP_ID = true;\r\n\r\n    static INITIAL_CAPACITY = 9;\r\n\r\n    static ELEMENT_SIZE = 50;\r\n    static FRONT_LOCATION_X = 125;\r\n    static FRONT_LOCATION_Y = 35;\r\n    static SIZE_LOCATION_X = 125;\r\n    static SIZE_LOCATION_Y = 55;\r\n\r\n    constructor(animator) {\r\n        super(animator);\r\n\r\n        this.reset();\r\n        this.made = true;\r\n    }\r\n\r\n    reset() {\r\n        super.reset();\r\n        if (this.made) {\r\n            this.beginDrawLoop();\r\n        }\r\n\r\n        this.backingArray = new Array(Heap.INITIAL_CAPACITY);\r\n        this.size = 0;\r\n        this.copyArray = null;\r\n        this.tempElement = null;\r\n        this.frontPointerValue = 0;\r\n        this.frontPointerHighlighter = new AttractedHighlightableObject(Heap.FRONT_LOCATION_X, Heap.FRONT_LOCATION_Y, {\r\n            highlightOuterRadius: 15\r\n        });\r\n        this.sizePointerHighlighter = new AttractedHighlightableObject(Heap.SIZE_LOCATION_X, Heap.SIZE_LOCATION_Y, {\r\n            highlightOuterRadius: 15\r\n        });\r\n\r\n        if (this.made) {\r\n            // this.updateText(\"Animation Ready\");\r\n            this.endDrawLoop();\r\n        }\r\n    }\r\n\r\n    ensureDrawn(skipDraw = false) {\r\n        this.beginDrawLoop();\r\n        let furthestObject = this.tempElement || this.frontPointerHighlighter;\r\n        if (this.frontPointerHighlighter.displacement() > furthestObject.displacement()) {\r\n            furthestObject = this.frontPointerHighlighter;\r\n        }\r\n        if (this.sizePointerHighlighter.displacement() > furthestObject.displacement()) {\r\n            furthestObject = this.sizePointerHighlighter;\r\n        }\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i] && this.backingArray[i].displacement() > furthestObject.displacement()) {\r\n                furthestObject = this.backingArray[i];\r\n            }\r\n        }\r\n        if (this.copyArray) {\r\n            for (let i = 0; i < this.copyArray.length; i++) {\r\n                if (this.copyArray[i] && this.copyArray[i].displacement() > furthestObject.displacement()) {\r\n                    furthestObject = this.copyArray[i];\r\n                }\r\n            }\r\n        }\r\n        if (furthestObject.displacement() > 0) {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            furthestObject.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n            if (skipDraw) {\r\n                if (this.tempElement) {\r\n                    this.tempElement.stop();\r\n                }\r\n                this.frontPointerHighlighter.stop();\r\n                this.sizePointerHighlighter.stop();\r\n                for (let i = 0; i < this.backingArray.length; i++) {\r\n                    if (this.backingArray[i]) {\r\n                        this.backingArray[i].stop();\r\n                    }\r\n                }\r\n                if (this.copyArray) {\r\n                    for (let i = 0; i < this.copyArray.length; i++) {\r\n                        if (this.copyArray[i]) {\r\n                            this.copyArray[i].stop();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            this.stopDrawing(stopID);\r\n        }\r\n    }\r\n\r\n\r\n    add(data,front) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot add null to Deque.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        if (this.size === this.backingArray.length) {\r\n            animation.push({method:this.showText,params:[`Deque full, resizing to length ${this.backingArray.length*2}`,Colors.GREEN,],});\r\n            animation.push(...this.createCopyArray());\r\n        }\r\n        animation.push({method:this.createElement,params:[data,front],explanation:`Create value: ${data}`,isAnimationStep:true,returnsRedoData:true,});\r\n        animation.push(...this.useFrontPointer());\r\n        if (front) {\r\n            animation.push(...this.useFrontDecrementPointer(true));\r\n        } else {\r\n            animation.push(...this.useFrontSizePointer(true));\r\n        }\r\n        animation.push({method:this.highlightTemp,noAnim:true});\r\n        animation.push({method:this.insertElement,customEnd:true,explanation:`Added ${data} to backingArray`,isAnimationStep:true,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true,});\r\n        if (front) {\r\n            // animation.push({method:this.noAction,noAnim:true,isBackStep:true});\r\n            animation.push(...this.updateFrontPointer(-1));\r\n        }\r\n        animation.push(...this.updateSizePointer(1));\r\n        animation.push({method:this.showText,params:[`Successfully added ${data} to ${front ? \"front\" : \"back\"} of deque.`,Colors.GREEN,],});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return true;\r\n    }\r\n\r\n    addFirst(data) {\r\n        return this.add(data, true);\r\n    }\r\n\r\n    addLast(data) {\r\n        return this.add(data, false);\r\n    }\r\n\r\n    remove(front) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (this.size === 0) {\r\n            this.updateText(\"Cannot pop empty Deque\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let data = this.backingArray[front ? this.frontPointerValue : this.getIndex(this.frontPointerValue + this.size - 1)].value;\r\n        animation.push({method:this.showText,params:[`Dequeuing from index ${this.frontPointerValue}.`]});\r\n        animation.push(...this.useFrontPointer(front));\r\n        if (!front) {\r\n            animation.push(...this.useFrontSizePointer(false,false));\r\n            animation.push(...this.useFrontDecrementPointer(false));\r\n        }\r\n        animation.push({method:this.extractElement,params:[front],explanation:`Remove value: ${data} from deque`,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.unmakeElement,noAnim:true,returnsUndoData:true});\r\n        if (front) {\r\n            animation.push(...this.updateFrontPointer(1));\r\n        }\r\n        animation.push(...this.updateSizePointer(-1));\r\n        animation.push({method:this.showText,params:[`Successfully removed ${data} from ${front ? \"front of \" : \"back of\"} deque.`,Colors.GREEN],noAnim:true});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return data;\r\n    }\r\n\r\n    removeFirst() {\r\n        return this.remove(true);\r\n    }\r\n\r\n    removeLast() {\r\n        return this.remove(false);\r\n    }\r\n\r\n    createCopyArray() {\r\n        let animation = [];\r\n        animation.push({method:this.initCopyArray,noAnim:true,explanation:`Deque full, resizing to length ${this.backingArray.length*2}`,isForwardStep:true,});\r\n        animation.push(...this.useFrontPointer(true));\r\n        for (let i = 0; i < this.size; i++) {\r\n            animation.push(...this.addItemToCopy(i));\r\n        }\r\n        animation.push(...this.useCopyArr());\r\n        animation.push(...this.updateFrontPointer(0));\r\n        return animation;\r\n    }\r\n\r\n    initCopyArray() {\r\n        this.copyArray = new Array(this.backingArray.length * 2);\r\n        for (let i = 0; i < this.size; i++) {\r\n            let arrIndex = (i + this.frontPointerValue) % this.backingArray.length;\r\n            let pos = this.getElementPosition(arrIndex);\r\n            this.copyArray[i] = new HeapElement({data: this.backingArray[arrIndex].value, index: i, x:pos[0],y:pos[1],},);\r\n        }\r\n    }\r\n    undo_initCopyArray() {\r\n        this.copyArray = null;\r\n    }\r\n\r\n    addItemToCopy(index) {\r\n        let animation = [];\r\n        // animation.push({method:this.shiftElementToCopyArray,params:[index,...this.getElementPosition(index,true)],customEnd:true,isBackStep:(index === 0),isForwardStep:(index === this.size - 1),customUndoEnd:(index === 0),customRedoEnd:(index === this.size - 1),});\r\n        animation.push({method:this.shiftElementToCopyArray,params:[index,...this.getElementPosition(index,true)],customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n        return animation;\r\n    }\r\n\r\n    shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        let oldX = element.desiredX;\r\n        let oldY = element.desiredY;\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        element.addOnStop((el) => {\r\n            el.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        return [index, oldX, oldY];\r\n    }\r\n    undo_shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        if (true || index === 0) {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n                this.stopDrawing(stopID);\r\n            });\r\n        } else {\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n            });\r\n        }\r\n    }\r\n    redo_shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        if (true || index === this.size - 1) {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n                this.stopDrawing(stopID);\r\n            });\r\n        } else {\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n            });\r\n        }\r\n    }\r\n\r\n    useCopyArr() {\r\n        let animation = [];\r\n        animation.push({method:this.assignCopyArray,noAnim:true,isBackStep:true,customUndoEnd:true,returnsUndoData:true});\r\n        for (let i = 0; i < this.size; i++) {\r\n            animation.push({method:this.shiftElementToBackingArray,params:[i,],noAnim:true,isForwardStep:(i === this.size - 1),customUndoEnd:true,customRedoEnd:true});\r\n        }\r\n        animation.push({method:this.noAction,noAnim:true,isBackStep:true});\r\n        return animation;\r\n    }\r\n\r\n    assignCopyArray() {\r\n        let oldBacking = this.backingArray;\r\n        this.backingArray = this.copyArray;\r\n        this.copyArray = null;\r\n        return [oldBacking];\r\n    }\r\n    undo_assignCopyArray(oldBacking) {\r\n        this.copyArray = this.backingArray;\r\n        this.backingArray = oldBacking;\r\n    }\r\n\r\n    shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(element.index));\r\n    }\r\n    undo_shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(index,true));\r\n        if (index === 0) {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            element.addOnStop((el) => {\r\n                this.stopDrawing(stopID);\r\n            })\r\n        }\r\n    }\r\n    redo_shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(element.index));\r\n        if (index === this.size - 1) {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            element.addOnStop((el) => {\r\n                this.stopDrawing(stopID);\r\n            })\r\n        }\r\n    }\r\n\r\n    createElement(data, front) {\r\n        this.tempElement = new HeapElement({data: data, index: this.getIndex(front ? this.frontPointerValue - 1 : this.frontPointerValue + this.size), x:45,y:45,},);\r\n        return [this.tempElement];\r\n    }\r\n    undo_createElement() {\r\n        this.tempElement = null;\r\n    }\r\n    redo_createElement(newTemp) {\r\n        if (typeof newTemp !== \"object\") {\r\n            return this.createElement(...arguments);\r\n        }\r\n        this.tempElement = newTemp;\r\n        this.tempElement.goTo(45,45);\r\n    }\r\n\r\n    useSizePointer() {\r\n        let animation = [];\r\n        animation.push({method:this.sizePointerHighlighter.highlight,scope:this.sizePointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.moveSizeTracker,customEnd:true,explanation:`Size points to index |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.sizePointerHighlighter.unhighlight,scope:this.sizePointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.sizePointerHighlighter.goTo,scope:this.sizePointerHighlighter,params:[Heap.SIZE_LOCATION_X,Heap.SIZE_LOCATION_Y,],noAnim:true,returnsUndoData:true});\r\n        return animation;\r\n    }\r\n\r\n    // moveSizeTracker() {\r\n    //     let pos = this.getElementPosition(this.size);\r\n    //     this.sizePointerHighlighter.highlight();\r\n    //     this.sizePointerHighlighter.shift(pos[0], pos[1] + Heap.ELEMENT_SIZE);\r\n    //     this.sizePointerHighlighter.addOnStop((element) => {\r\n    //         element.unhighlight();\r\n    //         this.doneAnimating(0);\r\n    //     });\r\n    //     return this.size;\r\n    // }\r\n    // undo_moveSizeTracker() {\r\n    //     this.sizePointerHighlighter.shift(Heap.SIZE_LOCATION_X,Heap.SIZE_LOCATION_Y);\r\n    //     this.sizePointerHighlighter.highlight();\r\n    //     let stopID = ++this.stopID;console.log(stopID);\r\n    //     this.sizePointerHighlighter.addOnStop((element) => {\r\n    //         element.unhighlight();\r\n    //         this.stopDrawing(stopID);\r\n    //     });\r\n    //     return this.size;\r\n    // }\r\n    // redo_moveSizeTracker() {\r\n    //     let pos = this.getElementPosition(this.size);\r\n    //     this.sizePointerHighlighter.highlight();\r\n    //     this.sizePointerHighlighter.shift(pos[0], pos[1] + Heap.ELEMENT_SIZE);\r\n    //     let stopID = ++this.stopID;console.log(stopID);\r\n    //     this.sizePointerHighlighter.addOnStop((element) => {\r\n    //         element.unhighlight();\r\n    //         this.stopDrawing(stopID);\r\n    //     });\r\n    //     return this.size;\r\n    // }\r\n\r\n    highlightTemp(color = Colors.BLUE) {\r\n        this.tempElement.highlight(color);\r\n    }\r\n    undo_highlightTemp() {\r\n        this.tempElement.unhighlight();\r\n    }\r\n\r\n    insertElement() {\r\n        let index = this.tempElement.index;\r\n        this.backingArray[index] = this.tempElement;\r\n        this.highlightTemp();\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        let oldTemp = this.tempElement;\r\n        this.tempElement = null;\r\n        return [oldTemp];\r\n    }\r\n    undo_insertElement(oldTemp) {\r\n        this.tempElement = oldTemp;\r\n        let index = this.tempElement.index;\r\n        this.highlightTemp();\r\n        this.tempElement.shift(45,45);\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.backingArray[index] = null;\r\n    }\r\n    redo_insertElement() {\r\n        let index = this.tempElement.index;\r\n        this.backingArray[index] = this.tempElement;\r\n        this.highlightTemp();\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        console.log(stopID);\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempElement = null;\r\n    }\r\n\r\n    useFrontPointer(end = false) {\r\n        let animation = [];\r\n        animation.push({method:this.frontPointerHighlighter.highlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.moveFrontTracker,params:[0,false],customEnd:true,explanation:`Front points to index |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.frontPointerHighlighter.unhighlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        if (end) {\r\n            animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[Heap.FRONT_LOCATION_X,Heap.FRONT_LOCATION_Y,],noAnim:true,returnsUndoData:true,});\r\n        }\r\n        return animation;\r\n    }\r\n    useFrontDecrementPointer(add) {\r\n        let animation = [];\r\n        // animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[...this.getElementPosition(this.frontPointerValue)],noAnim:true,returnsUndoData:true,});\r\n        animation.push({method:this.frontPointerHighlighter.highlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.moveFrontTracker,params:[-1,!add],customEnd:true,explanation:`${add ? \"Add at\" : \"Remove from\"} index (front${add ? \" \" : \" + size \"}- 1) % backingArray.length = |RETURN|`,explanationUsesReturn:true,isForwardStep:true,isBackStep:add,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.frontPointerHighlighter.unhighlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[Heap.FRONT_LOCATION_X,Heap.FRONT_LOCATION_Y,],noAnim:true,returnsUndoData:true,});\r\n        return animation;\r\n    }\r\n    useFrontSizePointer(add, end = true) {\r\n        let animation = [];\r\n        // animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[...this.getElementPosition(this.frontPointerValue)],noAnim:true,returnsUndoData:true,});\r\n        animation.push({method:this.frontPointerHighlighter.highlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.moveFrontTracker,params:[0,true],customEnd:true,explanation:`${add ? \"Add at\" : \"Remove from\"} index (front + size${add ? \"\" : \" - 1\"}) % backingArray.length = |RETURN|`,explanationUsesReturn:true,isForwardStep:end,isBackStep:true,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.frontPointerHighlighter.unhighlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        if (end) {\r\n            animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[Heap.FRONT_LOCATION_X,Heap.FRONT_LOCATION_Y,],noAnim:true,returnsUndoData:true,});\r\n        }\r\n        return animation;\r\n    }\r\n\r\n    moveFrontTracker(offset, fromSize) {\r\n        let oldX = this.frontPointerHighlighter.desiredX;\r\n        let oldY = this.frontPointerHighlighter.desiredY;\r\n        let index = this.getIndex(this.frontPointerValue + offset + (fromSize ? this.size : 0));\r\n        let pos = this.getElementPosition(index);\r\n        this.frontPointerHighlighter.highlight();\r\n        this.frontPointerHighlighter.shift(pos[0], pos[1] + Heap.ELEMENT_SIZE);\r\n        this.frontPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        return [index, [oldX,oldY]];\r\n    }\r\n    undo_moveFrontTracker(oldX,oldY) {\r\n        this.frontPointerHighlighter.highlight();\r\n        this.frontPointerHighlighter.shift(oldX, oldY);\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        this.frontPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n    redo_moveFrontTracker(offset, fromSize) {\r\n        let index = this.getIndex(this.frontPointerValue + offset + (fromSize ? this.size : 0));\r\n        let pos = this.getElementPosition(index);\r\n        this.frontPointerHighlighter.highlight();\r\n        this.frontPointerHighlighter.shift(pos[0], pos[1] + Heap.ELEMENT_SIZE);\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        this.frontPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n\r\n    extractElement(front) {\r\n        let index = this.getIndex(this.frontPointerValue + (front ? 0 : this.size - 1));\r\n        this.tempElement = this.backingArray[index];\r\n        this.backingArray[index] = null;\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(45,45);\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n    undo_extractElement(front) {\r\n        let index = this.getIndex(this.frontPointerValue + (front ? 0 : this.size - 1));\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.backingArray[index] = this.tempElement;\r\n        this.tempElement = null;\r\n    }\r\n    redo_extractElement(front) {\r\n        let index = this.getIndex(this.frontPointerValue + (front ? 0 : this.size - 1));\r\n        this.tempElement = this.backingArray[index];\r\n        this.backingArray[index] = null;\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(45,45);\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n\r\n    unmakeElement() {\r\n        let oldTemp = this.tempElement;\r\n        this.tempElement = null;\r\n        return [oldTemp];\r\n    }\r\n    undo_unmakeElement(oldTemp) {\r\n        this.tempElement = oldTemp;\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n    undo_sizeIncr() {\r\n        this.size--;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n    undo_sizeDecr() {\r\n        this.size++;\r\n    }\r\n\r\n    updateFrontPointer(offset) {\r\n        let animation = [];\r\n        animation.push({method:this.frontPointerHighlighter.highlight,scope:this.frontPointerHighlighter,params:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],isForwardStep:false,});\r\n        animation.push({method:this.changeFrontPointerValue,params:[offset],explanation:`Update front pointer to |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,returnsUndoData:true,});\r\n        animation.push({method:this.frontPointerHighlighter.unhighlight,scope:this.frontPointerHighlighter,noAnim:true,isBackStep:false,undoData:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],});\r\n        return animation;\r\n    }\r\n\r\n    changeFrontPointerValue(offset) {\r\n        let oldFront = this.frontPointerValue;\r\n        if (offset === 0) {\r\n            this.frontPointerValue = 0;\r\n        } else {\r\n            this.frontPointerValue = this.getIndex(this.frontPointerValue + offset);\r\n        }\r\n        return [this.frontPointerValue,[oldFront]];\r\n    }\r\n    undo_changeFrontPointerValue(oldFront) {\r\n        this.frontPointerValue = oldFront;\r\n        return this.frontPointerValue;\r\n    }\r\n\r\n    updateSizePointer(offset) {\r\n        let animation = [];\r\n        animation.push({method:this.sizePointerHighlighter.highlight,scope:this.sizePointerHighlighter,params:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],isForwardStep:false,});\r\n        animation.push({method:this.changeSizePointerValue,params:[offset],explanation:`Update size to |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,returnsUndoData:true,});\r\n        animation.push({method:this.sizePointerHighlighter.unhighlight,scope:this.sizePointerHighlighter,noAnim:true,isBackStep:false,undoData:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],});\r\n        return animation;\r\n    }\r\n\r\n    changeSizePointerValue(offset) {\r\n        let oldSize = this.size;\r\n        this.size += offset;\r\n        return [this.size,[oldSize]];\r\n    }\r\n    undo_changeSizePointerValue(oldSize) {\r\n        this.size = oldSize;\r\n        return this.size;\r\n    }\r\n\r\n\r\n    getIndex(index, copy = false) {\r\n        let array = copy ? this.copyArray : this.backingArray;\r\n        index %= array.length;\r\n        if (index < 0) {\r\n            index += array.length;\r\n        }\r\n        return index;\r\n    }\r\n\r\n    getElementPosition(index, copy = false) {\r\n        let maxPerRow = Math.floor(this.width / Heap.ELEMENT_SIZE);\r\n        let x = Heap.ELEMENT_SIZE * index;\r\n        let y = 50 + Math.floor(index / maxPerRow) * 2 * Heap.ELEMENT_SIZE;\r\n        x = (index % maxPerRow) * Heap.ELEMENT_SIZE;\r\n        return [x + Heap.ELEMENT_SIZE/2 + this.x,y + Heap.ELEMENT_SIZE/2 + this.y + (copy ? (Math.ceil(this.backingArray.length / maxPerRow)*Heap.ELEMENT_SIZE*2) : 0)];\r\n    }\r\n\r\n    updateElement(element, animationSpeed, p5) {\r\n        if (element) {\r\n            element.update(animationSpeed, p5);\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            for (let i = 0; i < this.backingArray.length; i++) {\r\n                this.updateElement(this.backingArray[i], animationSpeed, p5);\r\n            }\r\n            if (this.copyArray) {\r\n                for (let i = 0; i < this.copyArray.length; i++) {\r\n                    this.updateElement(this.copyArray[i], animationSpeed, p5);\r\n                }\r\n            }\r\n            if (this.tempElement) {\r\n                this.updateElement(this.tempElement, animationSpeed, p5);\r\n            }\r\n            this.frontPointerHighlighter.update(animationSpeed, p5);\r\n            this.sizePointerHighlighter.update(animationSpeed, p5);\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        super.draw(p5);\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_SIZE/3 - 2);\r\n\r\n        p5.fill(0);\r\n        p5.text(\"Front: \", Heap.FRONT_LOCATION_X - 50, Heap.FRONT_LOCATION_Y, Heap.ELEMENT_SIZE);\r\n        p5.text(this.frontPointerValue.toString(), Heap.FRONT_LOCATION_X-25, Heap.FRONT_LOCATION_Y, Heap.ELEMENT_SIZE);\r\n        p5.text(\"Size: \", Heap.SIZE_LOCATION_X - 50, Heap.SIZE_LOCATION_Y, Heap.ELEMENT_SIZE);\r\n        p5.text(this.size.toString(), Heap.SIZE_LOCATION_X-25, Heap.SIZE_LOCATION_Y, Heap.ELEMENT_SIZE);\r\n\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i]) {\r\n                this.backingArray[i].draw(p5);\r\n            }\r\n            let pos = this.getElementPosition(i);\r\n            p5.noFill();\r\n            p5.stroke(0);\r\n            p5.square(pos[0] - Heap.ELEMENT_SIZE/2,pos[1] - Heap.ELEMENT_SIZE/2, Heap.ELEMENT_SIZE);\r\n            p5.fill(...Colors.BLUE);\r\n            p5.stroke(...Colors.BLUE);\r\n            p5.text(i.toString(), pos[0] - Heap.ELEMENT_SIZE/2,pos[1] + Heap.ELEMENT_SIZE/2, Heap.ELEMENT_SIZE, Heap.ELEMENT_SIZE);\r\n        }\r\n\r\n        if (this.copyArray) {\r\n            for (let i = 0; i < this.copyArray.length; i++) {\r\n                if (this.copyArray[i]) {\r\n                    this.copyArray[i].draw(p5);\r\n                }\r\n                let pos = this.getElementPosition(i, true);\r\n                p5.noFill();\r\n                p5.stroke(0);\r\n                p5.square(pos[0] - Heap.ELEMENT_SIZE/2,pos[1] - Heap.ELEMENT_SIZE/2, Heap.ELEMENT_SIZE);\r\n                p5.fill(...Colors.BLUE);\r\n                p5.stroke(...Colors.BLUE);\r\n                p5.text(i.toString(), pos[0] - Heap.ELEMENT_SIZE/2,pos[1] + Heap.ELEMENT_SIZE/2, Heap.ELEMENT_SIZE, Heap.ELEMENT_SIZE);\r\n            }\r\n        }\r\n        if (this.tempElement) {\r\n            this.tempElement.draw(p5);\r\n        }\r\n        this.frontPointerHighlighter.draw(p5);\r\n        this.sizePointerHighlighter.draw(p5);\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, (this.copyArray ? this.getElementPosition(this.copyArray.length-1, true)[1] : this.getElementPosition(this.backingArray.length-1)[1]) + Heap.ELEMENT_SIZE, () => {\r\n            for (let i = 0; i < this.backingArray.length; i++) {\r\n                if (this.backingArray[i]) {\r\n                    this.backingArray[i].shift(...this.getElementPosition(i));\r\n                }\r\n            }\r\n            if (this.copyArray) {\r\n                for (let i = 0; i < this.copyArray.length; i++) {\r\n                    if (this.copyArray[i]) {\r\n                        this.copyArray[i].shift(...this.getElementPosition(i,true));\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\nclass HeapElement extends AttractedHighlightableObject {\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        // this.highlightInnerRadius = Heap.ELEMENT_SIZE/2 - 5;\r\n        this.highlightOuterRadius = Heap.ELEMENT_SIZE/2;\r\n\r\n        this.value = data;\r\n        this.index = index;\r\n\r\n        this.toDelete = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    highlightForMovement() {\r\n        super.highlight(Colors.BLUE);\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        super.highlight(Colors.RED);\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5);\r\n    }\r\n\r\n    drawValue(p5) {\r\n        p5.push();\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.stroke(...this.color);\r\n        p5.text(this.value.toString(), this.currentX - Heap.ELEMENT_SIZE/2,this.currentY - Heap.ELEMENT_SIZE/2, Heap.ELEMENT_SIZE, Heap.ELEMENT_SIZE);\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class AVL extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class SplayTree extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class BTree extends Visualization {\r\n    \r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class SkipList extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class HashMapProbing extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class HashMapChaining extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class BubbleSort extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class CocktailShakerSort extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class InsertionSort extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class SelectionSort extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class QuickSort extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class QuickSelect extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class MergeSort extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class LSDRadixSort extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class BruteForce extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class BoyerMoore extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class KMP extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class RabinKarp extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class BFS extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class DFS extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class Dijkstras extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class Prims extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class Kruskals extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class LCS extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class FloydWarshall extends Visualization {\r\n\r\n}\r\n","import React, { PureComponent } from 'react';\r\nimport Sketch from 'react-p5';\r\nimport './visualizer.scss';\r\n\r\nimport ControlBar from './controlBar';\r\nimport BigOWindow from './bigOWindow';\r\n\r\nimport { ControlBuilder, Utils } from 'utils';\r\nimport { Animator } from 'animation';\r\n\r\nexport default class Visualizer extends PureComponent {\r\n    static VISUALIZATION_METHODS = [\"skipBack\",\"stepBack\",\"playPause\",\"stepForward\",\"skipForward\"];\r\n\r\n    static CONTROLS_ONLY_ACTIVE_UNPAUSED = [\"radio\",\"checkbox\"];\r\n\r\n    static INITIAL_SPEED = 50;\r\n    static MAX_SPEED = 20;\r\n    static SPEED_SLIDER_DEGREE = 1.5;\r\n\r\n    static maxAnimationSpeed() {\r\n        return Math.pow(Visualizer.MAX_SPEED, Visualizer.SPEED_SLIDER_DEGREE);\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this[this.constructor.ADT_NAME] = null;\r\n\r\n        //INHERIT METHODS FROM VISUALIZATION\r\n        let currConstructor = this.constructor;\r\n        while (currConstructor) {\r\n            (currConstructor.VISUALIZATION_METHODS || []).forEach((methodName) => {\r\n                this[methodName] = (...args) => {\r\n                    if (this[this.constructor.ADT_NAME][methodName]) {\r\n                        return this[this.constructor.ADT_NAME][methodName](...args);\r\n                    } else {\r\n                        if (Utils.isDev()) {\r\n                            console.log(this[this.constructor.ADT_NAME], methodName, ...args);\r\n                        }\r\n                    }\r\n                    // return this[this.constructor.ADT_NAME][methodName](...args);\r\n                };\r\n            });\r\n            currConstructor = currConstructor.__proto__;\r\n        }\r\n\r\n\r\n        //FUNCTION BINDING\r\n        this.preload = this.preload.bind(this);\r\n        this.setup = this.setup.bind(this);\r\n        this.draw = this.draw.bind(this);\r\n        this.mousePressed = this.mousePressed.bind(this);\r\n        this.touchMoved = this.touchMoved.bind(this);\r\n        this.mouseReleased = this.mouseReleased.bind(this);\r\n        this.windowResized = this.windowResized.bind(this);\r\n\r\n        this.controlBarRef = React.createRef();\r\n\r\n        this.controlGroups = [];\r\n        this.defaultControlGroups = [];\r\n        this.controls = [];\r\n\r\n        // this.animationSpeed = Visualizer.INITIAL_SPEED;\r\n\r\n        this.onAnimStart = this.onAnimStart.bind(this);\r\n        this.onAnimEnd = this.onAnimEnd.bind(this);\r\n        this.animating = false;\r\n\r\n        this.focusedElement = null;\r\n\r\n        this.animator = new Proxy(new Animator(), {\r\n            get: function (target, propertyName, receiver) {\r\n                if (target[propertyName]) {\r\n                    return target[propertyName];\r\n                } else {\r\n                    return (param) => target.emit(propertyName + (param ? (\"-\" + param) : \"\"));\r\n                }\r\n            }\r\n        });\r\n        this.animator.on(\"anim-start\", this.onAnimStart);\r\n        this.animator.on(\"anim-end\", this.onAnimEnd);\r\n\r\n        this.addControlLabel(this.constructor.NAME);\r\n        this.addControls();\r\n        this.addDefaultControls();\r\n\r\n        this.state = {\r\n            showBigO: false\r\n        };\r\n        this.disabledControls = [];\r\n        this.bigOWindow = React.createRef();\r\n    }\r\n\r\n    addDefaultControls() {\r\n        this.speedSlider = ControlBuilder.createSlider(1, Visualizer.MAX_SPEED, Math.pow(Visualizer.INITIAL_SPEED,1/Visualizer.SPEED_SLIDER_DEGREE), 0);\r\n        let sliderLabel = ControlBuilder.createLabel(\"Animation Speed\", this.speedSlider);\r\n        let speedSliderGroup = ControlBuilder.createControlGroup(\"speedSliderGroup\", this.speedSlider, sliderLabel);\r\n        let extraGroups = []\r\n        if (this.constructor.VISUALIZATION_CLASS.SUPPORTS_ANIMATION_CONTROL) {\r\n            ControlBuilder.applyNewCallbackButton(this, {name: \"skipBack\", longName: \"Skip Back\",\r\n                    options: {\r\n                        attributes: {\r\n                            \"data-tooltip\": \"Shift+←\",\r\n                            \"tt-bottom-110\":true,\r\n                            \"tt-left-0\":true,\r\n                            disabled: true\r\n                        },\r\n                        addAnimatorEnableDisable: true\r\n                }});\r\n            ControlBuilder.applyNewCallbackButton(this, {name: \"stepBack\", longName: \"Step Back\",\r\n                    options: {\r\n                        attributes: {\r\n                            \"data-tooltip\": \"←\",\r\n                            \"tt-bottom-110\":true,\r\n                            \"tt-left-0\":true,\r\n                            disabled: true\r\n                        },\r\n                        addAnimatorEnableDisable: true\r\n                }});\r\n            ControlBuilder.applyNewCallbackButton(this, {name: \"playPause\", longName: \"Pause\",\r\n                    options: {\r\n                        attributes: {\r\n                            \"data-tooltip\": \"SpaceBar\",\r\n                            \"tt-bottom-110\":true,\r\n                            \"tt-h-mid\":true\r\n                        },\r\n                }});\r\n            this.animator.on(\"enable-playPause\", () => {\r\n                this.playPauseButton.innerHTML = this.visualization.paused ? \"Play\" : \"Pause\";\r\n            });\r\n            ControlBuilder.applyNewCallbackButton(this, {name: \"stepForward\", longName: \"Step Forward\",\r\n                    options: {\r\n                        attributes: {\r\n                            \"data-tooltip\": \"→\",\r\n                            \"tt-bottom-110\":true,\r\n                            \"tt-right-0\":true,\r\n                            disabled: true\r\n                        },\r\n                        addAnimatorEnableDisable: true\r\n                }});\r\n            ControlBuilder.applyNewCallbackButton(this, {name: \"skipForward\", longName: \"Skip Forward\",\r\n                    options: {\r\n                        attributes: {\r\n                            \"data-tooltip\": \"Shift+→\",\r\n                            \"tt-bottom-110\":true,\r\n                            \"tt-right-0\":true,\r\n                            disabled: true\r\n                        },\r\n                        addAnimatorEnableDisable: true\r\n                }});\r\n\r\n            extraGroups.push(ControlBuilder.createControlGroup(\"stepButtonGroup\",this.skipBackButton,this.stepBackButton,this.playPauseButton,this.stepForwardButton,this.skipForwardButton));\r\n            let animationControls = ControlBuilder.createControlGroup(\"animationControls\",...extraGroups);\r\n            // ControlBuilder.applyStyle(animationControls,\"width\",\"441px\");\r\n            this.defaultControlGroups.push(animationControls);\r\n\r\n\r\n        }\r\n        this.defaultControlGroups.push(speedSliderGroup);\r\n        this.defaultsLabel = \"Animation controls\";\r\n    }\r\n\r\n    addControlLabel(label) {\r\n        this.mainLabel = label;\r\n    }\r\n\r\n    addControlGroups(...controlGroups) {\r\n        this.controlGroups.push(...controlGroups);\r\n        controlGroups.forEach((controlGroup) => {\r\n            if (!controlGroup.classList.contains(\"control-group\")) {\r\n                this.controls.push(controlGroup);\r\n            } else {\r\n                this.registerControlGroup(controlGroup);\r\n            }\r\n        });\r\n    }\r\n\r\n    registerControlGroup(controlGroup) {\r\n        controlGroup.childNodes.forEach((child) => {\r\n            if (!child.classList.contains(\"control-group\")) {\r\n                this.controls.push(child);\r\n            } else {\r\n                this.registerControlGroup(child);\r\n            }\r\n        });\r\n    }\r\n\r\n    onAnimStart() {\r\n        this.disableUI();\r\n        if (this.constructor.VISUALIZATION_CLASS.SUPPORTS_NO_LOOP) {\r\n            // this.animator.loop();\r\n        }\r\n        this.animating = true;\r\n    }\r\n\r\n    onAnimEnd() {\r\n        this.enableUI();\r\n        if (this.constructor.VISUALIZATION_CLASS.SUPPORTS_NO_LOOP) {\r\n            // this.animator.noLoop();\r\n        }\r\n        this.animating = false;\r\n    }\r\n\r\n    disableUI() {\r\n        // console.log(\"disable\");\r\n        this.controls.forEach((control) => {\r\n            if (control === document.activeElement) {\r\n                this.focusedElement = control;\r\n            }\r\n            control.disabled = true;\r\n        });\r\n    }\r\n\r\n    enableUI() {\r\n        // console.log(\"enable\");\r\n        this.controls.forEach((control) => {\r\n            control.disabled = this.visualization.paused && this.constructor.CONTROLS_ONLY_ACTIVE_UNPAUSED.includes(control.type);\r\n            if (control === this.focusedElement) {\r\n                control.focus();\r\n            }\r\n        });\r\n    }\r\n\r\n    testVisualizationDimensions(p5) {\r\n        let height = document.querySelector(\".canvas-container\").getBoundingClientRect().height;\r\n        let width = document.querySelector(\".canvas-container\").getBoundingClientRect().width;\r\n        // console.log(height);\r\n        // p5.resizeCanvas(p5.windowWidth, p5.height);\r\n\r\n        //objects\r\n        let numScrollbars = this.controlBar.windowResized();\r\n        this.visualization.windowResized(p5, height, numScrollbars, this.constructor.VISUALIZATION_CLASS.HAS_MIN_WIDTH ? width : undefined);\r\n    }\r\n\r\n    componentDidMount() {\r\n        let height = document.querySelector(\".canvas-container\").getBoundingClientRect().height;\r\n        let width = document.querySelector(\".canvas-container\").getBoundingClientRect().width;\r\n        this[this.constructor.ADT_NAME] = new this.constructor.VISUALIZATION_CLASS(this.animator, width, height);\r\n        this.visualization = this[this.constructor.ADT_NAME];\r\n        if (this.constructor.VISUALIZATION_CLASS.SUPPORTS_ANIMATION_CONTROL) {\r\n            this.controlPressed = false;\r\n            this.shiftPressed = false;\r\n            this.pressedDict = {};\r\n            document.addEventListener(\"keydown\", (event) => {\r\n                if (!this.pressedDict[event.key]) {\r\n                    this.pressedDict[event.key] = true;\r\n                    this.controlPressed = event.key === \"Control\" || this.controlPressed;\r\n                    this.shiftPressed = event.key === \"Shift\" || this.shiftPressed;\r\n                    let visEventHappened = false;\r\n                    if (event.key === \"z\" && this.controlPressed) {\r\n                        visEventHappened = this.visualization.undo();\r\n                    } else if (event.key === \"ArrowLeft\") {\r\n                        if (this.shiftPressed) {\r\n                            visEventHappened = this.visualization.skipBack();\r\n                        } else {\r\n                            visEventHappened = this.visualization.stepBack();\r\n                        }\r\n                    } else if (event.key === \"ArrowRight\") {\r\n                        if (this.shiftPressed) {\r\n                            visEventHappened = this.visualization.skipForward();\r\n                        } else {\r\n                            visEventHappened = this.visualization.stepForward();\r\n                        }\r\n                    } else if (event.key === \" \") {\r\n                        visEventHappened = this.visualization.playPause();\r\n                    }\r\n                    if (visEventHappened) {\r\n                        event.preventDefault();\r\n                    }\r\n                }\r\n            });\r\n            document.addEventListener(\"keyup\", (event) => {\r\n                if (this.pressedDict[event.key]) {\r\n                    this.pressedDict[event.key] = false;\r\n                    this.controlPressed = this.controlPressed && !(event.key === \"Control\");\r\n                    this.shiftPressed = this.shiftPressed && !(event.key === \"Shift\");\r\n                }\r\n            });\r\n        }\r\n        if (Utils.isDev()) {\r\n            window.vis = this.visualization;\r\n        } else {\r\n\r\n        }\r\n        this.controlBar = this.controlBarRef.current;\r\n        this.controlBar.setMainLabel(this.mainLabel);\r\n        this.controlBar.setDefaultsLabel(this.defaultsLabel);\r\n        this.defaultControlGroups.forEach((defaultGroup) => {\r\n            this.controlBar.addDefaultGroup(defaultGroup);\r\n        });\r\n        this.controlGroups.forEach((controlGroup) => {\r\n            this.controlBar.addControlGroup(controlGroup);\r\n        });\r\n        this.mounted = true;\r\n        this.forceUpdate();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        // console.log(\"update\");\r\n        Utils.addMobileClasses();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n\r\n    }\r\n\r\n    preload(p5) {\r\n        if (Utils.isDev()) {\r\n            p5.disableFriendlyErrors = true;\r\n        }\r\n    }\r\n\r\n    setup(p5, canvasParentRef) {\r\n        // let width = this.controlBar.controlBar.current.getBoundingClientRect().width;\r\n        let height = document.querySelector(\".app-content\").getBoundingClientRect().height\r\n                - document.querySelector(\"#main-control\").getBoundingClientRect().height\r\n                - document.querySelector(\"#default-control\").getBoundingClientRect().height;\r\n\r\n        // this.mobile = window.ontouchstart !== undefined;\r\n        // if (this.mobile) {\r\n        //     height = 1000;\r\n        //     // document.querySelector(\".canvas-container\").style.height = height + \"px\";\r\n        //     document.querySelector(\".canvas-container\").classList.add(\"mobile\");\r\n        // }\r\n\r\n        //config\r\n        let canvas = p5.createCanvas(p5.windowWidth\r\n            ,height);\r\n        canvas.parent(canvasParentRef);\r\n        //\r\n        // canvas.touchStarted((event) => {\r\n        //     console.log(\"touchdown\");\r\n        //     if (!this.mousePressed(p5)) {\r\n        //         event.preventDefault();\r\n        //     }\r\n        //     // event.preventDefault();\r\n        // });\r\n        //\r\n        // canvas.touchMoved((event) => {\r\n        //     console.log(\"touchmove\");\r\n        //     if (!this.touchMoved(p5)) {\r\n        //         // event.preventDefault();\r\n        //     }\r\n        //     return true;\r\n        //     // event.preventDefault();\r\n        // });\r\n        //\r\n        // canvas.touchEnded(() => {\r\n        //     console.log(\"touchup\");\r\n        //     this.mouseReleased(p5);\r\n        //     // event.preventDefault();\r\n        // });\r\n        // canvas.mousePressed(() => {\r\n        //     console.log(\"mousedown\");\r\n        //     if (!this.mousePressed(p5)) {\r\n        //         // event.preventDefault();\r\n        //     }\r\n        // });\r\n        // canvas.mouseReleased(() => {\r\n        //     console.log(\"mouseup\");\r\n        //     this.mouseReleased(p5);\r\n        //     // event.preventDefault();\r\n        // });\r\n        // p5.background(200);\r\n        // p5.frameRate(8);\r\n\r\n        // document.addEventListener(\"resize\", (event) => {\r\n        //     console.log(\"resize\");\r\n        // });\r\n        this.animator.on(\"noLoop\", () => {\r\n            // console.log(\"noLoop\");\r\n            p5.noLoop();\r\n        });\r\n        this.animator.on(\"loop\", () => {\r\n            // console.log(\"loop\");\r\n            p5.loop();\r\n        });\r\n        // this.animator.on(\"paused\", () => {\r\n        //\r\n        // });\r\n        this.animator.on(\"testWindowSize\", () => {\r\n            // this.visualization.resizing = true;\r\n            this.testVisualizationDimensions(p5);\r\n        });\r\n        this.windowResized(p5);\r\n\r\n        if (this.constructor.VISUALIZATION_CLASS.SUPPORTS_NO_LOOP) {\r\n            this.animator.noLoop();\r\n        }\r\n    }\r\n    draw(p5) {\r\n        //inputs\r\n        let animationSpeed = Math.pow(this.speedSlider.value,Visualizer.SPEED_SLIDER_DEGREE);\r\n\r\n        p5.background(255);\r\n\r\n        //objects\r\n        this.visualization.update(animationSpeed, p5);\r\n        this.visualization.draw(p5);\r\n\r\n        // if (!this.animating) {\r\n        //     if (this.constructor.VISUALIZATION_CLASS.SUPPORTS_NO_LOOP) {\r\n        //         this.animator.noLoop();\r\n        //     }\r\n        // }\r\n    }\r\n    mousePressed(p5) {\r\n        if (this.visualization.mousePressed) {\r\n            // console.log(\"down\");\r\n            //let pressed =\r\n            this.visualization.mousePressed(p5);\r\n            // console.log(pressed);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    touchMoved(p5) {\r\n        if (this.visualization.touchMoved) {\r\n            // console.log(\"move\");\r\n            return this.visualization.touchMoved();\r\n        }\r\n        return true;\r\n    }\r\n    mouseReleased(p5) {\r\n        if (this.visualization.mouseReleased) {\r\n            // console.log(\"up\");\r\n            //let released =\r\n            this.visualization.mouseReleased(p5);\r\n            // console.log(released);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    windowResized(p5) {\r\n        // console.log(\"resize\");\r\n\r\n        //cosmetics for visualizer label\r\n        let controlWidth = Array.from(document.querySelector(\"#main-control-label + .controls\").childNodes).map(node => node.getBoundingClientRect().width).reduce((sum,curr) => sum + curr);\r\n        controlWidth = Math.min(controlWidth, p5.windowWidth);\r\n        let label = document.querySelector(\"#main-control-label\");\r\n        let labelWidth = label.getBoundingClientRect().width;\r\n        label.style.left = Math.max(0, (controlWidth - labelWidth) / 2) + \"px\";\r\n\r\n        //config\r\n        let height = document.querySelector(\".app-content\").getBoundingClientRect().height\r\n                - document.querySelector(\"#main-control\").getBoundingClientRect().height\r\n                - document.querySelector(\"#default-control\").getBoundingClientRect().height;\r\n        if (this.mobile) {\r\n            // height = 1000;\r\n        }\r\n        // height = document.querySelector(\".react-p5\").getBoundingClientRect().height;\r\n        document.querySelector(\".canvas-container\").style.height = height+\"px\";\r\n        this.testVisualizationDimensions(p5);\r\n    }\r\n\r\n    showBigODisplay() {\r\n        this.setState({showBigO: true});\r\n        this.disabledControls = [];\r\n        document.querySelectorAll(\".control-bar input, .control-bar button\").forEach((input) => {\r\n            if (!input.disabled) {\r\n                this.disabledControls.push(input);\r\n                input.disabled = true;\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    closeBigODisplay() {\r\n        this.setState({showBigO: false});\r\n        while (this.disabledControls.length) {\r\n            this.disabledControls.pop().disabled = false;\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div className={`visualizer ${this.constructor.DIV_CLASS}`}>\r\n                    <ControlBar ref={this.controlBarRef} showBigODisplay={this.showBigODisplay.bind(this)} hasExamples={!!this.props.visualizerClass.examples && this.props.visualizerClass.examples.length > 0}/>\r\n                    {this.state.showBigO &&\r\n                        <BigOWindow ref={this.bigOWindow} title={this.mainLabel} closeBigODisplay={this.closeBigODisplay.bind(this)}/>\r\n                    }\r\n                    {\r\n                        !Utils.isReactComponent(this.constructor.VISUALIZATION_CLASS) ?\r\n                                <div className=\"canvas-container\">\r\n                                    {\r\n                                        this.mounted ?\r\n                                                <Sketch preload={this.preload} setup={this.setup} draw={this.draw} windowResized={this.windowResized} mousePressed={this.mousePressed} mouseReleased={this.mouseReleased} touchStarted={this.mousePressed} touchEnded={this.mouseReleased} touchMoved={this.touchMoved}/>\r\n                                            :\r\n                                                <p>Loading Sketch</p>\r\n                                    }\r\n                                </div>\r\n                            :\r\n                                <this.constructor.VISUALIZATION_CLASS />\r\n                    }\r\n                </div>\r\n            );\r\n    }\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class ListVisualizer extends Visualizer {\r\n    static ADT_NAME = \"list\";\r\n    static VISUALIZATION_METHODS = [\"addAtIndex\", \"addToFront\", \"addToBack\", \"removeFromIndex\", \"removeFromBack\", \"removeFromFront\", \"reset\"];\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"value\", callback: false}, ControlBuilder.validatorMaxLength(6), ControlBuilder.validatorIntOnly());\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"index\", callback: false, args: {size: 10}}, ControlBuilder.validatorMaxLength(6), ControlBuilder.validatorPositiveIntOnly());\r\n        ControlBuilder.addFieldSubmit(this.valueField, this.addToBack,\r\n                {\r\n                    secondary: {\r\n                        field: this.indexField,\r\n                        callback: this.addAtIndex,\r\n                        isFirstParam: true\r\n                    }\r\n                }\r\n            );\r\n        ControlBuilder.addFieldSubmit(this.indexField, this.addAtIndex,\r\n                {\r\n                    secondaryRequired: true,\r\n                    secondary: {\r\n                        field: this.valueField\r\n                    }\r\n                }\r\n            );\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"addAtIndex\", this.indexField, {field: this.valueField, focus: true});\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"addToFront\", this.valueField);\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"addToBack\", this.valueField);\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"removeFromIndex\", this.indexField);\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"removeFromFront\");\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"removeFromBack\");\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.valueField);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.valueField, this.indexField);\r\n        ControlBuilder.setTabControl(this.indexField, this.addToFrontButton);\r\n        ControlBuilder.setTabControl(this.removeFromBackButton, this.addAtIndexButton);\r\n        ControlBuilder.setTabControl(this.resetButton, this.valueField);\r\n\r\n        // build groups\r\n        let addFrontBackGroup = ControlBuilder.createControlGroup(\"addFrontBack\", this.addToFrontButton, this.addToBackButton);\r\n        let removeFrontBackGroup = ControlBuilder.createControlGroup(\"removeFrontBack\", this.removeFromFrontButton, this.removeFromBackButton);\r\n        let valueFrontBackGroup = ControlBuilder.createControlGroup(\"valueFrontBack\", this.valueField, addFrontBackGroup, removeFrontBackGroup);\r\n\r\n        let indexGroup = ControlBuilder.createControlGroup(\"indexAddRemove\", this.indexField, this.addAtIndexButton, this.removeFromIndexButton);\r\n\r\n        let resetGroup = ControlBuilder.createControlGroup(\"reset\", this.resetButton);\r\n\r\n        super.addControlGroups(valueFrontBackGroup, indexGroup, resetGroup);\r\n    }\r\n}\r\n","import { ListVisualizer } from '../';\r\nimport { ArrayList } from 'animation';\r\nimport './arraylist.scss';\r\n\r\n\r\nexport default class ArrayListVisualizer extends ListVisualizer {\r\n    static VISUALIZATION_CLASS = ArrayList;\r\n    static DIV_CLASS = \"arraylist\";\r\n    static NAME = \"ArrayList\";\r\n}\r\n","import { ListVisualizer } from '../';\r\nimport { SinglyLinkedList } from 'animation';\r\nimport './singly-linked-list.scss';\r\n\r\n\r\nexport default class SinglyLinkedListVisualizer extends ListVisualizer {\r\n    static VISUALIZATION_CLASS = SinglyLinkedList;\r\n    static DIV_CLASS = \"singlylinkedlist\";\r\n    static NAME = \"SinglyLinkedList\";\r\n}\r\n","import { ListVisualizer } from '../';\r\nimport { DoublyLinkedList } from 'animation';\r\nimport './doubly-linked-list.scss';\r\n\r\n\r\nexport default class DoublyLinkedListVisualizer extends ListVisualizer {\r\n    static VISUALIZATION_CLASS = DoublyLinkedList;\r\n    static DIV_CLASS = \"doublylinkedlist\";\r\n    static NAME = \"DoublyLinkedList\";\r\n}\r\n","import { ListVisualizer } from '../';\r\nimport { CircularSinglyLinkedList } from 'animation';\r\nimport './circular-singly-linked-list.scss';\r\n\r\nexport default class CircularSinglyLinkedListVisualizer extends ListVisualizer {\r\n    static VISUALIZATION_CLASS = CircularSinglyLinkedList;\r\n    static DIV_CLASS = \"circularsinglylinkedlist\";\r\n    static NAME = \"CircularSinglyLinkedList\";\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class StackVisualizer extends Visualizer {\r\n    static ADT_NAME = \"stack\";\r\n    static VISUALIZATION_METHODS = [\"push\", \"pop\", \"reset\"];\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"value\", callback: \"push\"}, ControlBuilder.validatorMaxLength(6), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"push\", this.valueField);\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"pop\");\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.valueField);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.valueField);\r\n\r\n        // build groups\r\n        let interactionButtonGroup = ControlBuilder.createControlGroup(\"interactionButtons\", this.pushButton, this.popButton);\r\n        let mainControlGroup = ControlBuilder.createControlGroup(\"mainControl\", this.valueField, interactionButtonGroup);\r\n        let resetGroup = ControlBuilder.createControlGroup(\"resetGroup\", this.resetButton);\r\n\r\n        super.addControlGroups(mainControlGroup, resetGroup);\r\n    }\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class QueueVisualizer extends Visualizer {\r\n    static ADT_NAME = \"queue\";\r\n    static VISUALIZATION_METHODS = [\"enqueue\", \"dequeue\", \"reset\"];\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"value\", callback: \"enqueue\"}, ControlBuilder.validatorMaxLength(6), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"enqueue\", this.valueField);\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"dequeue\");\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.valueField);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.valueField);\r\n\r\n        // build groups\r\n        let interactionButtonGroup = ControlBuilder.createControlGroup(\"interactionButtons\", this.enqueueButton, this.dequeueButton);\r\n        let mainControlGroup = ControlBuilder.createControlGroup(\"mainControl\", this.valueField, interactionButtonGroup);\r\n        let resetGroup = ControlBuilder.createControlGroup(\"resetGroup\", this.resetButton);\r\n\r\n        super.addControlGroups(mainControlGroup, resetGroup);\r\n    }\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class DequeVisualizer extends Visualizer {\r\n    static ADT_NAME = \"deque\";\r\n    static VISUALIZATION_METHODS = [\"addFirst\", \"addLast\", \"removeFirst\", \"removeLast\", \"reset\"];\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"value\", callback: \"addLast\"}, ControlBuilder.validatorMaxLength(6), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, {name: \"addFirst\", longName: \"addFirst (push)\"}, this.valueField);\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, {name: \"addLast\", longName: \"addLast (enqueue)\"}, this.valueField);\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, {name: \"removeFirst\", longName: \"removeFirst (dequeue/pop)\"});\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"removeLast\");\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.valueField);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.valueField);\r\n\r\n        // build groups\r\n        let addButtonGroup = ControlBuilder.createControlGroup(\"addButtons\", this.addFirstButton, this.addLastButton);\r\n        let removeButtonGroup = ControlBuilder.createControlGroup(\"removeButtons\", this.removeFirstButton, this.removeLastButton);\r\n        let interactionGroup = ControlBuilder.createControlGroup(\"interactions\", this.valueField, addButtonGroup, removeButtonGroup);\r\n        let resetGroup = ControlBuilder.createControlGroup(\"resetGroup\", this.resetButton);\r\n\r\n        super.addControlGroups(interactionGroup, resetGroup);\r\n    }\r\n}\r\n","import { StackVisualizer } from '../';\r\nimport { StackArray } from 'animation';\r\nimport './stack-array.scss';\r\n\r\n\r\nexport default class StackArrayVisualizer extends StackVisualizer {\r\n    static VISUALIZATION_CLASS = StackArray;\r\n    static DIV_CLASS = \"stack-array\";\r\n    static NAME = \"Stack (Array)\";\r\n}\r\n","import { StackVisualizer } from '../';\r\nimport { StackLinkedList } from 'animation';\r\nimport './stack-linked-list.scss';\r\n\r\n\r\nexport default class StackLinkedListVisualizer extends StackVisualizer {\r\n    static VISUALIZATION_CLASS = StackLinkedList;\r\n    static DIV_CLASS = \"stack-linkedlist\";\r\n    static NAME = \"Stack (LinkedList)\";\r\n}\r\n","import { QueueVisualizer } from '../';\r\nimport { QueueArray } from 'animation';\r\nimport './queue-array.scss';\r\n\r\nexport default class QueueArrayVisualizer extends QueueVisualizer {\r\n    static VISUALIZATION_CLASS = QueueArray;\r\n    static DIV_CLASS = \"queue-array\";\r\n    static NAME = \"Queue (Array)\";\r\n}\r\n","import { QueueVisualizer } from '../';\r\nimport { QueueLinkedList } from 'animation';\r\nimport './queue-linked-list.scss';\r\n\r\n\r\nexport default class QueueLinkedListVisualizer extends QueueVisualizer {\r\n    static VISUALIZATION_CLASS = QueueLinkedList;\r\n    static DIV_CLASS = \"queue-linkedlist\";\r\n    static NAME = \"Queue (LinkedList)\";\r\n}\r\n","import { DequeVisualizer } from '../';\r\nimport { DequeArray } from 'animation';\r\nimport './deque-array.scss';\r\n\r\n\r\nexport default class DequeArrayVisualizer extends DequeVisualizer {\r\n    static VISUALIZATION_CLASS = DequeArray;\r\n    static DIV_CLASS = \"deque-array\";\r\n    static NAME = \"Deque (Array)\";\r\n}\r\n","import { DequeVisualizer } from '../';\r\nimport { DequeLinkedList } from 'animation';\r\nimport './deque-linked-list.scss';\r\n\r\n\r\nexport default class DequeLinkedListVisualizer extends DequeVisualizer {\r\n    static VISUALIZATION_CLASS = DequeLinkedList;\r\n    static DIV_CLASS = \"deque-linkedlist\";\r\n    static NAME = \"Deque (Linked List)\";\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\nimport './tree-ADT.scss';\r\n\r\nexport default class TreeVisualizer extends Visualizer {\r\n    static ADT_NAME = \"tree\";\r\n    static VISUALIZATION_METHODS = [\"insert\", \"delete\", \"find\", \"print\", \"reset\"];\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"insert\", longName: \"value\", args: {size: 10}}, ControlBuilder.validatorMaxLength(5), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"insert\", this.insertField);\r\n\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"delete\", longName: \"value\", args: {size: 10}}, ControlBuilder.validatorMaxLength(5), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"delete\", this.deleteField);\r\n\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"find\", longName: \"value\", args: {size: 10}}, ControlBuilder.validatorMaxLength(5), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"find\", this.findField);\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"print\");\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.insertField);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.insertField);\r\n\r\n        // build groups\r\n        let insertGroup = ControlBuilder.createControlGroup(\"insert-group\", this.insertField, this.insertButton);\r\n        let deleteGroup = ControlBuilder.createControlGroup(\"delete-group\", this.deleteField, this.deleteButton);\r\n        let findGroup = ControlBuilder.createControlGroup(\"find-group\", this.findField, this.findButton);\r\n        let printGroup = ControlBuilder.createControlGroup(\"print-group\", this.printButton);\r\n        let resetGroup = ControlBuilder.createControlGroup(\"reset-group\", this.resetButton);\r\n\r\n        super.addControlGroups(insertGroup, deleteGroup, findGroup, printGroup, resetGroup);\r\n    }\r\n}\r\n","import { TreeVisualizer } from './';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class BinarySearchingTreeVisualizer extends TreeVisualizer {\r\n    static VISUALIZATION_METHODS = [\"togglePredecessorSuccessor\"];\r\n\r\n    addControls() {\r\n        super.addControls();\r\n\r\n        this.togglePredecessorSuccessorRadio = ControlBuilder.createRadio(\"togglePredecessorSuccessor\", \"Predecessor\", \"Successor\");\r\n        ControlBuilder.addRadioSubmit(this.togglePredecessorSuccessorRadio, this.togglePredecessorSuccessor);\r\n\r\n        // build groups\r\n        let togglePredecessorSuccessorGroup = ControlBuilder.createControlGroup(\"togglePredecessorSuccessor\", this.togglePredecessorSuccessorRadio);\r\n\r\n        super.addControlGroups(togglePredecessorSuccessorGroup);\r\n    }\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class HeapVisualizer extends Visualizer {\r\n    static ADT_NAME = \"heap\";\r\n    static VISUALIZATION_METHODS = [\"enqueue\", \"dequeue\", \"reset\", \"buildHeap\", \"toggleMinMax\"];\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"value\", callback: \"enqueue\"}, ControlBuilder.validatorMaxLength(6), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"enqueue\", this.valueField);\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"dequeue\");\r\n\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"buildHeap\", prompt: \"1,-4,23,3-8,... [max 50 elements]\"}, ControlBuilder.validatorIntList(4,50));\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"buildHeap\", this.buildHeapField);\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.valueField);\r\n\r\n        this.toggleMinMaxRadio = ControlBuilder.createRadio(\"toggleMinMax\", \"MinHeap\", \"MaxHeap\");\r\n        ControlBuilder.addRadioSubmit(this.toggleMinMaxRadio, this.toggleMinMax);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.insertField);\r\n\r\n        // build groups\r\n        let interactionButtonGroup = ControlBuilder.createControlGroup(\"interactionButtons\", this.enqueueButton, this.dequeueButton);\r\n        let mainControlGroup = ControlBuilder.createControlGroup(\"mainControl\", this.valueField, interactionButtonGroup);\r\n        let resetGroup = ControlBuilder.createControlGroup(\"resetGroup\", this.resetButton);\r\n        let buildHeapGroup = ControlBuilder.createControlGroup({id: \"build-heap-group\", classes:[\"expanding-group\"]}, this.buildHeapField, this.buildHeapButton);\r\n        let toggleMinMaxGroup = ControlBuilder.createControlGroup(\"toggleMinMax\", this.toggleMinMaxRadio);\r\n\r\n        super.addControlGroups(mainControlGroup, resetGroup, buildHeapGroup, toggleMinMaxGroup);\r\n    }\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class SkipListADTVisualizer extends Visualizer {\r\n    static ADT_NAME = \"skiplist\";\r\n    static VISUALIZATION_METHODS = [\"addRandomly\", \"addWithHeads\", \"remove\", \"get\", \"reset\"];\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"value\", callback: false, args: {size: 10}}, ControlBuilder.validatorMaxLength(6), ControlBuilder.validatorIntOnly());\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"heads\", prompt: \"num heads\", callback: false, args: {size: 10}}, ControlBuilder.validatorMaxLength(2), ControlBuilder.validatorPositiveIntOnly());\r\n        ControlBuilder.addFieldSubmit(this.valueField, this.addRandomly,\r\n                {\r\n                    secondary: {\r\n                        field: this.headsField,\r\n                        callback: this.addWithHeads,\r\n                        clear: true\r\n                    }\r\n                }\r\n            );\r\n        ControlBuilder.addFieldSubmit(this.headsField, this.addWithHeads,\r\n                {\r\n                    secondaryRequired: true,\r\n                    secondary: {\r\n                        field: this.valueField,\r\n                        isFirstParam: true,\r\n                        clear: true\r\n                    }\r\n                }\r\n            );\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"addRandomly\", this.valueField);\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"addWithHeads\", {field: this.valueField, focus: true}, this.headsField);\r\n\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"remove\", longName: \"value\", args: {size: 10}}, ControlBuilder.validatorMaxLength(5), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"remove\", this.removeField);\r\n\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"get\", longName: \"value\", args: {size: 10}}, ControlBuilder.validatorMaxLength(5), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"get\", this.getField);\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.insertField);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.valueField);\r\n\r\n        // build groups\r\n        // let addFieldGroup = ControlBuilder.createControlGroup(\"add-field-group\", this.valueField, this.headsField);\r\n        // let addButtonGroup = ControlBuilder.createControlGroup(\"add-button-group\", this.addRandomlyButton, this.addWithHeadsButton);\r\n        let addRandomlyGroup = ControlBuilder.createControlGroup(\"add-field-group\", this.valueField, this.addRandomlyButton);\r\n        let addWithHeadsGroup = ControlBuilder.createControlGroup(\"add-button-group\", this.headsField, this.addWithHeadsButton);\r\n        // let addGroup = ControlBuilder.createControlGroup(\"add-group\", this.valueField, this.addRandomlyButton, addWithHeadsGroup);\r\n        let removeGroup = ControlBuilder.createControlGroup(\"remove-group\", this.removeField, this.removeButton);\r\n        let getGroup = ControlBuilder.createControlGroup(\"get-group\", this.getField, this.getButton);\r\n        let resetGroup = ControlBuilder.createControlGroup(\"reset-group\", this.resetButton);\r\n\r\n        super.addControlGroups(addRandomlyGroup, addWithHeadsGroup, removeGroup, getGroup, resetGroup);\r\n    }\r\n}\r\n","import { BinarySearchingTreeVisualizer } from '../';\r\nimport { BST } from 'animation';\r\nimport './bst.scss';\r\n\r\n\r\nexport default class BSTVisualizer extends BinarySearchingTreeVisualizer {\r\n    static VISUALIZATION_CLASS = BST;\r\n    static DIV_CLASS = \"bst\";\r\n    static NAME = \"Binary Search Tree\";\r\n}\r\n","import { HeapVisualizer } from '../';\r\nimport { Heap } from 'animation';\r\nimport './heap.scss';\r\n\r\n\r\nexport default class HeapPQVisualizer extends HeapVisualizer {\r\n    static VISUALIZATION_CLASS = Heap;\r\n    static DIV_CLASS = \"heap-pq\";\r\n    static NAME = \"Heap / Priority Queue\";\r\n}\r\n","import { BinarySearchingTreeVisualizer } from '../';\r\nimport { AVL } from 'animation';\r\nimport './avl.scss';\r\n\r\n\r\nexport default class AVLVisualizer extends BinarySearchingTreeVisualizer {\r\n    static VISUALIZATION_CLASS = AVL;\r\n    static DIV_CLASS = \"avl\";\r\n    static NAME = \"AVL\";\r\n}\r\n","import { TreeVisualizer } from '../';\r\nimport { SplayTree } from 'animation';\r\nimport './splaytree.scss';\r\n\r\n\r\nexport default class SplayTreeVisualizer extends TreeVisualizer {\r\n    static VISUALIZATION_CLASS = SplayTree;\r\n    static DIV_CLASS = \"splaytree\";\r\n    static NAME = \"SplayTree\";\r\n}\r\n","import { TreeVisualizer } from '../';\r\nimport { BTree } from 'animation';\r\nimport './btree.scss';\r\n\r\n\r\nexport default class BTreeVisualizer extends TreeVisualizer {\r\n    static VISUALIZATION_CLASS = BTree;\r\n    static DIV_CLASS = \"btree\";\r\n    static NAME = \"2-4 Tree\";\r\n}\r\n","import { SkipListADTVisualizer } from '../';\r\nimport { SkipList } from 'animation';\r\nimport './skiplist.scss';\r\n\r\n\r\nexport default class SkipListVisualizer extends SkipListADTVisualizer {\r\n    static VISUALIZATION_CLASS = SkipList;\r\n    static DIV_CLASS = \"skiplist\";\r\n    static NAME = \"SkipList\";\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class HashMapVisualizer extends Visualizer {\r\n    static ADT_NAME = \"hashmap\";\r\n    static VISUALIZATION_METHODS = [\"insert\", \"delete\", \"find\", \"reset\"];\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"insert\", longName: \"value\", args: {size: 10}}, ControlBuilder.validatorMaxLength(5), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"insert\", this.insertField);\r\n\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"delete\", longName: \"value\", args: {size: 10}}, ControlBuilder.validatorMaxLength(5), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"delete\", this.deleteField);\r\n\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"find\", longName: \"value\", args: {size: 10}}, ControlBuilder.validatorMaxLength(5), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"find\", this.findField);\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.insertField);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.insertField);\r\n\r\n        // build groups\r\n        let insertGroup = ControlBuilder.createControlGroup(\"insert-group\", this.insertField, this.insertButton);\r\n        let deleteGroup = ControlBuilder.createControlGroup(\"delete-group\", this.deleteField, this.deleteButton);\r\n        let findGroup = ControlBuilder.createControlGroup(\"find-group\", this.findField, this.findButton);\r\n        let resetGroup = ControlBuilder.createControlGroup(\"reset-group\", this.resetButton);\r\n\r\n        super.addControlGroups(insertGroup, deleteGroup, findGroup, resetGroup);\r\n    }\r\n}\r\n","import { HashMapVisualizer } from './';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class ProbingVisualizer extends HashMapVisualizer {\r\n    static VISUALIZATION_METHODS = [\"toggleProbingMode\"];\r\n\r\n    addControls() {\r\n        super.addControls();\r\n\r\n        this.toggleProbingModeRadio = ControlBuilder.createRadio(\"toggleProbingMode\",\r\n                {value: \"linear\", longText: \"Linear Probing: ind = hash(x) + i*1\"},\r\n                {value: \"linear\", longText: \"Quadratic Probing: ind = hash(x) + i*i\"},\r\n                {value: \"linear\", longText: \"Double Hashing: ind = hash(x) + i*hash2(x)\"});\r\n        ControlBuilder.addRadioSubmit(this.toggleProbingModeRadio, this.toggleProbingMode);\r\n\r\n        // build groups\r\n        let toggleProbingModeGroup = ControlBuilder.createControlGroup(\"toggleProbingMode\", this.toggleProbingModeRadio);\r\n\r\n        super.addControlGroups(toggleProbingModeGroup);\r\n    }\r\n}\r\n","import { ProbingVisualizer } from '../';\r\nimport { HashMapProbing } from 'animation';\r\nimport './hashmap-probing.scss';\r\n\r\n\r\nexport default class HashMapProbingVisualizer extends ProbingVisualizer {\r\n    static VISUALIZATION_CLASS = HashMapProbing;\r\n    static DIV_CLASS = \"hashmap-probing\";\r\n    static NAME = \"HashMap (Probing)\";\r\n}\r\n","import { HashMapVisualizer } from '../';\r\nimport { HashMapChaining } from 'animation';\r\nimport './hashmap-chaining.scss';\r\n\r\n\r\nexport default class HashMapChainingVisualizer extends HashMapVisualizer {\r\n    static VISUALIZATION_CLASS = HashMapChaining;\r\n    static DIV_CLASS = \"hashmap-chaining\";\r\n    static NAME = \"HashMap (Chaining)\";\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class SortVisualizer extends Visualizer {\r\n    static ADT_NAME = \"sort\";\r\n    static VISUALIZATION_METHODS = [\"sort\", \"reset\"];\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"sort\", prompt: \"1,-4,23,3-8,... [max 50 elements]\"}, ControlBuilder.validatorIntList(4,50));\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"sort\", this.sortField);\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.sortField);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.sortField);\r\n\r\n        // build groups\r\n        let sortFieldGroup = ControlBuilder.createControlGroup({id: \"sort-field-group\", classes:[\"expanding-group\",\"w50\"]}, this.sortField);\r\n        let sortButtonGroup = ControlBuilder.createControlGroup(\"sort-button-group\", this.sortButton);\r\n        let resetGroup = ControlBuilder.createControlGroup(\"reset-group\", this.resetButton);\r\n\r\n        super.addControlGroups(sortFieldGroup, sortButtonGroup, resetGroup);\r\n    }\r\n}\r\n","import { SortVisualizer } from './';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class BubblingVisualizer extends SortVisualizer {\r\n    static VISUALIZATION_METHODS = [\"toggleLastSwapOptimization\"];\r\n\r\n    addControls() {\r\n        super.addControls();\r\n\r\n        this.toggleLastSwapOptimizationCheckBox = ControlBuilder.createCheckBox(\"toggleLastSwapOptimization\",\r\n                {value: \"enableLastSwap\", longText: \"Enable last swap optimization\"});\r\n        ControlBuilder.addCheckBoxSubmit(this.toggleLastSwapOptimizationCheckBox, this.toggleLastSwapOptimization);\r\n\r\n        // build groups\r\n        let toggleLastSwapOptimizationGroup = ControlBuilder.createControlGroup(\"toggleLastSwapOptimization-group\", this.toggleLastSwapOptimizationCheckBox);\r\n\r\n        super.addControlGroups(toggleLastSwapOptimizationGroup);\r\n    }\r\n}\r\n","import { SortVisualizer } from './';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class QuickVisualizer extends SortVisualizer {\r\n    static VISUALIZATION_METHODS = [\"toggleSelectPivotElement\"];\r\n\r\n    addControls() {\r\n        super.addControls();\r\n\r\n        this.toggleSelectPivotElementCheckBox = ControlBuilder.createCheckBox(\"toggleSelectPivotElement\",\r\n                {value: \"selectMin\", longText: \"Pick min element as pivot\"},\r\n                {value: \"selectMax\", longText: \"Pick max element as pivot\"});\r\n        ControlBuilder.addCheckBoxSubmit(this.toggleSelectPivotElementCheckBox, {callback: this.toggleSelectPivotElement, max1Checked: true});\r\n\r\n        // build groups\r\n        let toggleSelectPivotElementGroup = ControlBuilder.createControlGroup(\"toggleSelectPivotElement-group\", this.toggleSelectPivotElementCheckBox);\r\n\r\n        super.addControlGroups(toggleSelectPivotElementGroup);\r\n    }\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class SelectVisualizer extends Visualizer {\r\n    static ADT_NAME = \"quickselect\";\r\n    static VISUALIZATION_METHODS = [\"select\", \"reset\", \"toggleSelectPivotElement\"];\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"list\", prompt: \"1,-4,23,3-8,... [max 50 elements]\", callback: false}, ControlBuilder.validatorIntList(4,50));\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"kth\", prompt: \"k (1-indexed)\", callback: false, args: {size: 8}}, ControlBuilder.validatorPositiveIntOnly());\r\n        ControlBuilder.addFieldSubmit(this.listField, this.select,\r\n                {\r\n                    secondaryRequired: true,\r\n                    secondary: {\r\n                        field: this.kthField,\r\n                        clear: true\r\n                    }\r\n                }\r\n            );\r\n        ControlBuilder.addFieldSubmit(this.kthField, this.select,\r\n                {\r\n                    secondaryRequired: true,\r\n                    secondary: {\r\n                        field: this.listField,\r\n                        isFirstParam: true,\r\n                        clear: true\r\n                    }\r\n                }\r\n            );\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"select\", {field: this.listField, focus: true}, this.kthField);\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.listField);\r\n\r\n        this.toggleSelectPivotElementCheckBox = ControlBuilder.createCheckBox(\"toggleSelectPivotElement\",\r\n                {value: \"selectMin\", longText: \"Pick min element as pivot\"},\r\n                {value: \"selectMax\", longText: \"Pick max element as pivot\"});\r\n        ControlBuilder.addCheckBoxSubmit(this.toggleSelectPivotElementCheckBox, {callback: this.toggleSelectPivotElement, max1Checked: true});\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.listField);\r\n\r\n        // build groups\r\n        let listFieldGroup = ControlBuilder.createControlGroup({id: \"list-field-group\", classes:[\"expanding-group\",\"w50\"]}, this.listField);\r\n        let kthFieldGroup = ControlBuilder.createControlGroup(\"kth-field-group\", this.kthField);\r\n        let selectButtonGroup = ControlBuilder.createControlGroup(\"select-button-group\", this.selectButton);\r\n        let resetGroup = ControlBuilder.createControlGroup(\"reset-group\", this.resetButton);\r\n        let toggleSelectPivotElementGroup = ControlBuilder.createControlGroup(\"toggleSelectPivotElement-group\", this.toggleSelectPivotElementCheckBox);\r\n\r\n        super.addControlGroups(listFieldGroup, kthFieldGroup, selectButtonGroup, resetGroup, toggleSelectPivotElementGroup);\r\n    }\r\n}\r\n","import { BubblingVisualizer } from '../';\r\nimport { BubbleSort } from 'animation';\r\nimport './bubble-sort.scss';\r\n\r\n\r\nexport default class BubbleSortVisualizer extends BubblingVisualizer {\r\n    static VISUALIZATION_CLASS = BubbleSort;\r\n    static DIV_CLASS = \"bubble-sort\";\r\n    static NAME = \"Bubble Sort\";\r\n}\r\n","import { BubblingVisualizer } from '../';\r\nimport { CocktailShakerSort } from 'animation';\r\nimport './cocktail-shaker-sort.scss';\r\n\r\n\r\nexport default class CocktailShakerSortVisualizer extends BubblingVisualizer {\r\n    static VISUALIZATION_CLASS = CocktailShakerSort;\r\n    static DIV_CLASS = \"cocktail-shaker-sort\";\r\n    static NAME = \"Cocktail Shaker Sort\";\r\n}\r\n","import { SortVisualizer } from '../';\r\nimport { InsertionSort } from 'animation';\r\nimport './insertion-sort.scss';\r\n\r\n\r\nexport default class InsertionSortVisualizer extends SortVisualizer {\r\n    static VISUALIZATION_CLASS = InsertionSort;\r\n    static DIV_CLASS = \"insertion-sort\";\r\n    static NAME = \"Insertion Sort\";\r\n}\r\n","import { SortVisualizer } from '../';\r\nimport { SelectionSort } from 'animation';\r\nimport './selection-sort.scss';\r\n\r\n\r\nexport default class SelectionSortVisualizer extends SortVisualizer {\r\n    static VISUALIZATION_CLASS = SelectionSort;\r\n    static DIV_CLASS = \"selection-sort\";\r\n    static NAME = \"Selection Sort\";\r\n}\r\n","import { QuickVisualizer } from '../';\r\nimport { QuickSort } from 'animation';\r\nimport './quick-sort.scss';\r\n\r\n\r\nexport default class QuickSortVisualizer extends QuickVisualizer {\r\n    static VISUALIZATION_CLASS = QuickSort;\r\n    static DIV_CLASS = \"quick-sort\";\r\n    static NAME = \"Quick Sort\";\r\n}\r\n","import { SelectVisualizer } from '../';\r\nimport { QuickSelect } from 'animation';\r\nimport './quick-select.scss';\r\n\r\n\r\nexport default class QuickSelectVisualizer extends SelectVisualizer {\r\n    static VISUALIZATION_CLASS = QuickSelect;\r\n    static DIV_CLASS = \"quick-select\";\r\n    static NAME = \"kᵗʰ Select / Quick Select\";\r\n}\r\n","import { SortVisualizer } from '../';\r\nimport { MergeSort } from 'animation';\r\nimport './merge-sort.scss';\r\n\r\n\r\nexport default class MergeSortVisualizer extends SortVisualizer {\r\n    static VISUALIZATION_CLASS = MergeSort;\r\n    static DIV_CLASS = \"merge-sort\";\r\n    static NAME = \"Merge Sort\";\r\n}\r\n","import { SortVisualizer } from '../';\r\nimport { LSDRadixSort } from 'animation';\r\nimport './lsd-radix-sort.scss';\r\n\r\n\r\nexport default class LSDRadixSortVisualizer extends SortVisualizer {\r\n    static VISUALIZATION_CLASS = LSDRadixSort;\r\n    static DIV_CLASS = \"lsd-radix-sort\";\r\n    static NAME = \"LSD Radix Sort\";\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class SearchVisualizer extends Visualizer {\r\n    static ADT_NAME = \"search\";\r\n    static VISUALIZATION_METHODS = [\"search\", \"reset\"];\r\n\r\n    addControls(offerTable = false) {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"searchText\", prompt: \"text\", callback: false}, ControlBuilder.validatorMaxLength(100));\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"pattern\", callback: false, args: {size: 15}}, ControlBuilder.validatorMaxLength(100));\r\n        ControlBuilder.addFieldSubmit(this.searchTextField, this.search,\r\n                {\r\n                    secondaryRequired: true,\r\n                    secondary: {\r\n                        field: this.patternField,\r\n                        clear: true\r\n                    }\r\n                }\r\n            );\r\n        ControlBuilder.addFieldSubmit(this.patternField, offerTable ? this.buildTable : this.search,\r\n                {\r\n                    secondaryRequired: !offerTable,\r\n                    secondary: {\r\n                        field: this.searchTextField,\r\n                        callback: this.search,\r\n                        isFirstParam: true,\r\n                        clear: true\r\n                    }\r\n                }\r\n            );\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"search\", {field: this.searchTextField, focus: true}, this.patternField);\r\n\r\n        if (offerTable) {\r\n            ControlBuilder.applyNewCallbackButton(this, {name: \"buildTable\", longName: `build ${offerTable} table`}, this.patternField);\r\n        }\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.searchTextField);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.searchTextField);\r\n\r\n        // build groups\r\n        let searchTextFieldGroup = ControlBuilder.createControlGroup({id: \"searchtext-field-group\", classes:[\"expanding-group\",\"w50\"]}, this.searchTextField);\r\n        let patternFieldGroup = ControlBuilder.createControlGroup(\"pattern-field-group\", this.patternField);\r\n        let searchButtonGroup = ControlBuilder.createControlGroup(\"search-button-group\", this.searchButton);\r\n        let buildTableGroup = offerTable ? ControlBuilder.createControlGroup(\"buildtable-button-group\", this.buildTableButton) : undefined;\r\n        let resetGroup = ControlBuilder.createControlGroup(\"reset-group\", this.resetButton);\r\n\r\n        super.addControlGroups(searchTextFieldGroup, patternFieldGroup, searchButtonGroup);\r\n        if (offerTable) {\r\n            super.addControlGroups(buildTableGroup);\r\n        }\r\n        super.addControlGroups(resetGroup);\r\n    }\r\n}\r\n","import { SearchVisualizer } from './';\r\n\r\n\r\nexport default class SearchWithTableVisualizer extends SearchVisualizer {\r\n    static VISUALIZATION_METHODS = [\"buildTable\"];\r\n\r\n    addControls() {\r\n        super.addControls(this.constructor.TABLE_NAME);\r\n    }\r\n}\r\n","import { SearchVisualizer } from '../';\r\nimport { BruteForce } from 'animation';\r\nimport './brute-force.scss';\r\n\r\n\r\nexport default class BruteForceVisualizer extends SearchVisualizer {\r\n    static VISUALIZATION_CLASS = BruteForce;\r\n    static DIV_CLASS = \"brute-force\";\r\n    static NAME = \"Brute Force Search\";\r\n}\r\n","import { SearchWithTableVisualizer } from '../';\r\nimport { BoyerMoore } from 'animation';\r\nimport './boyer-moore.scss';\r\n\r\n\r\nexport default class BoyerMooreVisualizer extends SearchWithTableVisualizer {\r\n    static VISUALIZATION_CLASS = BoyerMoore;\r\n    static DIV_CLASS = \"boyer-moore\";\r\n    static NAME = \"Boyer-Moore Algorithm\";\r\n\r\n    static TABLE_NAME = \"last occurence\";\r\n}\r\n","import { SearchWithTableVisualizer } from '../';\r\nimport { KMP } from 'animation';\r\nimport './kmp.scss';\r\n\r\n\r\nexport default class KMPVisualizer extends SearchWithTableVisualizer {\r\n    static VISUALIZATION_CLASS = KMP;\r\n    static DIV_CLASS = \"kmp\";\r\n    static NAME = \"Knuth–Morris–Pratt Algorithm\";\r\n\r\n    static TABLE_NAME = \"failure\";\r\n}\r\n","import { SearchVisualizer } from '../';\r\nimport { RabinKarp } from 'animation';\r\nimport './rabin-karp.scss';\r\n\r\n\r\nexport default class RabinKarpVisualizer extends SearchVisualizer {\r\n    static VISUALIZATION_CLASS = RabinKarp;\r\n    static DIV_CLASS = \"rabin-karp\";\r\n    static NAME = \"Rabin Karp Algorithm\";\r\n}\r\n","import Visualizer from 'components/visualizer';\r\n\r\nimport './graph.scss';\r\n\r\nexport default class GraphVisualizer extends Visualizer {\r\n    static ADT_NAME = \"graph\";\r\n    static VISUALIZATION_METHODS = [\"run\", \"newSmallGraph\", \"newLargeGraph\", \"toggleRepresentation\"];\r\n}\r\n","import { ControlBuilder } from 'utils';\r\n\r\nexport function addStartVertexField_and_runButton(visualizer) {\r\n    ControlBuilder.applyFieldWithOptions(visualizer, {name: \"startVertex\", prompt: \"start vertex\", callback: \"run\", args: {size: 10}}, ControlBuilder.validatorMaxLength(2));\r\n    ControlBuilder.applyNewCallbackButton(visualizer, \"run\", visualizer.startVertexField);\r\n    let runGroup = ControlBuilder.createControlGroup(\"run-group\", visualizer.startVertexField, visualizer.runButton);\r\n    visualizer.addControlGroups(runGroup);\r\n}\r\n\r\nexport function addRunButton(visualizer) {\r\n    ControlBuilder.applyNewCallbackButton(visualizer, \"run\");\r\n    let runButtonGroup = ControlBuilder.createControlGroup(\"run-button-group\", visualizer.runButton);\r\n    visualizer.addControlGroups(runButtonGroup);\r\n}\r\n\r\nexport function addDFStypeRadio(visualizer) {\r\n    visualizer.toggleDFStypeRadio = ControlBuilder.createRadio(\"toggleDFStype\", \"Stack\", \"Recursion\");\r\n    ControlBuilder.addRadioSubmit(visualizer.toggleDFStypeRadio, visualizer.toggleDFStype);\r\n    let dfsTypeRadioGroup = ControlBuilder.createControlGroup(\"toggleDFStype\", visualizer.toggleDFStypeRadio);\r\n    visualizer.addControlGroups(dfsTypeRadioGroup);\r\n}\r\n\r\nexport function addNewGraphButtons(visualizer) {\r\n    ControlBuilder.applyNewCallbackButton(visualizer, \"newSmallGraph\");\r\n    ControlBuilder.applyNewCallbackButton(visualizer, \"newLargeGraph\");\r\n    let newGraphButtonsGroup = ControlBuilder.createControlGroup(\"new-graph-group\", visualizer.newSmallGraphButton, visualizer.newLargeGraphButton);\r\n    visualizer.addControlGroups(newGraphButtonsGroup);\r\n}\r\n\r\nexport function addDirectedUndirectedRadio(visualizer) {\r\n    visualizer.toggleUndirectedDirectedRadio = ControlBuilder.createRadio(\"toggleUndirectedDirected\", \"Undirected\", \"Directed\");\r\n    ControlBuilder.addRadioSubmit(visualizer.toggleUndirectedDirectedRadio, visualizer.toggleUndirectedDirected);\r\n    let directedUndirectedRadioGroup = ControlBuilder.createControlGroup(\"toggleUndirectedDirected\", visualizer.toggleUndirectedDirectedRadio);\r\n    visualizer.addControlGroups(directedUndirectedRadioGroup);\r\n}\r\n\r\nexport function addRepresentationRadio(visualizer) {\r\n    visualizer.toggleRepresentationRadio = ControlBuilder.createRadio(\"toggleRepresentation\",\r\n            {value: \"nodeEdge\", longText: \"Node/Edge Prepresentation\"},\r\n            {value: \"adjacencyList\", longText: \"Adjacency List Prepresentation\"},\r\n            {value: \"adjacencyMatrix\", longText: \"Adjacency Matrix Prepresentation\"},\r\n        );\r\n    ControlBuilder.addRadioSubmit(visualizer.toggleRepresentationRadio, visualizer.toggleRepresentation);\r\n    let representationRadioGroup = ControlBuilder.createControlGroup(\"toggleRepresentation\", visualizer.toggleRepresentationRadio);\r\n    visualizer.addControlGroups(representationRadioGroup);\r\n}\r\n","import * as GraphVisualizerControls from './graph-visualizer-controls';\r\n\r\nexport default GraphVisualizerControls;\r\n","import { GraphVisualizer } from '../';\r\nimport GraphControls from 'components/graph-visualizer-controls';\r\n\r\nimport { BFS } from 'animation';\r\nimport './bfs.scss';\r\n\r\n\r\nexport default class BFSVisualizer extends GraphVisualizer {\r\n    static VISUALIZATION_METHODS = [\"toggleUndirectedDirected\"];\r\n\r\n    static VISUALIZATION_CLASS = BFS;\r\n    static DIV_CLASS = \"bfs\";\r\n    static NAME = \"Breadth-First Search\";\r\n\r\n    addControls() {\r\n        GraphControls.addStartVertexField_and_runButton(this);\r\n        GraphControls.addNewGraphButtons(this);\r\n        GraphControls.addDirectedUndirectedRadio(this);\r\n        GraphControls.addRepresentationRadio(this);\r\n    }\r\n}\r\n","import { GraphVisualizer } from '../';\r\nimport GraphControls from 'components/graph-visualizer-controls';\r\n\r\nimport { DFS } from 'animation';\r\nimport './dfs.scss';\r\n\r\n\r\nexport default class DFSVisualizer extends GraphVisualizer {\r\n    static VISUALIZATION_METHODS = [\"toggleDFStype\", \"toggleUndirectedDirected\"];\r\n\r\n    static VISUALIZATION_CLASS = DFS;\r\n    static DIV_CLASS = \"dfs\";\r\n    static NAME = \"Depth-First Search\";\r\n\r\n    addControls() {\r\n        GraphControls.addStartVertexField_and_runButton(this);\r\n        GraphControls.addDFStypeRadio(this);\r\n        GraphControls.addNewGraphButtons(this);\r\n        GraphControls.addDirectedUndirectedRadio(this);\r\n        GraphControls.addRepresentationRadio(this);\r\n    }\r\n}\r\n","import { GraphVisualizer } from '../';\r\nimport GraphControls from 'components/graph-visualizer-controls';\r\n\r\nimport { Dijkstras } from 'animation';\r\nimport './dijkstras.scss';\r\n\r\n\r\nexport default class DijkstrasVisualizer extends GraphVisualizer {\r\n    static VISUALIZATION_METHODS = [\"toggleUndirectedDirected\"];\r\n\r\n    static VISUALIZATION_CLASS = Dijkstras;\r\n    static DIV_CLASS = \"dijkstras\";\r\n    static NAME = \"Dijkstra's (Shortest Path) Algorithm\";\r\n\r\n    addControls() {\r\n        GraphControls.addStartVertexField_and_runButton(this);\r\n        GraphControls.addNewGraphButtons(this);\r\n        GraphControls.addDirectedUndirectedRadio(this);\r\n        GraphControls.addRepresentationRadio(this);\r\n    }\r\n}\r\n","import { GraphVisualizer } from '../';\r\nimport GraphControls from 'components/graph-visualizer-controls';\r\n\r\nimport { Prims } from 'animation';\r\nimport './prims.scss';\r\n\r\n\r\nexport default class PrimsVisualizer extends GraphVisualizer {\r\n    static VISUALIZATION_CLASS = Prims;\r\n    static DIV_CLASS = \"prims\";\r\n    static NAME = \"Prim's (Minimum Spanning Tree) Algorithm\";\r\n\r\n    addControls() {\r\n        GraphControls.addStartVertexField_and_runButton(this);\r\n        GraphControls.addNewGraphButtons(this);\r\n        GraphControls.addRepresentationRadio(this);\r\n    }\r\n}\r\n","import { GraphVisualizer } from '../';\r\nimport GraphControls from 'components/graph-visualizer-controls';\r\n\r\nimport { Kruskals } from 'animation';\r\nimport './kruskals.scss';\r\n\r\n\r\nexport default class KruskalsVisualizer extends GraphVisualizer {\r\n    static VISUALIZATION_CLASS = Kruskals;\r\n    static DIV_CLASS = \"kruskals\";\r\n    static NAME = \"Kruskal's (Minimum Spanning Tree) Algorithm\";\r\n\r\n    addControls() {\r\n        GraphControls.addRunButton(this);\r\n        GraphControls.addNewGraphButtons(this);\r\n        GraphControls.addRepresentationRadio(this);\r\n    }\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\nimport { LCS } from 'animation';\r\nimport './lcs.scss';\r\n\r\n\r\nexport default class LCSVisualizer extends Visualizer {\r\n    static ADT_NAME = \"lcs\";\r\n    static VISUALIZATION_METHODS = [\"findLCS\"];\r\n\r\n    static VISUALIZATION_CLASS = LCS;\r\n    static DIV_CLASS = \"lcs\";\r\n    static NAME = \"Longest Common Subsequence\";\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"firstString\", prompt: \"first string\", callback: false}, ControlBuilder.validatorMaxLength(100));\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"secondString\", prompt: \"second string\", callback: false}, ControlBuilder.validatorMaxLength(100));\r\n        ControlBuilder.addFieldSubmit(this.firstStringField, this.findLCS,\r\n                {\r\n                    secondaryRequired: true,\r\n                    secondary: {\r\n                        field: this.secondStringField,\r\n                        clear: true\r\n                    }\r\n                }\r\n            );\r\n        ControlBuilder.addFieldSubmit(this.secondStringField, this.findLCS,\r\n                {\r\n                    secondaryRequired: true,\r\n                    secondary: {\r\n                        field: this.firstStringField,\r\n                        isFirstParam: true,\r\n                        clear: true\r\n                    }\r\n                }\r\n            );\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, {name: \"findLCS\", longName: `Find LCS`}, {field: this.firstStringField, focus: true}, this.secondStringField);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.findLCSButton, this.firstStringField);\r\n\r\n        // build groups\r\n        let stringFieldGroup = ControlBuilder.createControlGroup({id: \"findLCStext-field-group\", classes:[\"expanding-group\",\"w50\"]}, this.firstStringField, this.secondStringField);\r\n        let lcsButtonGroup = ControlBuilder.createControlGroup(\"lcs-button-group\", this.findLCSButton);\r\n\r\n        super.addControlGroups(stringFieldGroup, lcsButtonGroup);\r\n    }\r\n}\r\n","import { GraphVisualizer } from 'components/graph-algorithms';\r\nimport GraphControls from 'components/graph-visualizer-controls';\r\n\r\nimport { FloydWarshall } from 'animation';\r\nimport './floyd-warshall.scss';\r\n\r\n\r\nexport default class FloydWarshallVisualizer extends GraphVisualizer {\r\n    static ADT_NAME = \"graph\";\r\n    static VISUALIZATION_METHODS = [\"toggleUndirectedDirected\"];\r\n\r\n    static VISUALIZATION_CLASS = FloydWarshall;\r\n    static DIV_CLASS = \"floyd-warshall\";\r\n    static NAME = \"Floyd Warshall (Shortest Path) Algorithm\";\r\n\r\n    addControls() {\r\n        GraphControls.addRunButton(this);\r\n        GraphControls.addNewGraphButtons(this);\r\n        GraphControls.addDirectedUndirectedRadio(this);\r\n        GraphControls.addRepresentationRadio(this);\r\n    }\r\n}\r\n","import { default as ArrayListVisualizer } from 'components/lists/arraylist';\r\nimport { default as SinglyLinkedListVisualizer } from 'components/lists/singly-linked-list';\r\nimport { default as DoublyLinkedListVisualizer } from 'components/lists/doubly-linked-list';\r\nimport { default as CircularSinglyLinkedListVisualizer } from 'components/lists/circular-singly-linked-list';\r\n\r\nimport { default as StackArrayVisualizer } from 'components/stacks-queues-deques/stack-array';\r\nimport { default as StackLinkedListVisualizer } from 'components/stacks-queues-deques/stack-linked-list';\r\nimport { default as QueueArrayVisualizer } from 'components/stacks-queues-deques/queue-array';\r\nimport { default as QueueLinkedListVisualizer } from 'components/stacks-queues-deques/queue-linked-list';\r\nimport { default as DequeArrayVisualizer } from 'components/stacks-queues-deques/deque-array';\r\nimport { default as DequeLinkedListVisualizer } from 'components/stacks-queues-deques/deque-linked-list';\r\n\r\nimport { default as BSTVisualizer } from 'components/trees-skiplist/bst';\r\nimport { default as HeapVisualizer } from 'components/trees-skiplist/heap';\r\nimport { default as AVLVisualizer } from 'components/trees-skiplist/avl';\r\nimport { default as SplayTreeVisualizer } from 'components/trees-skiplist/splaytree';\r\nimport { default as BTreeVisualizer } from 'components/trees-skiplist/btree';\r\nimport { default as SkipListVisualizer } from 'components/trees-skiplist/skiplist';\r\n\r\nimport { default as HashMapProbingVisualizer } from 'components/hashmaps/hashmap-probing';\r\nimport { default as HashMapChainingVisualizer } from 'components/hashmaps/hashmap-chaining';\r\n\r\nimport { default as BubbleSortVisualizer } from 'components/sorting-quickselect/bubble-sort';\r\nimport { default as CocktailShakerSortVisualizer } from 'components/sorting-quickselect/cocktail-shaker-sort';\r\nimport { default as InsertionSortVisualizer } from 'components/sorting-quickselect/insertion-sort';\r\nimport { default as SelectionSortVisualizer } from 'components/sorting-quickselect/selection-sort';\r\nimport { default as QuickSortVisualizer } from 'components/sorting-quickselect/quick-sort';\r\nimport { default as QuickSelectVisualizer } from 'components/sorting-quickselect/quick-select';\r\nimport { default as MergeSortVisualizer } from 'components/sorting-quickselect/merge-sort';\r\nimport { default as LSDRadixSortVisualizer } from 'components/sorting-quickselect/lsd-radix-sort';\r\n\r\nimport { default as BruteForceVisualizer } from 'components/string-searching/brute-force';\r\nimport { default as BoyerMooreVisualizer } from 'components/string-searching/boyer-moore';\r\nimport { default as KMPVisualizer } from 'components/string-searching/kmp';\r\nimport { default as RabinKarpVisualizer } from 'components/string-searching/rabin-karp';\r\n\r\nimport { default as BFSVisualizer } from 'components/graph-algorithms/bfs';\r\nimport { default as DFSVisualizer } from 'components/graph-algorithms/dfs';\r\nimport { default as DijkstrasVisualizer } from 'components/graph-algorithms/dijkstras';\r\nimport { default as PrimsVisualizer } from 'components/graph-algorithms/prims';\r\nimport { default as KruskalsVisualizer } from 'components/graph-algorithms/kruskals';\r\n\r\nimport { default as LCSVisualizer } from 'components/dynamic-programming/lcs';\r\nimport { default as FloydWarshallVisualizer } from 'components/dynamic-programming/floyd-warshall';\r\n\r\nexport const SiteMap =\r\n[\r\n    {\r\n        link: \"datastructures\",\r\n        icon: \"sitemap\",\r\n        title_text: \"Data Structures\",\r\n        types: [\r\n            {\r\n                link: \"lists\",\r\n                title_text: \"Lists\",\r\n                classes: [\r\n                    {\r\n                        link: \"arraylist\",\r\n                        title_text: \"ArrayList\",\r\n                        component: ArrayListVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"add\", \"remove\", \"get\"],\r\n                                cols: [\"Front\", \"AtIndex(i)\", \"Back\"],\r\n                                col1Name: \"Operation\",\r\n                                add_Front: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                add_AtIndex: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                add_Back: {\r\n                                    amortized: \"O(1)\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                remove_Front: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                remove_AtIndex: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                remove_Back: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                get: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"sll\",\r\n                        title_text: \"Singly LinkedList\",\r\n                        component: SinglyLinkedListVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"add\", \"remove\", \"get\"],\r\n                                cols: [\"Front\", \"AtIndex(i)\", \"Back\"],\r\n                                col1Name: \"Operation\",\r\n                                add_Front: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                add_AtIndex: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                add_Back: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                remove_Front: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                remove_AtIndex: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                remove_Back: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                get_Front: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                get_AtIndex: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                get_Back: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                            },\r\n                            withTailConfig: {\r\n                                name: \"With Tail Pointer\",\r\n                                add_Back: {\r\n                                    newBigO: \"O(1)\",\r\n                                },\r\n                                get_Back: {\r\n                                    newBigO: \"O(1)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"dll\",\r\n                        title_text: \"Doubly LinkedList\",\r\n                        component: DoublyLinkedListVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"add\", \"remove\", \"get\"],\r\n                                cols: [\"Front\", \"AtIndex(i)\", \"Back\"],\r\n                                col1Name: \"Operation\",\r\n                                add_Front: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                add_AtIndex: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                add_Back: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                remove_Front: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                remove_AtIndex: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                remove_Back: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                get_Front: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                get_AtIndex: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                get_Back: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                            },\r\n                            withTailConfig: {\r\n                                name: \"With Tail Pointer\",\r\n                                Back: {\r\n                                    newBigO: \"O(1)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"c-sll\",\r\n                        title_text: \"Circular Singly LinkedList\",\r\n                        component: CircularSinglyLinkedListVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"add\", \"remove\", \"get\"],\r\n                                cols: [\"Front\", \"AtIndex(i)\", \"Back\"],\r\n                                col1Name: \"Operation\",\r\n                                add_Front: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                add_AtIndex: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                add_Back: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                remove_Front: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                remove_AtIndex: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                remove_Back: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                get_Front: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                get_AtIndex: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                get_Back: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                            },\r\n                            withTailConfig: {\r\n                                name: \"With Tail Pointer\",\r\n                                get_Back: {\r\n                                    newBigO: \"O(1)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                ],\r\n            },\r\n            {\r\n                link: \"stacks-queues-deques\",\r\n                title_text: \"Stacks/Queues/Deques\",\r\n                bigOOverride: \"ADT_INFOS\",\r\n                bigOData: [\r\n                    {\r\n                        title_text: \"Stack\",\r\n                        class: \"stack-array\"\r\n                    },\r\n                    {\r\n                        title_text: \"Queue\",\r\n                        class: \"queue-array\"\r\n                    },\r\n                    {\r\n                        title_text: \"Deque\",\r\n                        class: \"deque-array\"\r\n                    },\r\n                ],\r\n                classes: [\r\n                    {\r\n                        link: \"stack-array\",\r\n                        title_text: \"Stack (Array)\",\r\n                        component: StackArrayVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Array\", \"LinkedList\"],\r\n                                cols: [\"push\", \"pop\", \"peek\"],\r\n                                col1Name: \"Backing Structure\",\r\n                                Array_push: {\r\n                                    amortized: \"O(1)\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                Array_pop: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                Array_peek: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                LinkedList: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"stack-linkedlist\",\r\n                        title_text: \"Stack (LinkedList)\",\r\n                        component: StackLinkedListVisualizer,\r\n                        bigOData: [\"datastructures\", \"stacks-queues-deques\", \"stack-array\"],\r\n                    },\r\n                    {\r\n                        link: \"queue-array\",\r\n                        title_text: \"Queue (Array)\",\r\n                        component: QueueArrayVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Circular Array\", \"SinglyLinkedList\", \"DoublyLinkedList\"],\r\n                                cols: [\"enqueue\", \"dequeue\", \"peek\"],\r\n                                col1Name: \"Backing Structure\",\r\n                                Circular_enqueue: {\r\n                                    amortized: \"O(1)\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                Circular_dequeue: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                Circular_peek: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                SinglyLinkedList_enqueue: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                SinglyLinkedList_dequeue: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                SinglyLinkedList_peek: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                DoublyLinkedList_enqueue: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                DoublyLinkedList_dequeue: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                DoublyLinkedList_peek: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                            },\r\n                            withTailConfig: {\r\n                                name: \"With Tail Pointer\",\r\n                                SinglyLinkedList_enqueue: {\r\n                                    newBigO: \"O(1)\",\r\n                                },\r\n                                DoublyLinkedList_enqueue: {\r\n                                    newBigO: \"O(1)\",\r\n                                },\r\n                            }\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"queue-linkedlist\",\r\n                        title_text: \"Queue (LinkedList)\",\r\n                        component: QueueLinkedListVisualizer,\r\n                        bigOData: [\"datastructures\", \"stacks-queues-deques\", \"queue-array\"],\r\n                    },\r\n                    {\r\n                        link: \"deque-array\",\r\n                        title_text: \"Deque (Array)\",\r\n                        component: DequeArrayVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Circular Array\", \"DLL w/ Tail Pointer\"],\r\n                                cols: [\"addFirst\", \"addLast\", \"removeFirst\", \"removeLast\"],\r\n                                col1Name: \"Backing Structure\",\r\n                                Circular_addFirst: {\r\n                                    amortized: \"O(1)\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                Circular_addLast: {\r\n                                    amortized: \"O(1)\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                Circular_removeFirst: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                Circular_removeLast: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                DLL: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"deque-linkedlist\",\r\n                        title_text: \"Deque (LinkedList)\",\r\n                        component: DequeLinkedListVisualizer,\r\n                        bigOData: [\"datastructures\", \"stacks-queues-deques\", \"deque-array\"],\r\n                    },\r\n                ],\r\n            },\r\n            {\r\n                link: \"trees-skiplist\",\r\n                title_text: \"Trees and SkipList\",\r\n                classes: [\r\n                    {\r\n                        link: \"bst\",\r\n                        title_text: \"Binary Search Tree\",\r\n                        component: BSTVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Efficiency\"],\r\n                                cols: [\"add\", \"remove\", \"search\", \"height\", \"traversal\"],\r\n                                col1Name: \"\",\r\n                                add: {\r\n                                    average: \"O(log(n))\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                remove: {\r\n                                    average: \"O(log(n))\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                search: {\r\n                                    best: \"O(1)\",\r\n                                    average: \"O(log(n))\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                height: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                traversal: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"heap-pq\",\r\n                        title_text: \"Heap / Priority Queue\",\r\n                        component: HeapVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Efficiency\"],\r\n                                cols: [\"add\", \"remove\", \"search\", \"upHeap\", \"downHeap\", \"buildHeap\"],\r\n                                col1Name: \"\",\r\n                                add: {\r\n                                    best: \"O(1)\",\r\n                                    amortized: \"O(log(n))\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                remove: {\r\n                                    best: \"O(1)\",\r\n                                    average: \"O(log(n))\",\r\n                                },\r\n                                search: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                upHeap: {\r\n                                    average: \"O(log(n))\",\r\n                                },\r\n                                downHeap: {\r\n                                    average: \"O(log(n))\",\r\n                                },\r\n                                buildHeap: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"avl\",\r\n                        title_text: \"AVL\",\r\n                        component: AVLVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Efficiency\"],\r\n                                cols: [\"add\", \"remove\", \"search\", \"single rotation\", \"double rotation\"],\r\n                                col1Name: \"\",\r\n                                add: {\r\n                                    average: \"O(log(n))\",\r\n                                },\r\n                                remove: {\r\n                                    average: \"O(log(n))\",\r\n                                },\r\n                                search: {\r\n                                    best: \"O(1)\",\r\n                                    average: \"O(log(n))\",\r\n                                },\r\n                                single: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                double: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"24-tree\",\r\n                        title_text: \"2-4 Tree\",\r\n                        component: BTreeVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Efficiency\"],\r\n                                cols: [\"add\", \"remove\", \"search\"],\r\n                                col1Name: \"\",\r\n                                add: {\r\n                                    average: \"O(log(n))\",\r\n                                },\r\n                                remove: {\r\n                                    average: \"O(log(n))\",\r\n                                },\r\n                                search: {\r\n                                    best: \"O(1)\",\r\n                                    average: \"O(log(n))\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"splaytree\",\r\n                        title_text: \"SplayTree\",\r\n                        component: SplayTreeVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Efficiency\"],\r\n                                cols: [\"add\", \"remove\", \"search\"],\r\n                                col1Name: \"\",\r\n                                add: {\r\n                                    average: \"O(log(n))\",\r\n                                },\r\n                                remove: {\r\n                                    average: \"O(log(n))\",\r\n                                },\r\n                                search: {\r\n                                    average: \"O(log(n))\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"skiplist\",\r\n                        title_text: \"SkipList\",\r\n                        component: SkipListVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Efficiency\"],\r\n                                cols: [\"add\", \"remove\", \"search\", \"Space\"],\r\n                                col1Name: \"\",\r\n                                add: {\r\n                                    average: \"O(log(n))\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                remove: {\r\n                                    average: \"O(log(n))\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                search: {\r\n                                    best: \"O(1)\",\r\n                                    average: \"O(log(n))\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                Space: {\r\n                                    average: \"O(n)\",\r\n                                    worst: \"O(log(n))\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                ],\r\n            },\r\n            {\r\n                link: \"hashmaps\",\r\n                title_text: \"HashMaps\",\r\n                classes: [\r\n                    {\r\n                        link: \"hashmap-probing\",\r\n                        title_text: \"HashMap (Probing)\",\r\n                        component: HashMapProbingVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"linear/quadratic\", \"double hash\"],\r\n                                cols: [\"put\", \"remove\", \"search\"],\r\n                                col1Name: \"Probing Method\",\r\n                                explanation: \"requires good hash function and tolerant load factor\",\r\n                                put: {\r\n                                    average: \"O(1)\",\r\n                                    worst: \"O(n)\",\r\n                                    unamortized: \"O(n²)\",\r\n                                },\r\n                                remove: {\r\n                                    average: \"O(1)\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                search: {\r\n                                    average: \"O(1)\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"hashmap-chaining\",\r\n                        title_text: \"HashMap (Chaining)\",\r\n                        component: HashMapChainingVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"LinkedList Chaining\", \"AVL Chaining\"],\r\n                                cols: [\"put\", \"remove\", \"search\"],\r\n                                col1Name: \"External Chain Type\",\r\n                                explanation: \"requires good hash function and tolerant load factor\",\r\n                                LinkedList_put: {\r\n                                    average: \"O(1)\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                LinkedList_remove: {\r\n                                    average: \"O(1)\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                LinkedList_search: {\r\n                                    average: \"O(1)\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                AVL_put: {\r\n                                    average: \"O(1)\",\r\n                                    worst: \"O(log(n))\",\r\n                                },\r\n                                AVL_remove: {\r\n                                    average: \"O(1)\",\r\n                                    worst: \"O(log(n))\",\r\n                                },\r\n                                AVL_search: {\r\n                                    average: \"O(1)\",\r\n                                    worst: \"O(log(n))\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                ],\r\n            },\r\n        ],\r\n    },\r\n    {\r\n        link: \"algorithms\",\r\n        icon: [\"fas\",\"code-branch\"],\r\n        title_text: \"Algorithms\",\r\n        types: [\r\n            {\r\n                link: \"sorting-quickselect\",\r\n                title_text: \"Sorting and QuickSelect\",\r\n                bigOOverride: \"MERGE_ROWS\",\r\n                classes: [\r\n                    {\r\n                        link: \"bubble-sort\",\r\n                        title_text: \"Bubble Sort\",\r\n                        component: BubbleSortVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\", \"Stable\", \"Adaptive\", \"Extra Space\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    best: \"O(n)\",\r\n                                    average: \"O(n²)\",\r\n                                },\r\n                                Stable: [\"fas\", \"check-circle\"],\r\n                                Adaptive: [\"fas\", \"check-circle\"],\r\n                                Extra: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"cocktail-shaker-sort\",\r\n                        title_text: \"Cocktail Shaker Sort\",\r\n                        component: CocktailShakerSortVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\", \"Stable\", \"Adaptive\", \"Extra Space\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    best: \"O(n)\",\r\n                                    average: \"O(n²)\",\r\n                                },\r\n                                Stable: [\"fas\", \"check-circle\"],\r\n                                Adaptive: [\"fas\", \"check-circle\"],\r\n                                Extra: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"insertion-sort\",\r\n                        title_text: \"Insertion Sort\",\r\n                        component: InsertionSortVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\", \"Stable\", \"Adaptive\", \"Extra Space\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    best: \"O(n)\",\r\n                                    average: \"O(n²)\",\r\n                                },\r\n                                Stable: [\"fas\", \"check-circle\"],\r\n                                Adaptive: [\"fas\", \"check-circle\"],\r\n                                Extra: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"selection-sort\",\r\n                        title_text: \"Selection Sort\",\r\n                        component: SelectionSortVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\", \"Stable\", \"Adaptive\", \"Extra Space\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    average: \"O(n²)\",\r\n                                },\r\n                                Stable: [\"fas\", \"times-circle\"],\r\n                                Adaptive: [\"fas\", \"times-circle\"],\r\n                                Extra: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"quick-sort\",\r\n                        title_text: \"Quick Sort\",\r\n                        component: QuickSortVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\", \"Stable\", \"Adaptive\", \"Extra Space\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    average: \"O(log(n))\",\r\n                                },\r\n                                Stable: [\"fas\", \"times-circle\"],\r\n                                Adaptive: [\"fas\", \"times-circle\"],\r\n                                Extra: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                            },\r\n                            pivotConfig: {\r\n                                name: \"Pivot always @ min/max\",\r\n                                Time: {\r\n                                    newBigO: \"O(n²)\"\r\n                                }\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"kth-select\",\r\n                        title_text: \"kᵗʰ Select / Quick Select\",\r\n                        component: QuickSelectVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\", \"Stable\", \"Extra Space\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    average: \"O(log(n))\",\r\n                                },\r\n                                Stable: [\"fas\", \"times-circle\"],\r\n                                Extra: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                            },\r\n                            pivotConfig: {\r\n                                name: \"Pivot always @ min/max\",\r\n                                Time: {\r\n                                    newBigO: \"O(n²)\"\r\n                                }\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"merge-sort\",\r\n                        title_text: \"Merge Sort\",\r\n                        component: MergeSortVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\", \"Stable\", \"Adaptive\", \"Extra Space\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    average: \"O(n log(n))\",\r\n                                },\r\n                                Stable: [\"fas\", \"check-circle\"],\r\n                                Adaptive: [\"fas\", \"times-circle\"],\r\n                                Extra: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"lsd-radix-sort\",\r\n                        title_text: \"LSD Radix Sort\",\r\n                        component: LSDRadixSortVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\", \"Stable\", \"Adaptive\", \"Extra Space\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    average: \"O(nk)\",\r\n                                },\r\n                                Stable: [\"fas\", \"check-circle\"],\r\n                                Adaptive: [\"fas\", \"times-circle\"],\r\n                                Extra: {\r\n                                    average: \"O(n+k)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                ],\r\n            },\r\n            {\r\n                link: \"string-searching\",\r\n                title_text: \"String Searching\",\r\n                bigOOverride: \"MERGE_ROWS\",\r\n                classes: [\r\n                    {\r\n                        link: \"brute-force\",\r\n                        title_text: \"Brute Force\",\r\n                        component: BruteForceVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"No Matches\", \"Single Occurrence\", \"All Occurrences\", \"General\"],\r\n                                col1Name: \"\",\r\n                                No: {\r\n                                    best: \"O(n)\",\r\n                                    explanation: \"mismatches always at first character of pattern\",\r\n                                },\r\n                                Single: {\r\n                                    best: \"O(m)\",\r\n                                    explanation: \"match at beginning of text\",\r\n                                },\r\n                                All: {\r\n                                    best: \"O(mn)\",\r\n                                },\r\n                                General: {\r\n                                    average: \"O(mn)\",\r\n                                    worst: \"O(mn)\",\r\n                                    explanation: \"mismatches always at last character of pattern\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"boyer-moore\",\r\n                        title_text: \"Boyer Moore\",\r\n                        component: BoyerMooreVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Single Occurrence\", \"All Occurrences\", \"General\"],\r\n                                col1Name: \"\",\r\n                                Single: {\r\n                                    best: \"O(m)\",\r\n                                    explanation: \"match at beginning of text\",\r\n                                },\r\n                                All: {\r\n                                    best: \"O(m+n/m)\",\r\n                                    explanation: \"O(m): building last occurrence table\\nO(n/m): best case tracing\",\r\n                                    tier: 3,\r\n                                },\r\n                                General: {\r\n                                    worst: \"O(mn)\",\r\n                                    explanation: \"average: implementation dependent\\nworst O(mn): mismatches always at first character of pattern\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"kmp\",\r\n                        title_text: \"KMP\",\r\n                        component: KMPVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Single Occurrence\", \"All Occurrences\", \"General\"],\r\n                                col1Name: \"\",\r\n                                Single: {\r\n                                    best: \"O(m)\",\r\n                                    explanation: \"match at beginning of text\",\r\n                                },\r\n                                All: {\r\n                                    best: \"O(m+n)\",\r\n                                },\r\n                                General: {\r\n                                    average: \"O(m+n)\",\r\n                                    worst: \"O(m+n)\",\r\n                                    explanation: \"O(m) creating failure table\\nO(n) tracing\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"rabin-karp\",\r\n                        title_text: \"Rabin Karp\",\r\n                        component: RabinKarpVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Single Occurrence\", \"All Occurrences\", \"General\"],\r\n                                col1Name: \"\",\r\n                                Single: {\r\n                                    best: \"O(m)\",\r\n                                    explanation: \"match at beginning of text\",\r\n                                },\r\n                                All: {\r\n                                    best: \"O(m+n)\",\r\n                                },\r\n                                General: {\r\n                                    average: \"O(m+n)\",\r\n                                    worst: \"O(mn)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                ],\r\n            },\r\n            {\r\n                link: \"graphs\",\r\n                title_text: \"Graph Algorithms\",//do custom big o data ----- each gets time and space\r\n                bigOOverride: \"MERGE_COLS|EXTRA_TABLES\",\r\n                bigOData: [\r\n                    {\r\n                        title_text: \"Graph Structure Performance\",\r\n                        data: {\r\n                            rows: [\"Space\", \"incidentEdges(u)\", \"areAdjacent(u,w)\", \"insertVertex(data)\", \"insertEdge(u,w,f)\", \"removeVertex(u)\", \"removeEdge(f)\"],\r\n                            cols: [\"AdjacencyList\", \"AdjacencyMatrix\", \"EdgeList\"],\r\n                            col1Name: \"Operation\",\r\n                            insertEdge: {\r\n                                average: \"O(1)\",\r\n                            },\r\n                            removeEdge: {\r\n                                average: \"O(1)\",\r\n                            },\r\n                            AdjacencyMatrix: {\r\n                                average: \"O(v²)\",\r\n                                tier: 5,\r\n                            },\r\n                            EdgeList: {\r\n                                average: \"O(e)\",\r\n                                tier: 3,\r\n                            },\r\n                            Space_AdjacencyList: {\r\n                                average: \"O(v+e)\",\r\n                                tier: 4,\r\n                            },\r\n                            Space_EdgeList: {\r\n                                average: \"O(v+e)\",\r\n                                tier: 4,\r\n                            },\r\n                            incidentEdges_AdjacencyList: {\r\n                                average: \"O(deg(u))\",\r\n                                tier: 2,\r\n                            },\r\n                            incidentEdges_AdjacencyMatrix: {\r\n                                average: \"O(v)\",\r\n                                tier: 3,\r\n                            },\r\n                            areAdjacent_AdjacencyList: {\r\n                                average: \"O(min(deg(u),deg(w)))\",\r\n                                tier: 2,\r\n                            },\r\n                            areAdjacent_AdjacencyMatrix: {\r\n                                average: \"O(1)\",\r\n                            },\r\n                            insertVertex_AdjacencyList: {\r\n                                average: \"O(1)\",\r\n                            },\r\n                            insertVertex_EdgeList: {\r\n                                average: \"O(1)\",\r\n                            },\r\n                            removeVertex_AdjacencyList: {\r\n                                average: \"O(deg(v))\",\r\n                                tier: 2,\r\n                            },\r\n                        }\r\n                    }\r\n                ],\r\n                classes: [\r\n                    {\r\n                        link: \"bfs\",\r\n                        title_text: \"Breadth-First Search\",\r\n                        component: BFSVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    worst: \"O(v+e)\",\r\n                                    tier: 3,\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"dfs\",\r\n                        title_text: \"Depth-First Search\",\r\n                        component: DFSVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    worst: \"O(v+e)\",\r\n                                    tier: 3,\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"dijkstras\",\r\n                        title_text: \"Dijkstra's\",\r\n                        component: DijkstrasVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    worst: \"O((v+e)log(v))\",\r\n                                    tier: 4,\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"prims\",\r\n                        title_text: \"Prim's\",\r\n                        component: PrimsVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    worst: \"O((v+e)log(v))\",\r\n                                    tier: 4,\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"kruskals\",\r\n                        title_text: \"Kruskal's\",\r\n                        component: KruskalsVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    worst: \"O(e log(v))\",\r\n                                    tier: 4,\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                ],\r\n            },\r\n            {\r\n                link: \"dynamic\",\r\n                title_text: \"Dynamic Programming\",\r\n                classes: [\r\n                    {\r\n                        link: \"lcs\",\r\n                        title_text: \"LCS\",\r\n                        component: LCSVisualizer,\r\n                        bigOData: {//do time and space\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    average: \"O(mn)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"floyd-warshall\",\r\n                        title_text: \"Floyd-Warshall\",\r\n                        component: FloydWarshallVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\", \"Space\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    average: \"O(v³)\",\r\n                                },\r\n                                Space: {\r\n                                    average: \"O(v²)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                ],\r\n            },\r\n        ],\r\n    },\r\n    {\r\n        link: \"about\",\r\n        icon: \"user\",\r\n        title_text: \"About\",\r\n    },\r\n];\r\n","import React from 'react';\r\nimport './app-header.scss';\r\nimport NavBar from '../nav-bar';\r\nimport { SiteMap } from 'utils';\r\n\r\nexport default function AppHeader() {\r\n    return (\r\n            <header className=\"app-header\">\r\n                <NavBar nav_items={SiteMap} />\r\n            </header>\r\n        );\r\n}\r\n","import React from 'react';\r\nimport './app-footer.scss';\r\n\r\n\r\nexport default function AppFooter() {\r\n    return (\r\n            <footer className=\"app-footer\">\r\n                <div className=\"footer-message\">\r\n                    <p>Created using ReactJS by Mudit Gupta for The Georgia Institute of Technology. Updated Feb. 16, 2020.</p>\r\n                </div>\r\n            </footer>\r\n        );\r\n}\r\n","import { VisualizerTitle } from './visualizer-title';\r\nexport default VisualizerTitle;\r\n","import React from 'react';\r\nimport './visualizer-title.scss';\r\n\r\nexport const VisualizerTitle = (props) => {\r\n    return (\r\n            <div className=\"visualizer-title\" onClick={() => {window.location.hash = `#/${props.group}/${props.type}/${props.link}`;}}>\r\n                <p className=\"title-text\">{props.title}</p>\r\n            </div>\r\n        );\r\n}\r\n","import { BigOType } from './big-o-type';\r\nexport default BigOType;\r\n","import React, { useEffect } from 'react';\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport './big-o-type.scss';\r\n\r\nimport { SiteMap } from 'utils';\r\nimport { default as BigODisplay } from './big-o-display';\r\n\r\nexport const BigOType = (props) => {\r\n    let match = useRouteMatch({\r\n        path: `/${props.group}/${props.type}`\r\n    });\r\n    useEffect(() => {\r\n        document.querySelector(\".app-content\").style[\"overflow-y\"] = match ? \"\" : \"scroll\";\r\n    });\r\n    let type = SiteMap.filter(group => group.link === props.group)[0].types.filter(type => type.link === props.type)[0];\r\n    let classes = type.bigOOverride ? [] : type.classes;\r\n    let unalignedTables = false;\r\n    if (type.bigOOverride) {\r\n        if (type.bigOOverride.includes(\"ADT_INFOS\")) {\r\n            classes = type.bigOData.map(bigOType => {\r\n                let cls = type.classes.filter(cls => cls.link === bigOType.class)[0];\r\n                // console.log({ ...cls, title_text: bigOType.title_text });\r\n                return { ...cls, title_text: bigOType.title_text };\r\n            });\r\n        } else if (type.bigOOverride.includes(\"MERGE_ROWS\")) {\r\n            classes = [{\r\n                ...type.classes[0],\r\n                title_text: \"\",\r\n                data: type.classes.reduce((data, currClass) => {\r\n                    // console.log(data, currClass);\r\n                    data.rows.push(currClass.title_text);\r\n                    if (currClass.bigOData.defaultConfig.cols.length > data.cols.length) {\r\n                        data.cols = currClass.bigOData.defaultConfig.cols;\r\n                        data.colExplanations = currClass.bigOData.defaultConfig.colExplanations;\r\n                    }\r\n                    for (let col in currClass.bigOData.defaultConfig) {\r\n                        if (col !== \"rows\" && col !== \"cols\" && col !== \"col1Name\") {\r\n                            let title = currClass.title_text.substring(0, currClass.title_text.search(/\\W|$/));\r\n                            // console.log(col, currClass.title_text, title);\r\n                            data[`${title}_${col}`] = currClass.bigOData.defaultConfig[col];\r\n                        }\r\n                    }\r\n                    return data;\r\n                }, {\r\n                    rows: [],\r\n                    cols: [],\r\n                    col1Name: \"\",\r\n                })\r\n            }];\r\n            // console.log(classes);\r\n            unalignedTables = true;\r\n        } else if (type.bigOOverride.includes(\"MERGE_COLS\")) {\r\n            classes = [{\r\n                ...type.classes[0],\r\n                title_text: \"\",\r\n                data: type.classes.reduce((data, currClass) => {\r\n                    // console.log(data, currClass);\r\n                    data.cols.push(currClass.title_text);\r\n                    data.rows = currClass.bigOData.defaultConfig.cols;\r\n                    for (let col in currClass.bigOData.defaultConfig) {\r\n                        if (col !== \"rows\" && col !== \"cols\" && col !== \"col1Name\") {\r\n                            let title = currClass.title_text.substring(0, currClass.title_text.search(/\\W|$/));\r\n                            // console.log(col, currClass.title_text, title);\r\n                            data[`${col}_${title}`] = currClass.bigOData.defaultConfig[col];\r\n                        }\r\n                    }\r\n                    return data;\r\n                }, {\r\n                    rows: [],\r\n                    cols: [],\r\n                    col1Name: \"\",\r\n                })\r\n            }];\r\n            unalignedTables = true;\r\n        }\r\n        if (type.bigOOverride.includes(\"EXTRA_TABLES\")) {\r\n            classes.push(...type.bigOData.map((extraTableData, i) => {\r\n                return { ...extraTableData, link: `fakeLink:${i}` };\r\n            }));\r\n            unalignedTables = true;\r\n        }\r\n    }\r\n    return (\r\n            <div className=\"big-o-type\">\r\n                    <h3 className=\"big-o-type-title\">{type.title_text} Big-O Summary</h3>\r\n                    <div className=\"big-o-display-list-container\">\r\n                        {classes.map( (visualizer) => {\r\n                            return (\r\n                                    <div key={visualizer.link} className={`big-o-display-container${unalignedTables ? \" one-table\" : \"\"}`}>\r\n                                        <h4 className=\"big-o-display-title\">{visualizer.title_text}</h4>\r\n                                        <BigODisplay group={props.group} type={props.type} class={visualizer.link} data={visualizer.data}/>\r\n                                    </div>\r\n                                );\r\n                        })}\r\n                    </div>\r\n            </div>\r\n        );\r\n}\r\n","import { VisualizerType } from './visualizer-type';\r\nexport default VisualizerType;\r\n","import React, { useEffect } from 'react';\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport './visualizer-type.scss';\r\n\r\nimport { SiteMap } from 'utils';\r\nimport VisualizerTitle from './visualizer-title';\r\nimport BigOType from 'components/big-o-type';\r\n\r\nexport const VisualizerType = (props) => {\r\n    let typeMatch = useRouteMatch({\r\n        path: `/${props.group}/${props.type}`\r\n    });\r\n    let fullVisualizerClassMatch = useRouteMatch({\r\n        path: `/${props.group}/${props.type}/:visualizerClass`\r\n    });\r\n    useEffect(() => {\r\n        document.querySelector(\".app-content\").style[\"overflow-y\"] = fullVisualizerClassMatch ? \"\" : \"scroll\";\r\n        return () => {\r\n            document.querySelector(\".app-content\").style[\"overflow-y\"] = \"\";\r\n        };\r\n    }, [fullVisualizerClassMatch]);\r\n    let type = SiteMap.filter(group => group.link === props.group)[0].types.filter(type => type.link === props.type)[0];\r\n    let foundClass = fullVisualizerClassMatch && type.classes.map(visualizer => visualizer.link).includes(fullVisualizerClassMatch.params.visualizerClass);\r\n    let visualizerClass = foundClass ? type.classes.filter(visualizer => visualizer.link === fullVisualizerClassMatch.params.visualizerClass)[0] : null;\r\n    let VisualizerComponent = visualizerClass && visualizerClass.component;\r\n    return (\r\n            foundClass\r\n                ? <VisualizerComponent visualizerClass={visualizerClass}/>\r\n                : <div className=\"visualizer-type\">\r\n                        <h4 className={`visualizer-type-title${typeMatch ? \" large-title\" : \"\"}`} onClick={typeMatch ? null : () => {window.location.hash = `#/${props.group}/${props.type}`;}}>{type.title_text}</h4>\r\n                        <div className=\"visualizer-title-container\">\r\n                            {type.classes.map( (visualizer) => {\r\n                                return (\r\n                                        <VisualizerTitle key={visualizer.link} group={props.group} type={props.type} title={visualizer.title_text} link={visualizer.link} />\r\n                                    );\r\n                            })}\r\n                        </div>\r\n                        {typeMatch && <BigOType group={props.group} type={props.type} />}\r\n                </div>\r\n        );\r\n}\r\n","import { VisualizerGroup } from './visualizer-group';\r\nexport default VisualizerGroup;\r\n","import React from 'react';\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport './visualizer-group.scss';\r\n\r\nimport { SiteMap } from 'utils';\r\nimport { default as VisualizerType } from './visualizer-type';\r\n\r\nexport const VisualizerGroup = (props) => {\r\n    let match = useRouteMatch({\r\n        path: `/${props.group}/:visualizerType`\r\n    });\r\n    // console.log(\"group\",match,SiteMap.filter(group => group.link === props.group)[0].types.map(type => type.link));\r\n    return (\r\n            match && SiteMap.filter(group => group.link === props.group)[0].types.map(type => type.link).includes(match.params.visualizerType)\r\n                ? <VisualizerType group={props.group} type={match.params.visualizerType} />\r\n                : <div className=\"visualizer-group\">\r\n                    {SiteMap.filter(group => group.link === props.group)[0].types.map( (type) => {\r\n                        return (\r\n                                <VisualizerType key={type.link} group={props.group} type={type.link} />\r\n                            );\r\n                    })}\r\n                </div>\r\n        );\r\n}\r\n","import { Main } from './main';\r\nexport default Main;\r\n","import React from 'react';\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport './main.scss';\r\n\r\nimport { SiteMap } from 'utils';\r\nimport { default as VisualizerGroup } from 'components/visualizer-group';\r\n\r\nexport const Main = () => {\r\n    let match = useRouteMatch({\r\n        path: `/:visualizerGroup`\r\n    });\r\n    // console.log(\"main\",match,SiteMap.slice(0,-1).map(group => group.link));\r\n    return (\r\n            match && SiteMap.slice(0,-1).map(group => group.link).includes(match.params.visualizerGroup)\r\n                ? <VisualizerGroup group={match.params.visualizerGroup} />\r\n                : <div className=\"main\">\r\n                    {SiteMap.slice(0,-1).map( (group) => {\r\n                        return (\r\n                                <VisualizerGroup key={group.link} group={group.link} />\r\n                            );\r\n                    })}\r\n                </div>\r\n        );\r\n}\r\n","import React from 'react';\r\nimport './about.scss';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nexport default function About() {\r\n    return (\r\n            <div className=\"about\">\r\n                <h1>About CS Vis</h1>\r\n                <p>I created this tool to visualize some of the algorithms I've been learning in my classes.\r\n                Most of these visualizations are inspired by those found at <a href='https://csvistool.com'>csvistool.com</a>.\r\n                I tried to make the UX here as convenient as possible, but I'd love to hear your design input;\r\n                I'm not a front-end person, so I'm doing my best :).</p>\r\n                <p>Check out the <a href='https://github.com/muditg317/cs-vis'>Source Code here</a>!</p>\r\n                <h2>Tool Use</h2>\r\n                <p>All visualization pages have the same layout. The navigation bar can be used to access any of the visualizations.\r\n                Click the clock icon <FontAwesomeIcon icon={[\"far\",\"clock\"]} /> next to the visualization title to see the related Big-O data.\r\n                Use the <code>SpaceBar</code> in combination with <code>Shift</code> and the <code>ArrowKeys</code> to pause and step through the various animations.\r\n                Press <code>Ctrl-Z</code> to undo the most recent input.</p>\r\n                <h2>Me!</h2>\r\n                <p>This is something I wanted to make to learn more about these datastructures and algorithms while also learning how to use the ReactJS framework.\r\n                Check out some of my other projects at <a href='https://muditgupta.appspot.com'>muditgupta.appspot.com</a></p>\r\n            </div>\r\n        );\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { HashRouter, Switch, Route } from \"react-router-dom\";\r\nimport './app.scss';\r\nimport './universal.scss';\r\n\r\nimport AppHeader from './app-header';\r\nimport AppFooter from './app-footer';\r\nimport Main from 'components/main';\r\nimport About from 'components/about';\r\n\r\nimport { Utils } from 'utils';\r\n\r\nexport default function App(props) {\r\n    useEffect(() => {\r\n        Utils.addMobileClasses();\r\n    }, []);\r\n    return (\r\n            <HashRouter basename='/'>\r\n                <React.StrictMode>\r\n                    <div className=\"app\">\r\n                        <AppHeader />\r\n                        <div className=\"app-content\">\r\n                            <Switch>\r\n                                <Route path=\"/about\">\r\n                                    <About />\r\n                                </Route>\r\n                                <Route path=\"/\">\r\n                                    <Main />\r\n                                </Route>\r\n                            </Switch>\r\n                        </div>\r\n                        <AppFooter />\r\n                    </div>\r\n                </React.StrictMode>\r\n            </HashRouter>\r\n        );\r\n}\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport MainComponent from './components';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<MainComponent />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}