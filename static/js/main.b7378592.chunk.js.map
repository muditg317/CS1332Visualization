{"version":3,"sources":["res/images/logo.svg","components/app/nav-bar/nav-bar.jsx","components/app/app-header/app-header.jsx","components/app/app-footer/app-footer.jsx","components/home/home.jsx","components/about/about.jsx","components/visualizer/controlBar/controlBar.jsx","utils/ControlBuilder.js","utils/Colors.js","utils/Utils.js","animation/AnimatedObject.js","animation/AttractedDraggableObject.js","animation/AttractedHighlightableObject.js","animation/Animator.js","animation/Visualization.js","animation/ArrayList/ArrayList.js","animation/SinglyLinkedList/SinglyLinkedList.js","animation/DoublyLinkedList/DoublyLinkedList.js","animation/CircularSinglyLinkedList/CircularSinglyLinkedList.js","animation/StackArray/StackArray.js","animation/QueueArray/QueueArray.js","animation/DequeArray/DequeArray.js","animation/StackLinkedList/StackLinkedList.js","animation/QueueLinkedList/QueueLinkedList.js","animation/DequeLinkedList/DequeLinkedList.js","components/visualizer/visualizer.jsx","components/lists/list-ADT.jsx","components/lists/arraylist/arraylist.jsx","components/lists/singly-linked-list/singly-linked-list.jsx","components/lists/doubly-linked-list/doubly-linked-list.jsx","components/lists/circular-singly-linked-list/circular-singly-linked-list.jsx","components/lists/lists.jsx","components/stacks-queues-deques/stack-ADT.jsx","components/stacks-queues-deques/queue-ADT.jsx","components/stacks-queues-deques/deque-ADT.jsx","components/stacks-queues-deques/stack-array/stack-array.jsx","components/stacks-queues-deques/queue-array/queue-array.jsx","components/stacks-queues-deques/deque-array/deque-array.jsx","components/stacks-queues-deques/stack-linked-list/stack-linked-list.jsx","components/stacks-queues-deques/queue-linked-list/queue-linked-list.jsx","components/stacks-queues-deques/deque-linked-list/deque-linked-list.jsx","components/stacks-queues-deques/stacks-queues-deques.jsx","components/datastructures/datastructures.jsx","serviceWorker.js","index.js","components/app/app.jsx"],"names":["module","exports","NavBar","props","state","responsive","selfRef","React","createRef","handleDocumentClick","bind","clear","document","body","scrollTop","documentElement","this","setState","addEventListener","removeEventListener","event","current","contains","target","scrollToTop","id","className","ref","to","window","location","href","substring","indexOf","length","src","logo","alt","nav_items","map","nav_item","key","link","content","container","onClick","toggleResponsiveNav","Component","NavBarItem","icon","title_text","drop_down_items","showDropDown","show","setShowDropDown","parentRef","parent","items","parentRoute","NavBarItemTitle","parentNavItem","onMouseDown","containingNavItemRef","e","nativeEvent","which","hash","NavBarDropDown","drop_down_item","NavBarDropDownItem","side_pane_items","showSidePane","toggleShowSidePane","setShowSidePane","NavBarDropDownItemTitle","parentDropDownItem","containingDropDownItemRef","NavBarSidePane","side_pane_item","NavBarSideItem","AppHeader","AppFooter","Home","About","ControlBar","defaultContainer","defaults","mainContainer","controlBar","label","defaultsLabel","forceUpdate","mainLabel","controlGroup","appendChild","transformed","getBoundingClientRect","width","parseFloat","getComputedStyle","getPropertyValue","classList","add","remove","testSize","PureComponent","newEmptyControl","emptyControl","createElement","applyStyle","createControl","type","value","newControl","setAttribute","createButton","createField","prompt","field","validators","forEach","validator","createLabel","text","control","newLabel","innerHTML","validatorIntOnly","match","reduce","sum","char","validatorMaxLength","maxLength","Math","min","addSubmit","callback","undefined","console","log","createSlider","max","defaultValue","step","slider","createControlGroup","controls","setTabControl","nextControl","shifted","preventDefault","blur","focus","styleType","style","RED","GREEN","BLUE","BLACK","WHITE","addArray","array","newArr","arrays","item","i","isDev","process","unfoldUndoRedo","object","properties","Set","currObj","Object","getOwnPropertyNames","getPrototypeOf","functions","keys","filter","property","includes","undo","redo","AnimatedObject","xProgress","yProgress","direction","animationSpeed","inPosition","sign","AttractedDraggableObject","x","y","currentX","currentY","desiredX","desiredY","vx","vy","frozen","onStop","pinnedToMouse","mouseOffsetX","mouseOffsetY","sqrt","pow","push","shift","mouseX","mouseY","constructor","CAN_DRAG","p5","deltaX","deltaY","floor","Visualizer","maxAnimationSpeed","isNaN","stop","angle","atan","PI","magnitude","ATTRACTION","prevAngle","cos","sin","abs","MIN_DISTANCE","AttractedHighlightableObject","options","highlighted","highlightColor","Colors","highlightShape","HIGHLIGHT_CIRCLE","entries","option","Utils","oldX","oldY","color","shape","unhighlight","highlight","stroke","noFill","strokeWeight","HIGHTLIGHT_WIDTH","diameter","highlightInnerRadius","highlightOuterRadius","circle","HIGHLIGHT_SQUARE","square","pop","textAlign","CENTER","fill","radius","toString","drawHighlight","drawValue","Animator","events","objects","connectingEdges","Visualization","animator","SUPPORTS_TEXT","showText","updateText","SUPPORTS_NO_LOOP","beginDrawLoop","endDrawLoop","SUPPORTS_ANIMATION_CONTROL","paused","playPause","play","pause","SUPPORTS_STOP_ID","stopID","displayText","displayTextColor","animationHistory","runningAnimation","animationQueue","animating","stopDrawing","emit","disable","isPauseTrigger","unshift","method","setPaused","noAnim","apply","enable","canStepBack","canSkipBack","canStepForward","canSkipForward","explanation","j","params","textAnimation","getLastTextAnimation","previousAnimation","doDraw","scope","undoMethod","undoData","LOG_UNDO_REDO","undoText","customUndoEnd","ensureDrawn","isAnimationStep","isBackStep","undoAnimation","unAnimate","popHistoryToRunningAnimation","stepBack","nextAnimation","retVal","redoData","isAnimEnd","isAnimStart","isEndDrawLoopTrigger","explanationUsesReturn","replace","customRedoEnd","isForwardStep","redoAnimation","reAnimate","skipBack","stepForward","previousAnimationSequence","TypeError","animation","time","setTimeout","callForward","SET_BOUNDS","height","popAnimation","LOG_ANIMATIONS","returnValue","returnsUndoData","returnsRedoData","SUPPORTS_CUSTOM_END","noAnimation","customEnd","doneAnimating","MAX_ANIM_TIME","quick","loop","drawing","force","noLoop","LOG_DRAW","textSize","LEFT","TOP","numScrollbars","maxY","windowWidth","querySelector","resizeCanvas","ArrayList","reset","backingArray","INITIAL_CAPACITY","ArrayElement","size","index","data","doubleSize","shiftForIndex","setIndex","sizeIncr","addAnimation","addAtIndex","element","shiftIntoIndex","sizeDecr","removeFromIndex","resetElement","incrLength","shiftElement","shiftElementMovement","shiftElementIndex","ELEMENT_SIZE","update","foundAnimElement","maxPerRow","rows","ceil","translate","row","numElements","noStroke","rect","block","line","nextX","nextY","draw","USE_CANVAS","toX","toY","posX","posY","SinglyLinkedList","head","nodes","tempNode","pinnedNode","node","nextNode","moveHighlight","next","makeNode","setTempNodeBefore","setTempNodePrev","shiftForNode","insertTempNode","prev","toDelete","markNodeForDeletion","unmakeNode","shiftIntoNode","skipTempNode","SinglyLinkedListNode","splice","getNodePosition","fromNode","toNode","unHighlight","nodeToDelete","markForDeletion","addOnStop","shiftNode","ELEMENT_HEIGHT","containsPos","pin","unpin","markBroken","highlightForDeletion","updateNode","ELEMENT_WIDTH","pressedNode","getNodeAtPos","POINTER_WIDTH","ITEM_WIDTH","SPACING","MAX_DIST_REMOVE","handBroken","displacement","dist","DoublyLinkedList","tail","skipTempNodePrev","skipTempNodeNext","DoublyLinkedListNode","ELEMENT_PADDED_WIDTH","CircularSinglyLinkedList","changeHeadData","customNodeShift","resetHead","CircularSinglyLinkedListNode","unfreeze","pointsToHead","curveTightness","beginShape","curveVertex","endShape","StackArray","made","Array","copyArray","tempElement","topPointerValue","topPointerHighlighter","TOP_LOCATION_X","TOP_LOCATION_Y","resizing","createCopyArray","makeElement","useTopPointer","highlightTemp","insertElement","updateTopPointer","extractElement","unmakeElement","initCopyArray","addItemToCopy","useCopyArr","pos","getElementPosition","StackArrayElement","customEndingElementShift","assignCopyArray","shiftElementToBackingArray","immediateHighlight","highlightForMovement","moveTopTracker","goTo","copy","changeTopPointerValue","moving","updateElement","allInPosition","QueueArray","headPointerValue","headPointerHighlighter","HEAD_LOCATION_X","HEAD_LOCATION_Y","tailPointerValue","tailPointerHighlighter","TAIL_LOCATION_X","TAIL_LOCATION_Y","skipDraw","furthestObject","useTailPointer","updateTailPointer","useHeadPointer","updateHeadPointer","arrIndex","QueueArrayElement","shiftElementToCopyArray","el","noAction","oldBacking","moveTailTracker","moveHeadTracker","oldTemp","newHead","changeHeadPointerValue","oldHead","newTail","changeTailPointerValue","oldTail","DequeArray","frontPointerValue","frontPointerHighlighter","FRONT_LOCATION_X","FRONT_LOCATION_Y","sizePointerHighlighter","SIZE_LOCATION_X","SIZE_LOCATION_Y","front","useFrontPointer","useFrontDecrementPointer","useFrontSizePointer","updateFrontPointer","updateSizePointer","getIndex","DequeArrayElement","newTemp","moveSizeTracker","end","moveFrontTracker","offset","fromSize","changeFrontPointerValue","oldFront","changeSizePointerValue","oldSize","StackLinkedList","maxNode","curr","setTempNodeBeforeHead","shiftHeadForNode","shiftHead","markHeadForDeletion","unmakeHead","StackLinkedListNode","temp","oldData","QueueLinkedList","setTempNodeAfterTail","shiftTail","QueueLinkedListNode","HEAD_TAIL_SIZE","HEAD_TAIL_X","tailY","getTailY","shiftTemp","DequeLinkedList","setHeadAfterTempNode","setTailBeforeTempNode","shiftNewHead","shiftNewTail","DequeLinkedListNode","atHead","furthest","setup","mousePressed","touchMoved","mouseReleased","windowResized","controlBarRef","controlGroups","defaultControlGroups","onAnimStart","onAnimEnd","focusedElement","Proxy","get","propertyName","receiver","param","on","addDefaultControls","MAX_SPEED","SPEED_SLIDER_DEGREE","speedSlider","ControlBuilder","INITIAL_SPEED","sliderLabel","speedSliderGroup","extraGroups","VISUALIZATION_CLASS","skipBackButton","visualization","disabled","stepBackButton","playPauseButton","stepForwardButton","skipForwardButton","skipForward","animationControls","tagName","registerControlGroup","childNodes","child","disableUI","enableUI","activeElement","vis","setMainLabel","setDefaultsLabel","defaultGroup","addDefaultGroup","addControlGroup","mounted","prevProps","prevState","canvasParentRef","mobile","ontouchstart","createCanvas","background","class","touchStarted","touchEnded","ListVisualizer","addAtIndexButtonCallback","addToFrontButtonCallback","addToBackButtonCallback","removeFromIndexButtonCallback","removeFromFrontButtonCallback","removeFromBackButtonCallback","resetButtonCallback","elementFieldCallback","indexFieldCallback","list","addControls","valueField","indexField","addAtIndexButton","addToFrontButton","addToBackButton","removeFromIndexButton","removeFromFrontButton","removeFromBackButton","resetButton","addFrontBackGroup","removeFrontBackGroup","valueFrontBackGroup","indexGroup","resetGroup","parseInt","addToBack","addToFront","removeFromFront","removeFromBack","ArrayListVisualizer","SinglyLinkedListVisualizer","DoublyLinkedListVisualizer","CircularSinglyLinkedListVisualizer","Lists","useRouteMatch","path","url","exact","component","ListView","StackVisualizer","pushButtonCallback","popButtonCallback","stack","pushButton","popButton","interactionButtonGroup","mainControlGroup","peek","QueueVisualizer","enqueueButtonCallback","dequeueButtonCallback","queue","enqueueButton","dequeueButton","enqueue","dequeue","DequeVisualizer","addLastButtonCallback","addFirstButtonCallback","removeFirstButtonCallback","removeLastButtonCallback","deque","addLastButton","addFirstButton","removeFirstButton","removeLastButton","addButtonGroup","removeButtonGroup","interactionGroup","addLast","addFirst","removeFirst","removeLast","StackArrayVisualizer","QueueArrayVisualizer","DequeArrayVisualizer","StackLinkedListVisualizer","QueueLinkedListVisualizer","DequeLinkedListVisualizer","StacksQueuesDeques","StackQueueDequeView","DataStructures","DataStructureView","Boolean","hostname","ReactDOM","render","basename","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.b7378592.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.2d46fc74.svg\";","import React, { Component } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport './nav-bar.scss';\r\n\r\nimport logo from 'res/images/logo.svg';\r\n\r\n\r\nexport default class NavBar extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            responsive: false,\r\n        };\r\n\r\n        this.selfRef = React.createRef();\r\n        this.handleDocumentClick = this.handleDocumentClick.bind(this);\r\n        this.clear = this.clear.bind(this);\r\n    }\r\n\r\n    scrollToTop() {\r\n        document.body.scrollTop = 0; // For Safari\r\n        document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera\r\n        // console.log(\"scrolltotop\");\r\n    }\r\n\r\n    toggleResponsiveNav() {\r\n        this.setState((state) => {\r\n                return {\r\n                    responsive: !state.responsive,\r\n                };\r\n            });\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        document.addEventListener(\"mousedown\", this.handleDocumentClick);\r\n        // console.log(this.state.parentNavItem);\r\n    }\r\n    componentWillUnmount() {\r\n        document.removeEventListener(\"mousedown\", this.handleDocumentClick);\r\n    }\r\n    handleDocumentClick(event) {\r\n        // console.log(\"doc clicked nav title\");\r\n        // console.log(this.state.containingNavItemRef);\r\n        // console.log(this.state.containingNavItemRef.current);\r\n        if (this.selfRef.current && !this.selfRef.current.contains(event.target)) {\r\n            // console.log(\"outside nav title\");\r\n            this.clear();\r\n        }\r\n    }\r\n\r\n    clear() {\r\n        this.setState({responsive: false});\r\n        this.scrollToTop();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div id=\"top-nav\" className={`nav-bar ${this.state.responsive ? \"responsive\" : \"\"} nav-container`} ref={this.selfRef}>\r\n                    <Link className=\"not-a-button\" id=\"nav-logo\" to={window.location.href.substring(window.location.href.indexOf(\"/#/\")).length > 0 ? \"/\" : \"\" }><img src={logo} className=\"app-logo\" alt=\"logo\" /></Link>\r\n                    {this.props.nav_items.map( (nav_item) => {\r\n                        return (\r\n                                <NavBarItem key={`nav-${nav_item.link}`} content={nav_item} container={this}/>\r\n                            );\r\n                    })}\r\n                    <button className=\"not-a-button nav-bar-item nav-item nav-item-title\" id=\"top-nav-menu\" onClick={() => this.toggleResponsiveNav()}><i className=\"fa fa-bars\"></i></button>\r\n                </div>\r\n            );\r\n    }\r\n}\r\n\r\nclass NavBarItem extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            link: this.props.content.link,\r\n            icon: this.props.content.icon,\r\n            title_text: this.props.content.title_text,\r\n            drop_down_items: this.props.content.drop_down_items,\r\n        };\r\n\r\n        this.selfRef = React.createRef();\r\n\r\n        if (this.state.drop_down_items) {\r\n            this.state.showDropDown = false;\r\n        }\r\n\r\n\r\n        this.clear = this.clear.bind(this);\r\n    }\r\n\r\n    setShowDropDown(show) {\r\n        if (this.state.drop_down_items) {\r\n            this.setState( (state) => {\r\n                return {\r\n                    showDropDown: show,\r\n                }\r\n            }, () => {\r\n\r\n            });\r\n        }\r\n    }\r\n\r\n    toggleShowDropDown(show) {\r\n        if (this.state.drop_down_items) {\r\n            this.setState( (state) => {\r\n                return {\r\n                    showDropDown: !state.showDropDown,\r\n                }\r\n            }, () => {\r\n\r\n            });\r\n        }\r\n    }\r\n\r\n    clear() {\r\n        this.setShowDropDown(false);\r\n        this.props.container.clear();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div className={`nav-bar-item nav-item ${this.state.drop_down_items && this.state.showDropDown ? \"active\" : \"\"}`} ref={this.selfRef}>\r\n                    <NavBarItemTitle link={this.state.link} icon={this.state.icon} title_text={this.state.title_text} parentRef={this.selfRef} parent={this} />\r\n                    {this.state.drop_down_items && this.state.showDropDown ?\r\n                        <NavBarDropDown items={this.state.drop_down_items} parentRoute={`/${this.state.link}`} parent={this} />\r\n                    :\r\n                        null\r\n                    }\r\n                </div>\r\n            );\r\n    }\r\n\r\n}\r\n\r\nclass NavBarItemTitle extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n\r\n        this.state = {\r\n            link: this.props.link,\r\n            icon: this.props.icon,\r\n            title_text: this.props.title_text,\r\n            parentNavItem: this.props.parent,\r\n        };\r\n\r\n        this.handleDocumentClick = this.handleDocumentClick.bind(this);\r\n        this.onMouseDown = this.onMouseDown.bind(this);\r\n        this.clear = this.clear.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({containingNavItemRef: this.props.parentRef}, () => {\r\n            // console.log(this.state.containingNavItemRef);\r\n        });\r\n        document.addEventListener(\"mousedown\", this.handleDocumentClick);\r\n        // console.log(this.state.parentNavItem);\r\n    }\r\n    componentWillUnmount() {\r\n        document.removeEventListener(\"mousedown\", this.handleDocumentClick);\r\n    }\r\n    handleDocumentClick(event) {\r\n        // console.log(\"doc clicked nav title\");\r\n        // console.log(this.state.containingNavItemRef);\r\n        // console.log(this.state.containingNavItemRef.current);\r\n        if (this.state.containingNavItemRef.current && !this.state.containingNavItemRef.current.contains(event.target)) {\r\n            // console.log(\"outside nav title\");\r\n            this.state.parentNavItem.setShowDropDown(false);\r\n        }\r\n    }\r\n\r\n    onMouseDown(e) {\r\n        if (e.nativeEvent.which === 1) {\r\n            if (this.state.parentNavItem.state.showDropDown || !this.state.parentNavItem.state.drop_down_items) {\r\n                window.location.hash = `#/${this.state.parentNavItem.state.link}`;\r\n                this.clear();\r\n            } else {\r\n                this.state.parentNavItem.setShowDropDown(true);\r\n            }\r\n        }\r\n    }\r\n\r\n    clear() {\r\n        this.state.parentNavItem.clear();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                this.state.parentNavItem.state.drop_down_items ?\r\n                    <div onMouseDown={this.onMouseDown} className=\"nav-bar-item-title nav-item-title\" id={`nav-${this.state.link}`}><i className={`fa fa-fw fa-${this.state.icon}`}></i> {this.state.title_text}</div>\r\n                :\r\n                    <Link onMouseDown={this.onMouseDown} className=\"nav-bar-item-title nav-item-title\" id={`nav-${this.state.link}`} to={`/${this.state.link}`}><i className={`fa fa-fw fa-${this.state.icon}`}></i> {this.state.title_text}</Link>\r\n            );\r\n    }\r\n}\r\n\r\nclass NavBarDropDown extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            drop_down_items: this.props.items,\r\n            parentNavItem: this.props.parent,\r\n        };\r\n\r\n        this.clear = this.clear.bind(this);\r\n    }\r\n\r\n    clear() {\r\n        this.state.parentNavItem.clear();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div className=\"nav-bar-drop-down nav-container\"> {\r\n                    this.state.drop_down_items.map( (drop_down_item) => {\r\n                    return (\r\n                            <NavBarDropDownItem key={`nav-${drop_down_item.link}`} content={drop_down_item} parent={this} parentRoute={this.props.parentRoute} />\r\n                        );\r\n                })} </div>\r\n            );\r\n    }\r\n}\r\n\r\nclass NavBarDropDownItem extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n\r\n        this.state = {\r\n            link: this.props.content.link,\r\n            title_text: this.props.content.title_text,\r\n            side_pane_items: this.props.content.side_pane_items,\r\n            parentRoute: this.props.parentRoute,\r\n            parent: this.props.parent,\r\n        };\r\n\r\n        this.selfRef = React.createRef();\r\n\r\n        if (this.state.side_pane_items) {\r\n            this.state.showSidePane = false;\r\n        }\r\n\r\n        this.clear = this.clear.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    setShowSidePane(show) {\r\n        if (this.state.side_pane_items) {\r\n            this.setState( (state) => {\r\n                return {\r\n                    showSidePane: show,\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    toggleShowSidePane(show) {\r\n        if (this.state.side_pane_items) {\r\n            this.setState( (state) => {\r\n                return {\r\n                    showSidePane: !state.showSidePane,\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    onMouseDown() {\r\n        this.toggleShowSidePane();\r\n    }\r\n\r\n    clear() {\r\n        this.setShowSidePane(false);\r\n        this.state.parent.clear();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div className={`nav-bar-drop-down-item nav-item ${this.state.side_pane_items && this.state.showSidePane ? \"active\": \"\"}`} ref={this.selfRef}>\r\n                    <NavBarDropDownItemTitle link={this.state.link} parentRoute={this.state.parentRoute} title_text={this.state.title_text} parentRef={this.selfRef} parent={this} />\r\n                    {this.state.side_pane_items && this.state.showSidePane ?\r\n                        <NavBarSidePane items={this.state.side_pane_items} parentRoute={`${this.props.parentRoute}/${this.state.link}`} parent={this}></NavBarSidePane>\r\n                    :\r\n                        null\r\n                    }\r\n                </div>\r\n            );\r\n    }\r\n\r\n}\r\n\r\nclass NavBarDropDownItemTitle extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n\r\n        this.state = {\r\n            link: this.props.link,\r\n            parentRoute: this.props.parentRoute,\r\n            title_text: this.props.title_text,\r\n            // containingDropDownItemRef: this.props.parentRef,\r\n            parentDropDownItem: this.props.parent,\r\n        };\r\n\r\n        this.handleDocumentClick = this.handleDocumentClick.bind(this);\r\n        this.onMouseDown = this.onMouseDown.bind(this);\r\n        this.clear = this.clear.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({containingDropDownItemRef: this.props.parentRef}, () => {\r\n            // console.log(this.state.containingDropDownItemRef);\r\n        });\r\n        document.addEventListener(\"mousedown\", this.handleDocumentClick);\r\n        // console.log(this.state.parentDropDownItem);\r\n    }\r\n    componentWillUnmount() {\r\n        document.removeEventListener(\"mousedown\", this.handleDocumentClick);\r\n    }\r\n    handleDocumentClick(event) {\r\n        // console.log(\"doc clicked nav title\");\r\n        // console.log(this.state.containingDropDownItemRef);\r\n        // console.log(this.state.containingDropDownItemRef.current);\r\n        if (this.state.containingDropDownItemRef.current && !this.state.containingDropDownItemRef.current.contains(event.target)) {\r\n            // console.log(\"outside nav title\");\r\n            this.state.parentDropDownItem.setShowSidePane(false);\r\n        }\r\n    }\r\n\r\n    onMouseDown(e) {\r\n        if (e.nativeEvent.which === 1) {\r\n            if (this.state.parentDropDownItem.state.showSidePane) {\r\n                window.location.hash = `#${this.state.parentRoute}/${this.state.link}`;\r\n                this.clear();\r\n            } else {\r\n                this.state.parentDropDownItem.toggleShowSidePane();\r\n            }\r\n        }\r\n    }\r\n\r\n    clear() {\r\n        this.state.parentDropDownItem.clear();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                this.state.parentDropDownItem.state.side_pane_items ?\r\n                    <div onMouseDown={this.onMouseDown} className=\"nav-bar-drop-down-item-title nav-item-title\" id={`nav-${this.state.link}`}>{this.state.title_text}</div>\r\n                :\r\n                    <Link onMouseDown={this.clear} className=\"nav-bar-drop-down-item-title nav-item-title\" id={`nav-${this.state.link}`} to={`${this.state.parentRoute}/${this.state.link}`}>{this.state.title_text}</Link>\r\n            );\r\n    }\r\n}\r\n\r\nclass NavBarSidePane extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n\r\n        this.state = {\r\n            side_pane_items: this.props.items,\r\n            parentDropDownItem: this.props.parent,\r\n        };\r\n\r\n        this.clear = this.clear.bind(this);\r\n    }\r\n\r\n    clear() {\r\n        this.state.parentDropDownItem.clear();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div className=\"nav-bar-side-pane nav-container\"> {\r\n                    this.state.side_pane_items.map( (side_pane_item) => {\r\n                        return (\r\n                                <NavBarSideItem key={`nav-${side_pane_item.link}`} content={side_pane_item} parentRoute={this.props.parentRoute} parent={this} />\r\n                            );\r\n                })} </div>\r\n            );\r\n    }\r\n}\r\n\r\n\r\nclass NavBarSideItem extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            link: this.props.content.link,\r\n            title_text: this.props.content.title_text,\r\n            parentRoute: this.props.parentRoute,\r\n            parent: this.props.parent,\r\n        };\r\n\r\n        this.clear = this.clear.bind(this);\r\n    }\r\n\r\n    clear() {\r\n        window.location.hash = `#${this.state.parentRoute}/${this.state.link}`;\r\n        this.state.parent.clear();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div className=\"nav-bar-side-item nav-item\">\r\n                    <Link onMouseDown={this.clear} className=\"nav-bar-side-pane-item-title nav-item-title\" id={`nav-${this.state.link}`} to={`${this.state.parentRoute}/${this.state.link}`}>{this.state.title_text}</Link>\r\n                </div>\r\n            );\r\n    }\r\n\r\n}\r\n","import React from 'react';\r\nimport './app-header.scss';\r\nimport NavBar from '../nav-bar';\r\n\r\n\r\nexport default function AppHeader() {\r\n    return (\r\n            <header className=\"app-header\">\r\n                <NavBar nav_items={[\r\n                    {\r\n                        link: \"datastructures\",\r\n                        icon: \"sitemap\",\r\n                        title_text: \"Data Structures\",\r\n                        drop_down_items: [\r\n                            {\r\n                                link: \"lists\",\r\n                                title_text: \"Lists\",\r\n                                side_pane_items: [\r\n                                    {\r\n                                        link: \"arraylist\",\r\n                                        title_text: \"ArrayList\",\r\n                                    },\r\n                                    {\r\n                                        link: \"sll\",\r\n                                        title_text: \"Singly LinkedList\",\r\n                                    },\r\n                                    {\r\n                                        link: \"dll\",\r\n                                        title_text: \"Doubly LinkedList\",\r\n                                    },\r\n                                    {\r\n                                        link: \"c-sll\",\r\n                                        title_text: \"Circular Singly LinkedList\",\r\n                                    },\r\n                                ],\r\n                            },\r\n                            {\r\n                                link: \"stacks-queues-deques\",\r\n                                title_text: \"Stacks/Queues/Deques\",\r\n                                side_pane_items: [\r\n                                    {\r\n                                        link: \"stack-array\",\r\n                                        title_text: \"Stack (Array)\"\r\n                                    },\r\n                                    {\r\n                                        link: \"stack-linkedlist\",\r\n                                        title_text: \"Stack (LinkedList)\"\r\n                                    },\r\n                                    {\r\n                                        link: \"queue-array\",\r\n                                        title_text: \"Queue (Array)\"\r\n                                    },\r\n                                    {\r\n                                        link: \"queue-linkedlist\",\r\n                                        title_text: \"Queue (LinkedList)\"\r\n                                    },\r\n                                    {\r\n                                        link: \"deque-array\",\r\n                                        title_text: \"Deque (Array)\"\r\n                                    },\r\n                                    {\r\n                                        link: \"deque-linkedlist\",\r\n                                        title_text: \"Deque (LinkedList)\"\r\n                                    },\r\n                                ],\r\n                            },\r\n                            {\r\n                                link: \"trees-skiplist\",\r\n                                title_text: \"Trees and SkipList\",\r\n                                side_pane_items: [\r\n                                    {\r\n                                        link: \"bst\",\r\n                                        title_text: \"Binary Search Tree\"\r\n                                    },\r\n                                    {\r\n                                        link: \"heap-pq\",\r\n                                        title_text: \"Heap / Priority Queue\"\r\n                                    },\r\n                                    {\r\n                                        link: \"avl\",\r\n                                        title_text: \"AVL\"\r\n                                    },\r\n                                    {\r\n                                        link: \"24-tree\",\r\n                                        title_text: \"2-4 Tree\"\r\n                                    },\r\n                                    {\r\n                                        link: \"splaytree\",\r\n                                        title_text: \"SplayTree\"\r\n                                    },\r\n                                    {\r\n                                        link: \"skiplist\",\r\n                                        title_text: \"SkipList\"\r\n                                    },\r\n                                ],\r\n                            },\r\n                            {\r\n                                link: \"hashmaps\",\r\n                                title_text: \"HashMaps\",\r\n                                side_pane_items: [\r\n                                    {\r\n                                        link: \"hashmap-probing\",\r\n                                        title_text: \"HashMap (Probing)\"\r\n                                    },\r\n                                    {\r\n                                        link: \"hashmap-chaining\",\r\n                                        title_text: \"HashMap (Chaining)\"\r\n                                    },\r\n                                ],\r\n                            },\r\n                        ],\r\n                    },\r\n                    {\r\n                        link: \"algorithms\",\r\n                        icon: \"stack-overflow\",\r\n                        title_text: \"Algorithms\",\r\n                        drop_down_items: [\r\n                            {\r\n                                link: \"sorting\",\r\n                                title_text: \"Sorting\",\r\n                                side_pane_items: [\r\n                                    {\r\n                                        link: \"bubble\",\r\n                                        title_text: \"Bubble Sort\"\r\n                                    },\r\n                                    {\r\n                                        link: \"cocktail\",\r\n                                        title_text: \"Cocktail Shaker Sort\"\r\n                                    },\r\n                                    {\r\n                                        link: \"insertion\",\r\n                                        title_text: \"Insertion Sort\"\r\n                                    },\r\n                                    {\r\n                                        link: \"selection\",\r\n                                        title_text: \"Selection Sort\"\r\n                                    },\r\n                                    {\r\n                                        link: \"quicksort\",\r\n                                        title_text: \"Quick Sort\"\r\n                                    },\r\n                                    {\r\n                                        link: \"quickselect\",\r\n                                        title_text: \"Quick Select\"\r\n                                    },\r\n                                    {\r\n                                        link: \"merge\",\r\n                                        title_text: \"Merge Sort\"\r\n                                    },\r\n                                    {\r\n                                        link: \"lsd-radix\",\r\n                                        title_text: \"LSD Radix Sort\"\r\n                                    },\r\n                                ],\r\n                            },\r\n                            {\r\n                                link: \"string-searching\",\r\n                                title_text: \"String Searching\",\r\n                                side_pane_items: [\r\n                                    {\r\n                                        link: \"brute-force\",\r\n                                        title_text: \"Brute Force\"\r\n                                    },\r\n                                    {\r\n                                        link: \"boyer-moore\",\r\n                                        title_text: \"Boyer Moore\"\r\n                                    },\r\n                                    {\r\n                                        link: \"kmp\",\r\n                                        title_text: \"KMP\"\r\n                                    },\r\n                                    {\r\n                                        link: \"rabin-karp\",\r\n                                        title_text: \"Rabin Karp\"\r\n                                    },\r\n                                ],\r\n                            },\r\n                            {\r\n                                link: \"graphs\",\r\n                                title_text: \"Graph Algorithms\",\r\n                                side_pane_items: [\r\n                                    {\r\n                                        link: \"breadth\",\r\n                                        title_text: \"Breadth-First Search\"\r\n                                    },\r\n                                    {\r\n                                        link: \"depth\",\r\n                                        title_text: \"Depth-First Search\"\r\n                                    },\r\n                                    {\r\n                                        link: \"dijkstra\",\r\n                                        title_text: \"Dijkstra's\"\r\n                                    },\r\n                                    {\r\n                                        link: \"prim\",\r\n                                        title_text: \"Prim's\"\r\n                                    },\r\n                                    {\r\n                                        link: \"kruskal\",\r\n                                        title_text: \"Kruskal's\"\r\n                                    },\r\n                                ],\r\n                            },\r\n                            {\r\n                                link: \"dynamic\",\r\n                                title_text: \"Dynamic Programming\",\r\n                                side_pane_items: [\r\n                                    {\r\n                                        link: \"lcs\",\r\n                                        title_text: \"LCS\"\r\n                                    },\r\n                                    {\r\n                                        link: \"floyd-warshall\",\r\n                                        title_text: \"Floyd-Warshall\"\r\n                                    },\r\n                                ],\r\n                            },\r\n                        ],\r\n                    },\r\n                    {\r\n                        link: \"about\",\r\n                        icon: \"user\",\r\n                        title_text: \"About\",\r\n                    },\r\n                ]} />\r\n            </header>\r\n        );\r\n}\r\n","import React from 'react';\r\nimport './app-footer.scss';\r\n\r\n\r\nexport default function AppFooter() {\r\n    return (\r\n            <footer className=\"app-footer\">\r\n                <div className=\"footer-message\">\r\n                    <p>Created using ReactJS by Mudit Gupta for The Georgia Institute of Technology. Updated Feb. 16, 2020.</p>\r\n                </div>\r\n            </footer>\r\n        );\r\n}\r\n","import React from 'react';\r\nimport './home.scss';\r\n\r\nexport default function Home() {\r\n    return (\r\n            <div className=\"home\">\r\n\r\n            </div>\r\n        );\r\n}\r\n","import React from 'react';\r\nimport './about.scss';\r\n\r\nexport default function About() {\r\n    return (\r\n            <div className=\"about\">\r\n                <h1>About CS Vis</h1>\r\n                <p>I created this tool to visualize some of the algorithms I've been learning in my classes.\r\n                Most of these visualizations are inspired by those found at <a href='https://csvistool.com'>csvistool.com</a>.\r\n                I tried to make the UX here as convenient as possible, but I'd love to hear your design input;\r\n                I'm not a front-end person, so I'm doing my best :).</p>\r\n            <p>Check out the <a href='https://github.com/muditg317/cs-vis'>Source Code here</a>!</p>\r\n                <h2>Me!</h2>\r\n                <p>This is something I wanted to make to learn more about these datastructures and algorithms while also learning how to use the ReactJS framework.\r\n                Check out some of my other projects at <a href='https://muditgupta.appspot.com'>muditgupta.appspot.com</a></p>\r\n            </div>\r\n        );\r\n}\r\n","import React, { PureComponent } from 'react';\r\nimport './controlBar.scss';\r\n\r\nexport default class ControlBar extends PureComponent {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.defaultContainer = React.createRef();\r\n        this.defaults = React.createRef();\r\n        this.mainContainer = React.createRef();\r\n        this.controlBar = React.createRef();\r\n    }\r\n\r\n    setDefaultsLabel(label) {\r\n        this.defaultsLabel = label;\r\n        this.forceUpdate();\r\n    }\r\n\r\n    setMainLabel(label) {\r\n        this.mainLabel = label;\r\n        this.forceUpdate();\r\n    }\r\n\r\n    addDefaultGroup(controlGroup) {\r\n        this.defaults.current.appendChild(controlGroup);\r\n    }\r\n\r\n    addControlGroup(controlGroup) {\r\n        this.controlBar.current.appendChild(controlGroup);\r\n    }\r\n\r\n    testSize() {\r\n        let transformed = 0;\r\n        if (this.controlBar.current.getBoundingClientRect().width\r\n                > (this.mainContainer.current.getBoundingClientRect().width - 0*parseFloat(window.getComputedStyle(this.mainContainer.current).getPropertyValue(\"padding\")))) {\r\n            this.mainContainer.current.classList.add(\"overflow\");\r\n            transformed++;\r\n        } else {\r\n            this.mainContainer.current.classList.remove(\"overflow\");\r\n        }\r\n        if (this.defaults.current.getBoundingClientRect().width\r\n                > (this.defaultContainer.current.getBoundingClientRect().width - 0*parseFloat(window.getComputedStyle(this.defaultContainer.current).getPropertyValue(\"padding\")))) {\r\n            this.defaultContainer.current.classList.add(\"overflow\");\r\n            transformed++;\r\n        } else {\r\n            this.defaultContainer.current.classList.remove(\"overflow\");\r\n        }\r\n        return transformed;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.testSize();\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.testSize();\r\n    }\r\n\r\n    windowResized() {\r\n        return this.testSize();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div className=\"control-bar\">\r\n                    <div className=\"control-container\" id=\"main-control\" ref={this.mainContainer}>\r\n                        <div className=\"control-wrapper\">\r\n                            {this.mainLabel && <p className=\"control-label\" id=\"main-control-label\">{this.mainLabel}</p>}\r\n                            <div className=\"controls control-group\"  ref={this.controlBar}></div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"control-container\" id=\"default-control\" ref={this.defaultContainer}>\r\n                        <div className=\"control-wrapper\">\r\n                            {// {this.defaultsLabel && <p className=\"control-label\" id=\"default-control-label\">{this.defaultsLabel}</p>}\r\n                            }\r\n                            <div className=\"controls default control-group\" ref={this.defaults}></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n    }\r\n}\r\n","export function newEmptyControl() {\r\n    let emptyControl = document.createElement(\"input\");\r\n    applyStyle(emptyControl, \"visibility\", \"hidden\");\r\n    return emptyControl;\r\n}\r\n\r\nexport function createControl(type, value) {\r\n    let newControl = document.createElement(\"input\");\r\n    newControl.classList.add(\"visual-control\", type);\r\n\r\n    newControl.setAttribute(\"type\", type);\r\n    if (value) {\r\n        newControl.setAttribute(\"value\", value);\r\n    }\r\n\r\n    return newControl;\r\n};\r\n\r\nexport function createButton(label) {\r\n    let button = createControl(\"button\", label);\r\n\r\n    return button;\r\n};\r\n\r\nexport function createField(prompt, ...validators) {\r\n    let field = createControl(\"text\");\r\n    field.setAttribute(\"placeHolder\", prompt);\r\n\r\n    validators.forEach((validator) => {\r\n        field.addEventListener(\"input\", () => { validator(field); });\r\n    });\r\n\r\n    return field;\r\n};\r\n\r\nexport function createLabel(text, control) {\r\n    let newLabel = document.createElement(\"label\");\r\n    newLabel.classList.add(\"visual-control\",\"label\");\r\n\r\n    newLabel.setAttribute(\"for\", control.id);\r\n    newLabel.innerHTML = text;\r\n\r\n    return newLabel;\r\n}\r\n\r\nexport function validatorIntOnly() {\r\n    return (field) => {\r\n        let regex = /^(-[0-9])?[0-9]*/g;\r\n        field.value = field.value.match(regex).reduce((sum, char) => sum + char);\r\n    }\r\n};\r\n\r\nexport function validatorMaxLength(maxLength) {\r\n    return (field) => {\r\n        if (field.value.length > maxLength) {\r\n            field.value = field.value.substring(0, Math.min(field.value.length, maxLength));\r\n        }\r\n    };\r\n};\r\n\r\nexport function addSubmit(field, callback) {\r\n    if (field.type !== \"text\") {\r\n        console.log(\"cannot add callback to nontextfield\");\r\n        return;\r\n    }\r\n    if (callback === undefined) {\r\n        console.log(\"cannot set field submit to undefined callback\");\r\n        return;\r\n    }\r\n    field.addEventListener(\"keydown\", (event) => {\r\n        if (event.key === \"Enter\") {\r\n            // disableControls();\r\n            callback();\r\n        }\r\n    });\r\n};\r\n\r\nexport function createSlider(min, max, defaultValue, step) {\r\n    let slider = createControl(\"range\");\r\n\r\n    slider.setAttribute(\"min\", min);\r\n    slider.setAttribute(\"max\", max);\r\n    slider.setAttribute(\"step\", step === 0 ? \"1e-18\" : step);\r\n    slider.setAttribute(\"defaultValue\", defaultValue);\r\n    slider.value = defaultValue;\r\n\r\n    return slider;\r\n};\r\n\r\n\r\nexport function createControlGroup(id, ...controls) {\r\n    let controlGroup = document.createElement(\"div\");\r\n    controlGroup.setAttribute(\"class\", \"control-group\");\r\n    controlGroup.id = id;\r\n\r\n    controls.forEach((control) => {\r\n        controlGroup.appendChild(control);\r\n    });\r\n\r\n    return controlGroup;\r\n};\r\n\r\nexport function setTabControl(control, nextControl) {\r\n    if (control === undefined || nextControl === undefined) {\r\n        console.log(\"cannot link undefined controls\");\r\n        return;\r\n    }\r\n    enableShift();\r\n    control.addEventListener(\"keydown\", (event) => {\r\n        if (event.key === \"Tab\" && (window.shifted !== undefined && !window.shifted)) {\r\n            event.preventDefault();\r\n            control.blur();\r\n            nextControl.focus();\r\n        }\r\n    });\r\n    nextControl.addEventListener(\"keydown\", (event) => {\r\n        if (event.key === \"Tab\" && window.shifted) {\r\n            event.preventDefault();\r\n            nextControl.blur();\r\n            control.focus();\r\n        }\r\n    });\r\n};\r\n\r\nfunction enableShift() {\r\n    if (window.shifted === undefined) {\r\n        window.shifted = false;\r\n        window.addEventListener(\"keydown\", (event) => {\r\n            if (event.key === \"Shift\") {\r\n                event.preventDefault();\r\n                window.shifted = true;\r\n            }\r\n        });\r\n        window.addEventListener(\"keyup\", (event) => {\r\n            if (event.key === \"Shift\") {\r\n                event.preventDefault();\r\n                window.shifted = false;\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\nexport function applyStyle(control, styleType, value) {\r\n    control.style[styleType] = value;\r\n}\r\n","export const RED = [255,0,0];\r\nexport const GREEN = [60, 181, 60];\r\nexport const BLUE = [0,0,255];\r\nexport const BLACK = [0,0,0];\r\nexport const WHITE = [255,255,255];\r\n","export function addArray(array, ...arrays) {\r\n    let newArr = [...array];\r\n    arrays.forEach(array => {\r\n        array.forEach((item, i) => {\r\n            newArr[i] += item;\r\n        });\r\n    });\r\n    return newArr;\r\n}\r\n\r\nexport function isDev() {\r\n    return !process.env.NODE_ENV || process.env.NODE_ENV === 'development';\r\n}\r\n\r\nexport function unfoldUndoRedo(object) {\r\n    let properties = new Set();\r\n    let currObj = object;\r\n    do {\r\n        Object.getOwnPropertyNames(currObj).map(item => properties.add(item));\r\n    } while ((currObj = Object.getPrototypeOf(currObj)));\r\n    let functions = [...properties.keys()].filter(item => typeof object[item] === 'function');\r\n    for (const i in functions) {\r\n        let property = functions[i];\r\n        if (property.includes(\"undo_\")) {\r\n            object[property.substring(5)].undo = object[property];\r\n        }\r\n        if (property.includes(\"redo_\")) {\r\n            object[property.substring(5)].redo = object[property];\r\n        }\r\n    }\r\n}\r\n","export default class AnimatedObject {\r\n    constructor() {\r\n        this.xProgress = 1;\r\n        this.yProgress = 1;\r\n        // this.translationFrames = 0;\r\n\r\n        // this.animating = false;\r\n        this.direction = 0;\r\n    }\r\n\r\n    travel(direction) {\r\n        this.xProgress = 0;\r\n        this.yProgress = 0;\r\n        this.direction = direction;\r\n    }\r\n\r\n    inPosition() {\r\n        return this.direction >= 0\r\n                ? this.xProgress >= 1 && this.yProgress >= 1\r\n                : this.xProgress <= -1 && this.yProgress <= -1;\r\n    }\r\n\r\n    update(animationSpeed) {\r\n        if (!this.inPosition()) {\r\n            // this.animating = true;\r\n            this.xProgress += Math.sign(this.direction) * animationSpeed/200;\r\n            this.yProgress += Math.sign(this.direction) * animationSpeed/200;\r\n        } else {\r\n            // this.animating = false;\r\n        }\r\n    }\r\n\r\n\r\n}\r\n","import Visualizer from 'components/visualizer'\r\nexport default class AttractedDraggableObject {\r\n\r\n    static ATTRACTION = 0.3;\r\n    static MIN_DISTANCE = 5;\r\n\r\n    constructor(x,y) {\r\n        this.currentX = x;\r\n        this.currentY = y;\r\n        this.desiredX = x;\r\n        this.desiredY = y;\r\n        this.vx = 0;\r\n        this.vy = 0;\r\n        this.frozen = false;\r\n        this.onStop = [];\r\n\r\n        this.pinnedToMouse = false;\r\n        this.mouseOffsetX = 0;\r\n        this.mouseOffsetY = 0;\r\n    }\r\n\r\n    shift(x,y) {\r\n        this.desiredX = x;\r\n        this.desiredY = y;\r\n    }\r\n\r\n    displacement() {\r\n        return Math.sqrt(Math.pow(this.desiredX - this.currentX,2) + Math.pow(this.desiredY - this.currentY,2));\r\n    }\r\n\r\n    addOnStop(callback) {\r\n        this.onStop.push(callback);\r\n    }\r\n\r\n    stop() {\r\n        this.currentX = this.desiredX;\r\n        this.vx = 0;\r\n        this.currentY = this.desiredY;\r\n        this.vy = 0;\r\n        while (this.onStop.length > 0) {\r\n            this.onStop.shift()();\r\n        }\r\n    }\r\n\r\n    pin(mouseX, mouseY) {\r\n        if (this.constructor.CAN_DRAG) {\r\n            if (!this.frozen) {\r\n                this.pinnedToMouse = true;\r\n                this.mouseOffsetX = mouseX - this.currentX;\r\n                this.mouseOffsetY = mouseY - this.currentY;\r\n            }\r\n        }\r\n    }\r\n\r\n    unpin() {\r\n        this.pinnedToMouse = false;\r\n        this.mouseOffsetX = 0;\r\n        this.mouseOffsetY = 0;\r\n        this.vx = 0;\r\n        this.vy = 0;\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        if (this.frozen) {\r\n            this.desiredX = this.currentX;\r\n            this.desiredY = this.currentY;\r\n        }\r\n        let deltaX = this.desiredX - this.currentX;\r\n        let deltaY = this.desiredY - this.currentY;\r\n        if (this.pinnedToMouse) {\r\n            this.currentX = p5.mouseX - this.mouseOffsetX;\r\n            this.currentY = p5.mouseY - this.mouseOffsetY;\r\n        } else if ((animationSpeed >= Math.floor(Visualizer.maxAnimationSpeed()))\r\n                || (isNaN(this.currentX) || isNaN(this.currentY) || isNaN(this.vx) || isNaN(this.vy))) {\r\n            this.stop();\r\n        } else {\r\n            if (deltaY !== 0 || deltaX !== 0) {\r\n                let angle = Math.atan(deltaY/deltaX);\r\n                if (deltaX < 0) {\r\n                    angle += Math.PI;\r\n                }\r\n                let magnitude = AttractedDraggableObject.ATTRACTION * animationSpeed;\r\n                let prevAngle = Math.atan(this.vy/this.vx);\r\n                if (this.vx < 0) {\r\n                    prevAngle += Math.PI;\r\n                }\r\n                this.vx += magnitude * Math.cos(angle);\r\n                this.vy += magnitude * Math.sin(angle);\r\n\r\n                this.vx *= 0.75;\r\n                this.vy *= 0.75;\r\n\r\n                if (Math.abs(Math.abs(prevAngle - angle) - Math.PI) < (Math.PI/12)) {\r\n                    this.stop();\r\n                }\r\n                this.currentX += this.vx;\r\n                this.currentY += this.vy;\r\n            } else {\r\n                this.stop();\r\n            }\r\n        }\r\n        return Math.sqrt(Math.pow(deltaX,2) + Math.pow(deltaY,2));\r\n    }\r\n}\r\n","import Visualizer from 'components/visualizer'\r\nimport { Utils, Colors } from 'utils';\r\n\r\nexport default class AttractedHighlightableObject {\r\n    static ATTRACTION = 0.2;\r\n    static MIN_DISTANCE = 5;\r\n\r\n    static HIGHTLIGHT_WIDTH = 5;\r\n    static HIGHLIGHT_CIRCLE = 0;\r\n    static HIGHLIGHT_SQUARE = 1;\r\n\r\n    constructor(x,y, options = {}) {\r\n        this.value = options.value || null;\r\n\r\n        this.currentX = x;\r\n        this.currentY = y;\r\n        this.desiredX = x;\r\n        this.desiredY = y;\r\n        this.vx = 0;\r\n        this.vy = 0;\r\n        this.frozen = false;\r\n        this.onStop = [];\r\n\r\n        this.highlighted = false;\r\n        this.highlightColor = Colors.BLACK;\r\n        this.highlightShape = AttractedHighlightableObject.HIGHLIGHT_CIRCLE;\r\n\r\n        Object.entries(options).forEach((option) => {\r\n            this[option[0]] = option[1];\r\n        });\r\n        Utils.unfoldUndoRedo(this);\r\n    }\r\n\r\n    shift(x,y) {\r\n        this.desiredX = x;\r\n        this.desiredY = y;\r\n    }\r\n\r\n    goTo(x,y) {\r\n        let oldX = this.desiredX;\r\n        let oldY = this.desiredY;\r\n        this.desiredX = x;\r\n        this.desiredY = y;\r\n        this.stop();\r\n        return [oldX, oldY];\r\n    }\r\n    undo_goTo(oldX,oldY) {\r\n        this.desiredX = oldX;\r\n        this.desiredY = oldY;\r\n        this.stop();\r\n    }\r\n\r\n    displacement() {\r\n        return Math.sqrt(Math.pow(this.desiredX - this.currentX,2) + Math.pow(this.desiredY - this.currentY,2));\r\n    }\r\n\r\n    addOnStop(callback) {\r\n        this.onStop.push(callback);\r\n    }\r\n\r\n    stop() {\r\n        this.currentX = this.desiredX;\r\n        this.vx = 0;\r\n        this.currentY = this.desiredY;\r\n        this.vy = 0;\r\n        while (this.onStop.length > 0) {\r\n            this.onStop.shift()(this);\r\n        }\r\n    }\r\n\r\n    highlight(color = Colors.BLUE, shape = AttractedHighlightableObject.HIGHLIGHT_CIRCLE) {\r\n        this.highlightColor = color;\r\n        this.highlightShape = shape;\r\n        this.highlighted = true;\r\n    }\r\n    undo_highlight() {\r\n        this.unhighlight();\r\n    }\r\n\r\n    unhighlight() {\r\n        this.highlighted = false;\r\n    }\r\n    undo_unhighlight(color, shape) {\r\n        this.highlight(color, shape);\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        if (this.frozen) {\r\n            this.desiredX = this.currentX;\r\n            this.desiredY = this.currentY;\r\n        }\r\n        let deltaX = this.desiredX - this.currentX;\r\n        let deltaY = this.desiredY - this.currentY;\r\n        if ((animationSpeed >= Math.floor(Visualizer.maxAnimationSpeed()))\r\n                || (isNaN(this.currentX) || isNaN(this.currentY) || isNaN(this.vx) || isNaN(this.vy))) {\r\n            this.stop();\r\n        } else {\r\n            if (deltaY !== 0 || deltaX !== 0) {\r\n                let angle = Math.atan(deltaY/deltaX);\r\n                if (deltaX < 0) {\r\n                    angle += Math.PI;\r\n                }\r\n                let magnitude = AttractedHighlightableObject.ATTRACTION * animationSpeed;\r\n                let prevAngle = Math.atan(this.vy/this.vx);\r\n                if (this.vx < 0) {\r\n                    prevAngle += Math.PI;\r\n                }\r\n                this.vx = magnitude * Math.cos(angle);\r\n                this.vy = magnitude * Math.sin(angle);\r\n\r\n                // this.vx *= 0.75;\r\n                // this.vy *= 0.75;\r\n\r\n                if (Math.abs(Math.abs(prevAngle - angle) - Math.PI) < (Math.PI/12)) {\r\n                    this.stop();\r\n                }\r\n                this.currentX += this.vx;\r\n                this.currentY += this.vy;\r\n            } else {\r\n                this.stop();\r\n            }\r\n        }\r\n        return Math.sqrt(Math.pow(deltaX,2) + Math.pow(deltaY,2));\r\n    }\r\n\r\n    drawHighlight(p5) {\r\n        p5.push();\r\n        p5.stroke(...this.highlightColor);\r\n        p5.noFill();\r\n        p5.strokeWeight(AttractedHighlightableObject.HIGHTLIGHT_WIDTH);\r\n        let diameter = 2 * (this.highlightInnerRadius || this.highlightOuterRadius) + (this.highlightInnerRadius ? 1 : -1) * AttractedHighlightableObject.HIGHTLIGHT_WIDTH;\r\n        if (this.highlightShape === AttractedHighlightableObject.HIGHLIGHT_CIRCLE) {\r\n            p5.circle(this.currentX, this.currentY, diameter);\r\n        } else if (this.highlightShape === AttractedHighlightableObject.HIGHLIGHT_SQUARE) {\r\n            p5.square(this.currentX - diameter/2, this.currentY - diameter/2, diameter);\r\n        }\r\n        p5.pop();\r\n    }\r\n\r\n    drawValue(p5) {\r\n        if (this.value) {\r\n            p5.textAlign(p5.CENTER, p5.CENTER);\r\n            p5.fill(0);\r\n            p5.stroke(0);\r\n            let radius = 2 * (this.highlightInnerRadius || this.highlightOuterRadius) + (this.highlightInnerRadius ? 1 : -1) * AttractedHighlightableObject.HIGHTLIGHT_WIDTH;\r\n            p5.text(this.value.toString(), this.currentX - radius,this.currentY - radius, 2*radius, 2*radius);\r\n        }\r\n    }\r\n\r\n    draw(p5) {\r\n        p5.push();\r\n        if (this.highlighted) {\r\n            this.drawHighlight(p5);\r\n        }\r\n        this.drawValue(p5);\r\n        p5.pop();\r\n    }\r\n}\r\n","export default class Animator {\r\n    constructor() {\r\n        this.events = [];\r\n\r\n        this.objects = [];\r\n        this.connectingEdges = [];\r\n\r\n\r\n    }\r\n\r\n    on(type, callback) {\r\n        if (!this.events[type]) {\r\n            this.events[type] = [];\r\n        }\r\n        this.events[type].push(callback);\r\n    }\r\n\r\n    off(type, callback) {\r\n        if (this.events[type]) {\r\n            this.events[type] = this.events[type].filter( event => {\r\n                return event !== callback;\r\n            });\r\n        }\r\n    }\r\n\r\n    emit(type) {\r\n        if (this.events[type]) {\r\n            this.events[type].forEach( event => {\r\n                event();\r\n            });\r\n        }\r\n    }\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { Utils, Colors } from 'utils';\r\n\r\nexport default class Visualization {\r\n\r\n    static LOG_UNDO_REDO = true;\r\n    static LOG_ANIMATIONS = true;\r\n    static LOG_DRAW = false;\r\n\r\n    constructor(animator) {\r\n        this.x = 20;\r\n        this.y = 20;\r\n\r\n        if (this.constructor.SUPPORTS_TEXT) {\r\n            // this.displayText = \"Animation Ready\";\r\n            // if (this.constructor.CAN_DRAG) {\r\n            //     this.displayText += \" | Click and drag on a node to move it!\";\r\n            // }\r\n            // console.log(this.displayText);\r\n            // this.displayTextColor = [0,0,0];\r\n        } else {\r\n            delete this.showText;\r\n            delete this.updateText;\r\n        }\r\n\r\n        this.animator = animator;\r\n\r\n        if (this.constructor.SUPPORTS_NO_LOOP) {\r\n            // this.drawing = false;\r\n        } else {\r\n            delete this.beginDrawLoop;\r\n            delete this.endDrawLoop;\r\n        }\r\n\r\n        if (this.constructor.SUPPORTS_ANIMATION_CONTROL) {\r\n            this.paused = false;\r\n            Utils.unfoldUndoRedo(this);\r\n        } else {\r\n            delete this.playPause;\r\n            delete this.play;\r\n            delete this.pause;\r\n        }\r\n\r\n        if (this.constructor.SUPPORTS_STOP_ID) {\r\n            this.stopID = 0;\r\n        }\r\n\r\n    }\r\n\r\n    reset() {\r\n        if (this.constructor.SUPPORTS_TEXT) {\r\n            this.displayText = \"Animation Ready\";\r\n            if (this.constructor.CAN_DRAG) {\r\n                this.displayText += \" | Click and drag on a node to move it!\";\r\n            }\r\n            this.displayTextColor = [0,0,0];\r\n        }\r\n\r\n        this.animationHistory = [];\r\n        this.runningAnimation = [];\r\n        this.animationQueue = [];\r\n        this.animating = false;\r\n\r\n        if (this.constructor.SUPPORTS_NO_LOOP) {\r\n            this.stopDrawing(++this.stopID);\r\n        }\r\n        if (this.constructor.SUPPORTS_ANIMATION_CONTROL) {\r\n            // this.paused = false;\r\n        }\r\n    }\r\n\r\n    noAction() {}\r\n    undo_noAction() {}\r\n\r\n    playPause() {\r\n        if (this.paused) {\r\n            this.play();\r\n        } else {\r\n            this.pause();\r\n        }\r\n    }\r\n\r\n    play() {\r\n        this.paused = false;\r\n        if (this.animationQueue.length > 0) {\r\n            this.beginDrawLoop();\r\n        } else {\r\n            this.animator.emit(\"anim-end\");\r\n        }\r\n        this.animator.disable(\"stepBack\");\r\n        this.animator.disable(\"skipBack\");\r\n        this.animator.disable(\"stepForward\");\r\n        this.animator.disable(\"skipForward\");\r\n    }\r\n\r\n    pause() {\r\n        if (this.animationQueue.length === 0 || !this.isPauseTrigger(this.animationQueue[0])) {\r\n            this.animationQueue.unshift({method:this.setPaused,noAnim:true});\r\n        }\r\n        this.beginDrawLoop();\r\n    }\r\n\r\n    setPaused() {\r\n        this.stopDrawing.apply(this, (this.constructor.SUPPORTS_STOP_ID ? [++this.stopID,true] : []));\r\n        this.paused = true;\r\n        this.animator.enable(\"playPause\");\r\n        if (this.canStepBack()) {\r\n            this.animator.enable(\"stepBack\");\r\n        }\r\n        if (this.canSkipBack()) {\r\n            this.animator.enable(\"skipBack\");\r\n        }\r\n        if (this.canStepForward()) {\r\n            this.animator.enable(\"stepForward\");\r\n        }\r\n        if (this.canSkipForward()) {\r\n            this.animator.enable(\"skipForward\");\r\n        }\r\n    }\r\n\r\n    getLastTextAnimation() {\r\n        if (this.runningAnimation) {\r\n            for (let i = this.runningAnimation.length-1; i >= 0; i--) {\r\n                if (this.runningAnimation[i].method === this.showText || this.runningAnimation[i].explanation) {\r\n                    return this.runningAnimation[i];\r\n                }\r\n            }\r\n        }\r\n        for (let i = this.animationHistory.length - 1; i >= 0; i--) {\r\n            for (let j = this.animationHistory[i].length - 1; j >= 0; j++) {\r\n                if (this.animationHistory[i][j].method === this.showText || this.animationHistory[i][j].explanation) {\r\n                    return this.animationHistory[i][j];\r\n                }\r\n            }\r\n        }\r\n        return {method:this.showText,params:[\"Animation Ready\"]};\r\n    }\r\n    undoText(explanation) {\r\n        if (explanation) {\r\n            this.showText(explanation);\r\n            return;\r\n        }\r\n        let textAnimation = this.getLastTextAnimation();\r\n        if (textAnimation) {\r\n            if (textAnimation.method === this.showText) {\r\n                this.showText(...textAnimation.params);\r\n            } else {\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    undoAnimation(previousAnimation, doDraw) {\r\n        let scope = previousAnimation.scope || this;\r\n        // let undo = scope.undo;\r\n        let undoMethod = previousAnimation.method.undo;\r\n        let params = previousAnimation.undoData || previousAnimation.params || [];\r\n        // console.log(require('util').inspect(previousAnimation, { depth: null }));\r\n        if (undoMethod) {\r\n            if (Visualization.LOG_UNDO_REDO) {\r\n                console.log(\"undo\",params,undoMethod);\r\n            }\r\n            // if (previousAnimation.returnsUndoData) {\r\n            //     params = previousAnimation.returnValue;\r\n            // }\r\n            if (doDraw) {\r\n                this.beginDrawLoop();\r\n            }\r\n            undoMethod.apply(scope, params);\r\n            this.undoText(previousAnimation.explanation);\r\n            if (!previousAnimation.customUndoEnd) {\r\n                this.stopDrawing(++this.stopID);\r\n                console.log(this.stopID);\r\n            }\r\n        } else {\r\n            if (Visualization.LOG_UNDO_REDO) {\r\n                console.log(\"failed\",previousAnimation);\r\n            }\r\n        }\r\n        this.animationQueue.unshift(previousAnimation);\r\n    }\r\n\r\n    unAnimate(doDraw) {\r\n        if (doDraw) {\r\n            this.ensureDrawn();\r\n        }\r\n        let previousAnimation = this.runningAnimation.pop();\r\n        while (!(previousAnimation.isAnimationStep || previousAnimation.isBackStep)) {\r\n            this.undoAnimation(previousAnimation,doDraw);\r\n            previousAnimation = this.runningAnimation.pop();\r\n            if (!previousAnimation) {\r\n                break;\r\n            }\r\n        }\r\n        if (previousAnimation) {\r\n            this.undoAnimation(previousAnimation,doDraw);\r\n        }\r\n        if (doDraw) {\r\n            this.ensureDrawn();\r\n        }\r\n    }\r\n\r\n    canStepBack() {\r\n        return this.animationHistory.length > 0 || this.runningAnimation.length > 0;\r\n    }\r\n    stepBack(doDraw = true) {\r\n        if (this.paused) {\r\n            if (this.runningAnimation && this.runningAnimation.length > 0) {\r\n                this.unAnimate(doDraw);\r\n                this.animator.enable(\"stepForward\");\r\n                this.animator.enable(\"skipForward\");\r\n                if (this.runningAnimation.length === 0) {\r\n                    this.animationQueue.unshift({method:this.animator.emit,scope:this.animator,params:[\"anim-start\",],noAnim:true});\r\n                    this.runningAnimation = null;\r\n                    this.undoText();\r\n                    if (this.animationHistory.length === 0) {\r\n                        this.animator.disable(\"stepBack\");\r\n                        this.animator.disable(\"skipBack\");\r\n                    }\r\n                }\r\n            } else if (this.animationHistory.length > 0) {\r\n                this.popHistoryToRunningAnimation();\r\n                this.stepBack();\r\n            }\r\n        }\r\n    }\r\n\r\n    redoAnimation(nextAnimation,doDraw) {\r\n        let scope = nextAnimation.scope || this;\r\n        let method = nextAnimation.method;\r\n        method = method.redo || method;\r\n        let params = nextAnimation.redoData || nextAnimation.params || [];\r\n        if (doDraw) {\r\n            this.beginDrawLoop();\r\n        }\r\n        let retVal\r\n        if (!this.isAnimEnd(nextAnimation)) {\r\n            if (Visualization.LOG_UNDO_REDO) {\r\n                console.log(\"redo\",params,method);\r\n            }\r\n            retVal = method.apply(scope, params);\r\n        }\r\n        if (this.isAnimStart(nextAnimation)) {\r\n            this.runningAnimation = [];\r\n        } else if (this.isAnimEnd(nextAnimation)) {\r\n            this.animationHistory.push(this.runningAnimation);\r\n            this.runningAnimation = null;\r\n        } else if (this.isEndDrawLoopTrigger(nextAnimation)) {\r\n\r\n        } else if (this.isPauseTrigger(nextAnimation)) {\r\n\r\n        } else {\r\n            if (this.runningAnimation) {\r\n                this.runningAnimation.push(nextAnimation);\r\n            } else {\r\n                if (!this.constructor.SUPPORTS_ANIMATION_CONTROL) {\r\n                    this.animationHistory.push(nextAnimation);\r\n                }\r\n            }\r\n        }\r\n        if (nextAnimation.explanation) {\r\n            if (nextAnimation.explanationUsesReturn) {\r\n                nextAnimation.explanation = nextAnimation.explanation.replace(\"|RETURN|\", retVal);\r\n            }\r\n            this.showText(nextAnimation.explanation);\r\n        }\r\n        if (!nextAnimation.customRedoEnd) {\r\n            this.stopDrawing(++this.stopID);\r\n        }\r\n    }\r\n\r\n    reAnimate(doDraw) {\r\n        if (doDraw) {\r\n            this.ensureDrawn();\r\n        }\r\n        let nextAnimation = this.animationQueue.shift();\r\n        while (!(nextAnimation.isAnimationStep || nextAnimation.isForwardStep) && !this.isEndDrawLoopTrigger(nextAnimation)) {\r\n            this.redoAnimation(nextAnimation,doDraw);\r\n            nextAnimation = this.animationQueue.shift();\r\n            if (!nextAnimation) {\r\n                break;\r\n            }\r\n        }\r\n        if (nextAnimation) {\r\n            this.redoAnimation(nextAnimation,doDraw);\r\n        }\r\n        if (doDraw) {\r\n            this.ensureDrawn();\r\n        }\r\n        // if (!nextAnimation.customRedoEnd && !this.isEndDrawLoopTrigger(nextAnimation)) {\r\n        //     if (!(this.animationQueue[0].isAnimationStep || this.animationQueue[0].isForwardStep)) {\r\n        //         while (!(this.animationQueue[0].isAnimationStep || this.animationQueue[0].isForwardStep) && !this.isEndDrawLoopTrigger(this.animationQueue[0])) {\r\n        //             nextAnimation = this.animationQueue.shift();\r\n        //             this.redoAnimation(nextAnimation);\r\n        //             if (!nextAnimation) {\r\n        //                 return;\r\n        //             }\r\n        //         }\r\n        //     }\r\n        //     if (this.isEndDrawLoopTrigger(this.animationQueue[0])) {\r\n        //         nextAnimation = this.animationQueue.shift();\r\n        //         this.redoAnimation(nextAnimation);\r\n        //     }\r\n        // }\r\n    }\r\n\r\n    canStepForward() {\r\n        return this.animationQueue.length > 0;\r\n    }\r\n    stepForward(doDraw = true) {\r\n        if (this.paused) {\r\n            if (this.animationQueue.length > 0) {\r\n                this.reAnimate(doDraw);\r\n                this.animator.enable(\"stepBack\");\r\n                this.animator.enable(\"skipBack\");\r\n                if (this.animationQueue.length === 0) {\r\n                    this.animator.disable(\"stepForward\");\r\n                    this.animator.disable(\"skipForward\");\r\n                } else {\r\n                    this.animator.enable(\"stepForward\");\r\n                    this.animator.enable(\"skipForward\");\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    canSkipBack() {\r\n        return this.animationHistory.length > 0 || this.runningAnimation.length > 0;\r\n    }\r\n    skipBack() {\r\n        if (this.paused) {\r\n            if (this.runningAnimation) {\r\n                while (this.runningAnimation && this.runningAnimation.length > 0) {\r\n                    this.stepBack(false);\r\n                }\r\n                this.animator.enable(\"stepForward\");\r\n                this.animator.enable(\"skipForward\");\r\n                if (this.animationHistory.length === 0) {\r\n                    this.animator.disable(\"stepBack\");\r\n                    this.animator.disable(\"skipBack\");\r\n                }\r\n                this.ensureDrawn(true);\r\n            } else if (this.animationHistory.length > 0) {\r\n                this.popHistoryToRunningAnimation();\r\n                this.skipBack();\r\n            }\r\n        }\r\n    }\r\n\r\n    canSkipForward() {\r\n        return this.animationQueue.length > 0;\r\n    }\r\n    skipForward() {\r\n        if (this.paused) {\r\n            if (this.animationQueue.length > 0) {\r\n                if (this.isAnimStart(this.animationQueue[0])) {\r\n                    this.stepForward(false);\r\n                }\r\n                while (this.animationQueue.length > 0 && !this.isAnimStart(this.animationQueue[0])) {\r\n                    this.stepForward(false);\r\n                }\r\n                this.ensureDrawn(true);\r\n                this.animator.enable(\"stepBack\");\r\n                this.animator.enable(\"skipBack\");\r\n                if (this.animationQueue.length === 0) {\r\n                    this.animator.disable(\"stepForward\");\r\n                    this.animator.disable(\"skipForward\");\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    popHistoryToRunningAnimation() {\r\n        let previousAnimationSequence = this.animationHistory.pop();\r\n        this.animator.emit(\"anim-start\");\r\n        this.animationQueue.unshift({method:this.stopDrawing,params:this.constructor.SUPPORTS_STOP_ID ? [++this.stopID,true] : [],noAnim:true});\r\n        this.animationQueue.unshift({method:this.animator.emit,scope:this.animator,params:[\"anim-end\",],noAnim:true});\r\n        this.runningAnimation = previousAnimationSequence;\r\n    }\r\n\r\n    ensureDrawn() {\r\n        throw new TypeError(\"Need to implement ensure drawn in instance class\");\r\n    }\r\n\r\n\r\n    updateText(text, color = Colors.BLACK) {\r\n        this.animationQueue.push({method:this.showText,params:[text,color],});\r\n    }\r\n\r\n    showText(text, color = Colors.BLACK) {\r\n        this.displayText = text;\r\n        this.displayTextColor = color;\r\n    }\r\n    undo_showText(text, color) {\r\n        return this.showText(text, color);\r\n    }\r\n\r\n    addAnimation(animation) {\r\n        this.animationQueue.push({method:this.animator.emit,scope:this.animator,params:[\"anim-start\",],noAnim:true});\r\n        this.animationQueue.push(...animation);\r\n        this.animationQueue.push({method:this.animator.emit,scope:this.animator,params:[\"anim-end\",],noAnim:true});\r\n    }\r\n\r\n    doneAnimating(time = 250) {\r\n        if (time === 0) {\r\n            this.animating = false;\r\n            return;\r\n        }\r\n        setTimeout(() => {\r\n            this.animating = false;\r\n        }, time);\r\n    }\r\n\r\n    update(callForward, animationSpeed, p5) {\r\n        if (this.constructor.SET_BOUNDS) {\r\n            this.width = p5.width - 2 * this.x;\r\n            this.height = p5.height - 2 * this.y;\r\n        }\r\n        callForward();\r\n        if (!this.constructor.SUPPORTS_ANIMATION_CONTROL || !this.paused) {\r\n            this.popAnimation(animationSpeed);\r\n        }\r\n    }\r\n\r\n    isAnimStart(animation) {\r\n        return animation.method === this.animator.emit && animation.params[0] === \"anim-start\";\r\n    }\r\n\r\n    isAnimEnd(animation) {\r\n        return animation.method === this.animator.emit && animation.params[0] === \"anim-end\";\r\n    }\r\n\r\n    isEndDrawLoopTrigger(animation) {\r\n        return animation.method === this.stopDrawing;\r\n    }\r\n\r\n    isPauseTrigger(animation) {\r\n        return animation.method === this.setPaused;\r\n    }\r\n\r\n    noAnimation(animation) {\r\n        return animation.noAnim\r\n                || (animation.method === this.animator.emit && (animation.params[0] === \"anim-start\" || animation.params[0] === \"anim-end\"))\r\n                || (animation.method === this.showText);\r\n    }\r\n\r\n    popAnimation(animationSpeed) {\r\n        if (!this.animating) {\r\n            if (this.animationQueue.length > 0) {\r\n                let animation = this.animationQueue.shift();\r\n                this.animating = true;\r\n                if (Visualization.LOG_ANIMATIONS) {\r\n                    console.log(\"animate\",animation.method);\r\n                }\r\n                let retVal = animation.method.apply(animation.scope || this, animation.params);\r\n                animation.returnValue = retVal;\r\n                if (this.isAnimStart(animation)) {\r\n                    this.runningAnimation = [];\r\n                } else if (this.isAnimEnd(animation)) {\r\n                    this.animationHistory.push(this.runningAnimation);\r\n                    this.runningAnimation = null;\r\n                } else if (this.isEndDrawLoopTrigger(animation)) {\r\n                    if (this.animationQueue.length > 0) {\r\n                        this.beginDrawLoop();\r\n                    }\r\n                } else if (this.isPauseTrigger(animation)) {\r\n\r\n                } else {\r\n                    if (this.runningAnimation) {\r\n                        this.runningAnimation.push(animation);\r\n                    } else {\r\n                        if (!this.constructor.SUPPORTS_ANIMATION_CONTROL) {\r\n                            this.animationHistory.push(animation);\r\n                        }\r\n                    }\r\n                }\r\n                if (animation.explanation) {\r\n                    if (animation.explanationUsesReturn) {\r\n                        animation.explanation = animation.explanation.replace(\"|RETURN|\", animation.returnsUndoData ? retVal[0] : retVal);\r\n                        if (animation.returnsUndoData) {\r\n                            // console.log(retVal);\r\n                        }\r\n                    }\r\n                    this.showText(animation.explanation);\r\n                }\r\n                if (animation.returnsUndoData) {\r\n                    animation.undoData = animation.explanationUsesReturn ? retVal[1] : retVal;\r\n                }\r\n                if (animation.returnsRedoData) {\r\n                    animation.redoData = animation.explanationUsesReturn ? retVal[1] : retVal;\r\n                }\r\n                if (this.constructor.SUPPORTS_CUSTOM_END) {\r\n                    if (this.noAnimation(animation)) {\r\n                        this.animating = false;\r\n                    } else if (!animation.customEnd) {\r\n                        if (animationSpeed >= Math.floor(Visualizer.maxAnimationSpeed())) {\r\n                            this.doneAnimating(0);\r\n                        } else {\r\n                            this.doneAnimating(this.constructor.MAX_ANIM_TIME / animationSpeed / (animation.quick ? 2 : 1));\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    beginDrawLoop() {\r\n        this.animator.loop();\r\n        this.drawing = true;\r\n    }\r\n\r\n    endDrawLoop() {\r\n        if (this.drawing) {\r\n            this.animationQueue.push({method:this.stopDrawing,params:this.constructor.SUPPORTS_STOP_ID ? [++this.stopID,true] : [],noAnim:true});\r\n        }\r\n    }\r\n\r\n    stopDrawing(stopID,force) {\r\n        if (!this.constructor.SUPPORTS_STOP_ID || force || stopID === this.stopID) {\r\n            this.animator.noLoop();\r\n            this.drawing = false;\r\n        }\r\n    }\r\n\r\n    draw(p5) {\r\n        if (Visualization.LOG_DRAW) {\r\n            console.log(\"draw\");\r\n        }\r\n        p5.push();\r\n        if (this.constructor.SUPPORTS_TEXT) {\r\n            p5.fill(...this.displayTextColor);\r\n            p5.textSize(15);\r\n            p5.textAlign(p5.LEFT, p5.TOP);\r\n            p5.text(this.displayText, 2.5,2.5, this.width,60);\r\n        }\r\n        p5.pop();\r\n    }\r\n\r\n    mousePressed(p5) {\r\n        return true;\r\n    }\r\n\r\n    mouseReleased(p5) {\r\n        return true;\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars, maxY, callback) {\r\n        height -= numScrollbars * 16;\r\n        let width = p5.windowWidth;\r\n        if (maxY > (height - (2*this.y))) {\r\n            height = (maxY + (3*this.y))\r\n            if (!document.querySelector(\".canvas-container\").classList.contains(\"mobile\")) {\r\n                width -= 16;\r\n            }\r\n            document.querySelector(\".canvas-container\").classList.add(\"overflow\");\r\n        } else {\r\n            document.querySelector(\".canvas-container\").classList.remove(\"overflow\");\r\n        }\r\n\r\n        if (height > p5.height) {\r\n            p5.resizeCanvas(width, height);\r\n        } else {\r\n            p5.resizeCanvas(width, p5.height);\r\n        }\r\n\r\n        if (this.constructor.SET_BOUNDS) {\r\n            this.width = p5.width - 2 * this.x;\r\n            this.height = p5.height - 2 * this.y;\r\n        }\r\n\r\n\r\n        if (callback) {\r\n            callback();\r\n        }\r\n        try {\r\n            this.ensureDrawn(this.animationQueue.length === 0);\r\n            if (this.animationQueue.length > 0 && !this.paused) {\r\n                this.stopID++;\r\n            }\r\n        } catch (e) {\r\n\r\n        } finally {\r\n\r\n        }\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nimport AnimatedObject from 'animation/AnimatedObject';\r\n\r\nexport default class ArrayList extends Visualization {\r\n    static USE_CANVAS = true;\r\n\r\n    static ELEMENT_SIZE = 50;\r\n    static INITIAL_CAPACITY = 9;\r\n\r\n    constructor(animator) {\r\n        super(animator);\r\n\r\n        this.reset();\r\n    }\r\n\r\n\r\n    reset() {\r\n        super.reset();\r\n        this.backingArray = {};\r\n        this.backingArray.length = ArrayList.INITIAL_CAPACITY;\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            this.backingArray[i] = new ArrayElement(\"\");\r\n        }\r\n        this.size = 0;\r\n    }\r\n\r\n\r\n    addAtIndex(index, data) {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        if (index < 0 || index > this.size) {\r\n            console.log(\"index out of bounds\");\r\n            return false;\r\n        }\r\n        if (data === null) {\r\n            console.log(\"Cannot add null to ArrayList.\");\r\n            return false;\r\n        }\r\n        this.animating = true;\r\n        let animation = [];\r\n        if (this.size === this.backingArray.length) {\r\n            animation.push(...this.doubleSize());\r\n        }\r\n        if (index < this.size) {\r\n            animation.push(...this.shiftForIndex(index));\r\n        }\r\n        animation.push({method:this.setIndex,params:[index,data,],});\r\n        animation.push({method:this.sizeIncr,params:[],});\r\n        this.addAnimation(animation);\r\n        this.animationHistory.push(animation);\r\n        return true;\r\n    }\r\n\r\n    addToFront(data) {\r\n        return this.addAtIndex(0,data);\r\n    }\r\n\r\n    addToBack(data) {\r\n        return this.addAtIndex(this.size,data);\r\n    }\r\n\r\n\r\n    removeFromIndex(index) {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        if (index < 0 || index >= this.size) {\r\n            console.log(`Index invalid: ${index} for ArrayList of length ${this.size}. Should be [0,${this.size-1}].`);\r\n            return false;\r\n        }\r\n        this.animating = true;\r\n        let animation = [];\r\n        let element = this.backingArray[index];\r\n        let data = element.data;\r\n        element.data = \"\";\r\n        if (index < this.size - 1) {\r\n            animation.push(...this.shiftIntoIndex(index));\r\n        }\r\n        animation.push({method:this.sizeDecr,params:[],});\r\n        this.addAnimation(animation);\r\n        this.animationHistory.push(animation)\r\n        return data;\r\n    }\r\n\r\n    removeFromFront() {\r\n        return this.removeFromIndex(0);\r\n    }\r\n\r\n    removeFromBack() {\r\n        return this.removeFromIndex(this.size-1);\r\n    }\r\n\r\n\r\n    setIndex(index,data) {\r\n        this.backingArray[index].data = data;\r\n    }\r\n\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n\r\n    doubleSize() {\r\n        let animation = []\r\n        let prevCapacity = this.backingArray.length;\r\n        for (let i = prevCapacity; i < this.backingArray.length * 2; i++) {\r\n            animation.push({method:this.resetElement,params:[i,],});\r\n        }\r\n        animation.push({method:this.incrLength,params:[],});\r\n        return animation;\r\n    }\r\n\r\n    incrLength() {\r\n        this.backingArray.length = 2 * this.backingArray.length;\r\n    }\r\n\r\n    shiftForIndex(index) {\r\n        let animation = []\r\n        for (let i = this.size - 1; i >= index; i--) {\r\n            animation.push(...this.shiftElement(i,1));\r\n        }\r\n        animation.push({method:this.resetElement,params:[index,],});\r\n        return animation;\r\n    }\r\n\r\n    shiftIntoIndex(index) {\r\n        let animation = [];\r\n        for (let i = index + 1; i < this.size; i++) {\r\n            animation.push(...this.shiftElement(i,-1));\r\n        }\r\n        animation.push({method:this.resetElement,params:[this.size-1,],});\r\n        return animation;\r\n    }\r\n\r\n    shiftElement(index, direction) {\r\n        let animation = [];\r\n        animation.push({method:this.shiftElementMovement,params:[index,direction,],});\r\n        animation.push({method:this.shiftElementIndex,params:[index,direction,],});\r\n        return animation;\r\n    }\r\n\r\n    shiftElementMovement(index, direction) {\r\n        this.backingArray[index].shift(direction);\r\n        // console.log(\"move\",index,JSON.stringify(this.backingArray));\r\n    }\r\n\r\n    shiftElementIndex(index, direction) {\r\n        // console.log(\"index\",index,JSON.stringify(this.backingArray));\r\n        // console.log(index+direction, this.backingArray[index].data);\r\n        this.backingArray[index+direction].data = this.backingArray[index].data;\r\n        this.backingArray[index].data = \"\";\r\n    }\r\n\r\n\r\n    resetElement(index) {\r\n        if (this.backingArray[index]) {\r\n            this.backingArray[index].data = \"\";\r\n        } else {\r\n            this.backingArray[index] = new ArrayElement(\"\", ArrayList.ELEMENT_SIZE);\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(() => {\r\n            for (let i = 0; i < this.backingArray.length; i++) {\r\n                if (this.backingArray[i]) {\r\n                    this.backingArray[i].update(animationSpeed);\r\n                }\r\n            }\r\n            let foundAnimElement = false;\r\n            for (let i = 0; i < this.size; i++) {\r\n                if (!this.backingArray[i].inPosition()) {\r\n                    foundAnimElement = true;\r\n                    break;\r\n                }\r\n            }\r\n            this.animating = foundAnimElement;\r\n        }, animationSpeed, p5);\r\n    }\r\n\r\n    draw(p5) {\r\n        let maxPerRow = Math.floor((p5.width - 2 * this.x) / ArrayList.ELEMENT_SIZE);\r\n        let rows = Math.ceil(this.backingArray.length / maxPerRow);\r\n\r\n        p5.push();\r\n        p5.translate(this.x,this.y);\r\n\r\n        for (let row = 0; row < rows; row++) {\r\n            let numElements = row !== rows-1 ? maxPerRow\r\n                    : (this.backingArray.length % maxPerRow === 0 ? maxPerRow : (this.backingArray.length % maxPerRow));\r\n            p5.noStroke();\r\n            p5.fill(200);\r\n            p5.rect(ArrayList.ELEMENT_SIZE/10,ArrayList.ELEMENT_SIZE/10 + (2 * ArrayList.ELEMENT_SIZE * row),ArrayList.ELEMENT_SIZE*numElements,ArrayList.ELEMENT_SIZE,ArrayList.ELEMENT_SIZE/20);\r\n\r\n            p5.stroke(0);\r\n            p5.fill(255);\r\n            p5.rect(0,(2 * ArrayList.ELEMENT_SIZE * row), ArrayList.ELEMENT_SIZE*numElements,ArrayList.ELEMENT_SIZE);\r\n        }\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(ArrayList.ELEMENT_SIZE/3 - 2);\r\n\r\n        let i = 0;\r\n        for (let row = 0; row < rows; row++) {\r\n            let numElements = row !== rows-1 ? maxPerRow\r\n                    : (this.backingArray.length % maxPerRow === 0 ? maxPerRow : (this.backingArray.length % maxPerRow));\r\n            let x = 0;\r\n            let y = 2 * row * ArrayList.ELEMENT_SIZE;\r\n            for (let block = 0; block < numElements; block++) {\r\n                p5.stroke(0);\r\n                p5.line(x,y, x, y+ArrayList.ELEMENT_SIZE);\r\n\r\n                p5.noStroke();\r\n                p5.fill(0,0,255);\r\n                p5.text(i.toString(), x,y+ArrayList.ELEMENT_SIZE, ArrayList.ELEMENT_SIZE,ArrayList.ELEMENT_SIZE);\r\n\r\n                let element = this.backingArray[i++];\r\n                let nextX = block < (numElements - 1) ? x + ArrayList.ELEMENT_SIZE : 0;\r\n                let nextY = block < (numElements - 1) ? y : (y + (ArrayList.ELEMENT_SIZE*2));\r\n                if (element.data) {\r\n                    element.draw(p5, x,y,nextX,nextY);\r\n                }\r\n                x = nextX;\r\n                y = nextY;\r\n                if (y >= document.querySelector(\".canvas-container\").getBoundingClientRect().height - ArrayList.ELEMENT_SIZE) {\r\n                    // this.windowResized(p5, document.querySelector(\".canvas-container\").getBoundingClientRect().height);\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, (Math.ceil(this.backingArray.length / (Math.floor((p5.width - 2 * this.x) / ArrayList.ELEMENT_SIZE))))*2*ArrayList.ELEMENT_SIZE);\r\n    }\r\n}\r\n\r\n\r\nclass ArrayElement extends AnimatedObject {\r\n    constructor(data) {\r\n        super();\r\n\r\n        this.data = data;\r\n    }\r\n\r\n    shift(direction) {\r\n        super.travel(direction);\r\n    }\r\n\r\n    update(animationSpeed) {\r\n        super.update(animationSpeed);\r\n    }\r\n\r\n\r\n    draw(p5, x,y, toX,toY) {\r\n        p5.push();\r\n        p5.fill(0);\r\n        p5.stroke(50);\r\n        if (!this.inPosition()) {\r\n            let posX = (toX-x)*this.xProgress + x;\r\n            let posY = (toY-y)*this.yProgress + y;\r\n            p5.text(this.data.toString(), posX,posY, ArrayList.ELEMENT_SIZE,ArrayList.ELEMENT_SIZE);\r\n        } else {\r\n            p5.text(this.data.toString(), x,y, ArrayList.ELEMENT_SIZE,ArrayList.ELEMENT_SIZE)\r\n        }\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nimport AttractedDraggableObject from 'animation/AttractedDraggableObject';\r\nimport { Utils } from 'utils';\r\n\r\nexport default class SinglyLinkedList extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n\r\n    static ELEMENT_HEIGHT = 35;\r\n    static ELEMENT_WIDTH = 50;\r\n    static POINTER_WIDTH = 15;\r\n    static ITEM_WIDTH = SinglyLinkedList.ELEMENT_WIDTH + SinglyLinkedList.POINTER_WIDTH;\r\n    static SPACING = 50;\r\n    static ELEMENT_SIZE = SinglyLinkedList.ITEM_WIDTH + SinglyLinkedList.SPACING;\r\n\r\n    static MAX_DIST_REMOVE = 300;\r\n\r\n    constructor(animator) {\r\n        super(animator);\r\n\r\n        this.reset();\r\n    }\r\n\r\n    reset() {\r\n        super.reset();\r\n        this.head = null;\r\n        this.size = 0;\r\n        this.nodes = [];\r\n        this.tempNode = null;\r\n        this.pinnedNode = null;\r\n    }\r\n\r\n\r\n    addAtIndex(index, data) {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        if (index < 0 || index > this.size) {\r\n            console.log(\"index out of bounds\");\r\n            return false;\r\n        }\r\n        if (data === null) {\r\n            console.log(\"Cannot add null to ArrayList.\");\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let node = null;\r\n        let nextNode = this.head;\r\n        for (let i = 0; i < index; i++) {\r\n            animation.push({method:this.moveHighlight,params:[node,nextNode,],});\r\n            node = nextNode;\r\n            nextNode = nextNode.next;\r\n        }\r\n        animation.push({method:this.makeNode,params:[index,data,],});\r\n        animation.push({method:this.moveHighlight,params:[node,null,],});\r\n        animation.push({method:this.setTempNodeBefore,params:[nextNode,],});\r\n        animation.push({method:this.setTempNodePrev,params:[node,],});\r\n        if (index < this.size) {\r\n            animation.push({method:this.shiftForNode,params:[nextNode,],});\r\n        }\r\n        animation.push({method:this.insertTempNode,params:[index,],});\r\n        animation.push({method:this.sizeIncr,params:[],});\r\n        this.addAnimation(animation);\r\n        this.animationHistory.push(animation);\r\n        return true;\r\n    }\r\n\r\n    addToFront(data) {\r\n        return this.addAtIndex(0,data);\r\n    }\r\n\r\n    addToBack(data) {\r\n        return this.addAtIndex(this.size,data);\r\n    }\r\n\r\n\r\n    removeFromIndex(index) {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        if (index < 0 || index >= this.size) {\r\n            console.log(`Index invalid: ${index} for ArrayList of length ${this.size}. Should be [0,${this.size-1}].`);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let prev;\r\n        let toDelete;\r\n        let next;\r\n        if (index === 0) {\r\n            prev = null;\r\n            toDelete = this.head;\r\n            next = toDelete.next;\r\n        } else {\r\n            let node = this.head;\r\n            animation.push({method:this.moveHighlight,params:[null,node,],});\r\n            for (let i = 0; i < index - 1; i++) {\r\n                animation.push({method:this.moveHighlight,params:[node,node.next,],});\r\n                node = node.next;\r\n            }\r\n            prev = node;\r\n            toDelete = prev.next;\r\n            next = toDelete.next;\r\n        }\r\n        let data = toDelete.data;\r\n        animation.push({method:this.markNodeForDeletion,params:[prev,toDelete,],});\r\n        animation.push({method:this.unmakeNode,params:[toDelete,],customEnd:true,});\r\n        if (index < this.size - 1) {\r\n            animation.push({method:this.shiftIntoNode,params:[next,],});\r\n        }\r\n        animation.push({method:this.skipTempNode,params:[prev,],});\r\n        animation.push({method:this.sizeDecr,params:[],});\r\n        this.addAnimation(animation);\r\n        this.animationHistory.push(animation)\r\n        return data;\r\n    }\r\n\r\n    removeFromFront() {\r\n        return this.removeFromIndex(0);\r\n    }\r\n\r\n    removeFromBack() {\r\n        return this.removeFromIndex(this.size-1);\r\n    }\r\n\r\n\r\n    makeNode(index, data) {\r\n        this.tempNode = new SinglyLinkedListNode({data: data, index: index, x:20,y:20,},);\r\n    }\r\n\r\n    setTempNodeBefore(next) {\r\n        this.tempNode.next = next;\r\n    }\r\n\r\n    setTempNodePrev(prev) {\r\n        if (prev) {\r\n            prev.next = this.tempNode;\r\n        } else {\r\n            // this.head = this.tempNode;\r\n        }\r\n    }\r\n\r\n    insertTempNode(index) {\r\n        this.nodes.splice(index, 0, this.tempNode);\r\n        if (index === 0) {\r\n            this.head = this.tempNode;\r\n        }\r\n        this.tempNode.shift(...this.getNodePosition(index));\r\n        this.tempNode = null;\r\n    }\r\n\r\n    moveHighlight(fromNode, toNode) {\r\n        if (fromNode) {\r\n            fromNode.unHighlight();\r\n        }\r\n        if (toNode) {\r\n            toNode.highlight();\r\n        }\r\n    }\r\n\r\n    markNodeForDeletion(highlighted, nodeToDelete) {\r\n        if (highlighted) {\r\n            highlighted.unHighlight();\r\n        }\r\n        nodeToDelete.markForDeletion();\r\n    }\r\n\r\n    unmakeNode(node) {\r\n        this.tempNode = this.nodes.splice(node.index, 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        this.tempNode.addOnStop(() => {\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n\r\n    skipTempNode(prev) {\r\n        if (prev) {\r\n            prev.next = this.tempNode.next;\r\n        } else {\r\n            this.head = this.head.next;\r\n        }\r\n        this.tempNode = null;\r\n    }\r\n\r\n    shiftForNode(node) {\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            node = node.next;\r\n        }\r\n    }\r\n\r\n    shiftIntoNode(node) {\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            node = node.next;\r\n        }\r\n    }\r\n\r\n    shiftNode(node, direction) {\r\n        node.shift(...this.getNodePosition(node.index + direction), direction);\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n\r\n    addAnimation(animation) {\r\n        this.animationQueue.push({method:this.animator.emit,scope:this.animator,params:[\"anim-start\",],});\r\n        this.animationQueue.push(...animation);\r\n        this.animationQueue.push({method:this.animator.emit,scope:this.animator,params:[\"anim-end\",],});\r\n    }\r\n\r\n    getNodePosition(index) {\r\n        let maxPerRow = Math.max(1, Math.floor(this.width / SinglyLinkedList.ELEMENT_SIZE));\r\n        let x = SinglyLinkedList.ELEMENT_SIZE * index;\r\n        let y = 50 + Math.floor(index / maxPerRow) * 2 * SinglyLinkedList.ELEMENT_HEIGHT;\r\n        x = (index % maxPerRow) * SinglyLinkedList.ELEMENT_SIZE;\r\n        return [x + this.x,y + this.y];\r\n    }\r\n\r\n    getNodeAtPos(x,y) {\r\n        let node = this.head;\r\n        while (node) {\r\n            if (node.containsPos(x,y)) {\r\n                return node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode && this.tempNode.containsPos(x,y)) {\r\n            return this.tempNode;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    pin(node, x,y) {\r\n        this.pinnedNode = node;\r\n        node.pin(x,y);\r\n    }\r\n\r\n    unpin() {\r\n        if (this.pinnedNode.unpin()) {\r\n            this.removeFromIndex(this.pinnedNode.index);\r\n            this.pinnedNode.markBroken();\r\n        }\r\n        this.pinnedNode = null;\r\n    }\r\n\r\n    updateNode(node, animationSpeed, p5) {\r\n        if (node.update(animationSpeed, p5)) {\r\n            node.highlightForDeletion();\r\n        } else if (node.pinnedToMouse && !node.toDelete) {\r\n            node.unHighlight();\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(() => {\r\n            let node = this.head;\r\n            while (node) {\r\n                this.updateNode(node, animationSpeed, p5);\r\n                node = node.next;\r\n            }\r\n            if (this.tempNode) {\r\n                this.updateNode(this.tempNode, animationSpeed, p5);\r\n            }\r\n        }, animationSpeed, p5);\r\n    }\r\n\r\n    draw(p5) {\r\n        // let maxPerRow = Math.floor(this.width / SinglyLinkedList.ELEMENT_SIZE);\r\n        // let rows = Math.ceil(this.nodes.length / maxPerRow);\r\n\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_WIDTH/3 - 2);\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.draw(p5);\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode) {\r\n            this.tempNode.draw(p5);\r\n        }\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    mousePressed(p5) {\r\n        let pressedNode = this.getNodeAtPos(p5.mouseX, p5.mouseY);\r\n        if (pressedNode) {\r\n            this.pin(pressedNode, p5.mouseX,p5.mouseY);\r\n        }\r\n        return !pressedNode;\r\n    }\r\n\r\n    mouseReleased(p5) {\r\n        if (this.pinnedNode) {\r\n            this.unpin();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, this.getNodePosition(this.size-1)[1] + SinglyLinkedList.ELEMENT_HEIGHT);\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.shift(...this.getNodePosition(node.index));\r\n            node = node.next;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nclass SinglyLinkedListNode extends AttractedDraggableObject {\r\n    static CAN_DRAG = true;\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        this.data = data;\r\n        this.index = index;\r\n        this.next = null;\r\n\r\n        this.toDelete = false;\r\n        this.handBroken = false;\r\n        this.frozen = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    containsPos(x,y) {\r\n        return ((this.currentX <= x && x <= (this.currentX + SinglyLinkedList.ITEM_WIDTH)) && (this.currentY <= y && y <= (this.currentY + SinglyLinkedList.ELEMENT_HEIGHT)))\r\n    }\r\n\r\n    highlight() {\r\n        this.color = [255,165,0];\r\n    }\r\n\r\n    unHighlight() {\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        this.color[0] = 255;\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    markBroken() {\r\n        this.markForDeletion();\r\n        this.frozen = true;\r\n        this.handBroken = true;\r\n    }\r\n\r\n    unpin() {\r\n        super.unpin();\r\n        return this.displacement() > SinglyLinkedList.MAX_DIST_REMOVE;\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        let dist = super.update(animationSpeed, p5);\r\n        return this.pinnedToMouse && !this.handBroken && dist > SinglyLinkedList.MAX_DIST_REMOVE;\r\n    }\r\n\r\n    draw(p5) {\r\n        // console.log(this);\r\n        p5.push();\r\n        p5.fill(255);\r\n        p5.stroke(...this.color);\r\n        p5.rect(this.currentX, this.currentY, SinglyLinkedList.ITEM_WIDTH, SinglyLinkedList.ELEMENT_HEIGHT);\r\n        p5.line(this.currentX + SinglyLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + SinglyLinkedList.ELEMENT_WIDTH, this.currentY + SinglyLinkedList.ELEMENT_HEIGHT);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.text(this.data.toString(), this.currentX,this.currentY, SinglyLinkedList.ELEMENT_WIDTH,SinglyLinkedList.ELEMENT_HEIGHT);\r\n        if (this.next) {\r\n            p5.stroke(...Utils.addArray(this.color, [0,0,255]));\r\n            p5.fill(...Utils.addArray(this.color, [0,0,255]));\r\n            p5.circle(this.currentX + SinglyLinkedList.ELEMENT_WIDTH + SinglyLinkedList.POINTER_WIDTH / 2, this.currentY + SinglyLinkedList.ELEMENT_HEIGHT / 2, 5);\r\n            p5.line(this.currentX + SinglyLinkedList.ELEMENT_WIDTH + SinglyLinkedList.POINTER_WIDTH / 2, this.currentY + SinglyLinkedList.ELEMENT_HEIGHT / 2, this.next.currentX, this.next.currentY + SinglyLinkedList.ELEMENT_HEIGHT / 2)\r\n            p5.rect(this.next.currentX - 3, this.next.currentY + SinglyLinkedList.ELEMENT_HEIGHT / 2 - 3, 6,6);\r\n        } else {\r\n            p5.line(this.currentX + SinglyLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + SinglyLinkedList.ITEM_WIDTH, this.currentY + SinglyLinkedList.ELEMENT_HEIGHT);\r\n        }\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nimport AttractedDraggableObject from 'animation/AttractedDraggableObject';\r\nimport { Utils, Colors } from 'utils';\r\n\r\nexport default class DoublyLinkedList extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n\r\n    static ELEMENT_HEIGHT = 35;\r\n    static ELEMENT_WIDTH = 50;\r\n    static POINTER_WIDTH = 15;\r\n    static ITEM_WIDTH = DoublyLinkedList.ELEMENT_WIDTH + 2 * DoublyLinkedList.POINTER_WIDTH;\r\n    static SPACING = 50;\r\n    static ELEMENT_PADDED_WIDTH = DoublyLinkedList.ITEM_WIDTH + DoublyLinkedList.SPACING;\r\n\r\n    static MAX_DIST_REMOVE = 300;\r\n\r\n    constructor(animator) {\r\n        super(animator);\r\n\r\n        this.reset();\r\n    }\r\n\r\n    reset() {\r\n        super.reset();\r\n        this.head = null;\r\n        this.tail = null;\r\n        this.size = 0;\r\n        this.nodes = [];\r\n        this.tempNode = null;\r\n        this.pinnedNode = null;\r\n    }\r\n\r\n\r\n    addAtIndex(index, data) {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        if (index < 0 || index > this.size) {\r\n            console.log(\"index out of bounds\");\r\n            return false;\r\n        }\r\n        if (data === null) {\r\n            console.log(\"Cannot add null to ArrayList.\");\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let node;\r\n        let nextNode;\r\n        let highlighted;\r\n        if (index < this.size / 2) {\r\n            node = null;\r\n            nextNode = this.head;\r\n            for (let i = 0; i < index; i++) {\r\n                animation.push({method:this.moveHighlight,params:[node,nextNode,],});\r\n                node = nextNode;\r\n                nextNode = nextNode.next;\r\n            }\r\n            highlighted = node;\r\n        } else {\r\n            node = this.tail;\r\n            nextNode = null;\r\n            for (let i = this.size - 1; i > index-1; i--) {\r\n                animation.push({method:this.moveHighlight,params:[nextNode,node,],});\r\n                nextNode = node;\r\n                node = node.prev;\r\n            }\r\n            highlighted = nextNode;\r\n        }\r\n        animation.push({method:this.makeNode,params:[index,data,],});\r\n        animation.push({method:this.moveHighlight,params:[highlighted,null,],});\r\n        animation.push({method:this.setTempNodeBefore,params:[nextNode,],});\r\n        animation.push({method:this.setTempNodePrev,params:[node,],});\r\n        if (index < this.size) {\r\n            animation.push({method:this.shiftForNode,params:[nextNode,],});\r\n        }\r\n        animation.push({method:this.insertTempNode,params:[index,],});\r\n        animation.push({method:this.sizeIncr,params:[],});\r\n        this.addAnimation(animation);\r\n        this.animationHistory.push(animation);\r\n        return true;\r\n    }\r\n\r\n    addToFront(data) {\r\n        return this.addAtIndex(0,data);\r\n    }\r\n\r\n    addToBack(data) {\r\n        return this.addAtIndex(this.size,data);\r\n    }\r\n\r\n\r\n    removeFromIndex(index) {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        if (index < 0 || index >= this.size) {\r\n            console.log(`Index invalid: ${index} for ArrayList of length ${this.size}. Should be [0,${this.size-1}].`);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let prev;\r\n        let toDelete;\r\n        let next;\r\n        if (index === 0) {\r\n            prev = null;\r\n            toDelete = this.head;\r\n            next = toDelete.next;\r\n        } else if (index === this.size - 1) {\r\n            next = null;\r\n            toDelete = this.tail;\r\n            prev = toDelete.prev;\r\n        } else {\r\n            if (index < this.size / 2) {\r\n                let node = this.head;\r\n                animation.push({method:this.moveHighlight,params:[null,node,],});\r\n                for (let i = 0; i < index; i++) {\r\n                    animation.push({method:this.moveHighlight,params:[node,node.next,],});\r\n                    node = node.next;\r\n                }\r\n                prev = node.prev;\r\n                toDelete = node;\r\n                next = node.next;\r\n            } else {\r\n                let node = this.tail;\r\n                animation.push({method:this.moveHighlight,params:[null,node,],});\r\n                for (let i = this.size - 1; i > index; i--) {\r\n                    animation.push({method:this.moveHighlight,params:[node,node.prev,],});\r\n                    node = node.prev;\r\n                }\r\n                prev = node.prev;\r\n                toDelete = node;\r\n                next = node.next;\r\n            }\r\n        }\r\n        let data = toDelete.data;\r\n        animation.push({method:this.markNodeForDeletion,params:[toDelete,toDelete,],});\r\n        animation.push({method:this.unmakeNode,params:[toDelete,],customEnd:true,});\r\n        if (index < this.size - 1) {\r\n            animation.push({method:this.shiftIntoNode,params:[next,],});\r\n        }\r\n        animation.push({method:this.skipTempNodePrev,params:[prev,],});\r\n        animation.push({method:this.skipTempNodeNext,params:[next,],});\r\n        animation.push({method:this.sizeDecr,params:[],});\r\n        this.addAnimation(animation);\r\n        this.animationHistory.push(animation)\r\n        return data;\r\n    }\r\n\r\n    removeFromFront() {\r\n        return this.removeFromIndex(0);\r\n    }\r\n\r\n    removeFromBack() {\r\n        return this.removeFromIndex(this.size-1);\r\n    }\r\n\r\n\r\n\r\n    makeNode(index, data) {\r\n        this.tempNode = new DoublyLinkedListNode({data: data, index: index, x:20,y:20,},);\r\n    }\r\n\r\n    setTempNodeBefore(next) {\r\n        this.tempNode.next = next;\r\n        if (next) {\r\n            next.prev = this.tempNode;\r\n        }\r\n    }\r\n\r\n    setTempNodePrev(prev) {\r\n        if (prev) {\r\n            prev.next = this.tempNode;\r\n        }\r\n        this.tempNode.prev = prev;\r\n    }\r\n\r\n    insertTempNode(index) {\r\n        this.nodes.splice(index, 0, this.tempNode);\r\n        if (index === 0) {\r\n            this.head = this.tempNode;\r\n        }\r\n        if (index === this.size) {\r\n            this.tail = this.tempNode;\r\n        }\r\n        this.tempNode.shift(...this.getNodePosition(index));\r\n        this.tempNode = null;\r\n    }\r\n\r\n    moveHighlight(fromNode, toNode) {\r\n        if (fromNode) {\r\n            fromNode.unHighlight();\r\n        }\r\n        if (toNode) {\r\n            toNode.highlight();\r\n        }\r\n    }\r\n\r\n    markNodeForDeletion(highlighted, nodeToDelete) {\r\n        if (highlighted) {\r\n            highlighted.unHighlight();\r\n        }\r\n        nodeToDelete.markForDeletion();\r\n    }\r\n\r\n    unmakeNode(node) {\r\n        this.tempNode = this.nodes.splice(node.index, 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        this.tempNode.addOnStop(() => {\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n\r\n    skipTempNodePrev(prev) {\r\n        if (prev) {\r\n            prev.next = this.tempNode.next;\r\n        } else {\r\n            this.head = this.head.next;\r\n        }\r\n    }\r\n\r\n    skipTempNodeNext(next) {\r\n        if (next) {\r\n            next.prev = this.tempNode.prev;\r\n        } else {\r\n            this.tail = this.tail.prev;\r\n        }\r\n        this.tempNode = null;\r\n    }\r\n\r\n    shiftForNode(node) {\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            node = node.next;\r\n        }\r\n    }\r\n\r\n    shiftIntoNode(node) {\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            node = node.next;\r\n        }\r\n    }\r\n\r\n    shiftNode(node, direction) {\r\n        node.shift(...this.getNodePosition(node.index + direction), direction);\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n\r\n    getNodePosition(index) {\r\n        let maxPerRow = Math.max(1, Math.floor(this.width / DoublyLinkedList.ELEMENT_PADDED_WIDTH));\r\n        let x = DoublyLinkedList.ELEMENT_PADDED_WIDTH * index;\r\n        let y = 50 + Math.floor(index / maxPerRow) * 2 * DoublyLinkedList.ELEMENT_HEIGHT;\r\n        x = (index % maxPerRow) * DoublyLinkedList.ELEMENT_PADDED_WIDTH;\r\n        return [x + this.x,y + this.y];\r\n    }\r\n\r\n    getNodeAtPos(x,y) {\r\n        let node = this.head;\r\n        while (node) {\r\n            if (node.containsPos(x,y)) {\r\n                return node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode && this.tempNode.containsPos(x,y)) {\r\n            return this.tempNode;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    pin(node, x,y) {\r\n        this.pinnedNode = node;\r\n        node.pin(x,y);\r\n    }\r\n\r\n    unpin() {\r\n        if (this.pinnedNode.unpin()) {\r\n            this.removeFromIndex(this.pinnedNode.index);\r\n            this.pinnedNode.markBroken();\r\n        }\r\n        this.pinnedNode = null;\r\n    }\r\n\r\n    updateNode(node, animationSpeed, p5) {\r\n        if (node.update(animationSpeed, p5)) {\r\n            node.highlightForDeletion();\r\n        } else if (node.pinnedToMouse && !node.toDelete) {\r\n            node.unHighlight();\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(() => {\r\n            let node = this.head;\r\n            while (node) {\r\n                this.updateNode(node, animationSpeed, p5);\r\n                node = node.next;\r\n            }\r\n            if (this.tempNode) {\r\n                this.updateNode(this.tempNode, animationSpeed, p5);\r\n            }\r\n        }, animationSpeed, p5);\r\n    }\r\n\r\n    draw(p5) {\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_WIDTH/3 - 2);\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.draw(p5);\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode) {\r\n            this.tempNode.draw(p5);\r\n        }\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    mousePressed(p5) {\r\n        let pressedNode = this.getNodeAtPos(p5.mouseX, p5.mouseY);\r\n        if (pressedNode) {\r\n            this.pin(pressedNode, p5.mouseX,p5.mouseY);\r\n        }\r\n        return !pressedNode;\r\n    }\r\n\r\n    mouseReleased(p5) {\r\n        if (this.pinnedNode) {\r\n            this.unpin();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, this.getNodePosition(this.size-1)[1] + DoublyLinkedList.ELEMENT_HEIGHT);\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.shift(...this.getNodePosition(node.index));\r\n            node = node.next;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nclass DoublyLinkedListNode extends AttractedDraggableObject {\r\n    static CAN_DRAG = true;\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        this.data = data;\r\n        this.index = index;\r\n        this.next = null;\r\n        this.prev = null;\r\n\r\n        this.toDelete = false;\r\n        this.handBroken = false;\r\n        this.frozen = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    containsPos(x,y) {\r\n        return ((this.currentX <= x && x <= (this.currentX + DoublyLinkedList.ITEM_WIDTH)) && (this.currentY <= y && y <= (this.currentY + DoublyLinkedList.ELEMENT_HEIGHT)))\r\n    }\r\n\r\n    highlight() {\r\n        this.color = [255,165,0];\r\n    }\r\n\r\n    unHighlight() {\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        this.color[0] = 255;\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    markBroken() {\r\n        this.markForDeletion();\r\n        this.frozen = true;\r\n        this.handBroken = true;\r\n    }\r\n\r\n    unpin() {\r\n        super.unpin();\r\n        return this.displacement() > DoublyLinkedList.MAX_DIST_REMOVE;\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        let dist = super.update(animationSpeed, p5);\r\n        return this.pinnedToMouse && !this.handBroken && dist > DoublyLinkedList.MAX_DIST_REMOVE;\r\n    }\r\n\r\n    draw(p5) {\r\n        // console.log(this);\r\n        p5.push();\r\n        p5.fill(255);\r\n        p5.stroke(...this.color);\r\n        p5.rect(this.currentX, this.currentY, DoublyLinkedList.ITEM_WIDTH, DoublyLinkedList.ELEMENT_HEIGHT);\r\n        p5.line(this.currentX + DoublyLinkedList.POINTER_WIDTH, this.currentY, this.currentX + DoublyLinkedList.POINTER_WIDTH, this.currentY + DoublyLinkedList.ELEMENT_HEIGHT);\r\n        p5.line(this.currentX + DoublyLinkedList.POINTER_WIDTH + DoublyLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + DoublyLinkedList.POINTER_WIDTH + DoublyLinkedList.ELEMENT_WIDTH, this.currentY + DoublyLinkedList.ELEMENT_HEIGHT);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.text(this.data.toString(), this.currentX + DoublyLinkedList.POINTER_WIDTH,this.currentY, DoublyLinkedList.ELEMENT_WIDTH,DoublyLinkedList.ELEMENT_HEIGHT);\r\n        if (this.prev) {\r\n            p5.stroke(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.fill(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.circle(this.currentX + DoublyLinkedList.POINTER_WIDTH / 2, this.currentY + DoublyLinkedList.ELEMENT_HEIGHT *2/3, 5);\r\n            p5.line(this.currentX + DoublyLinkedList.POINTER_WIDTH / 2, this.currentY + DoublyLinkedList.ELEMENT_HEIGHT *2/3, this.prev.currentX + DoublyLinkedList.ITEM_WIDTH, this.prev.currentY + DoublyLinkedList.ELEMENT_HEIGHT *2/3)\r\n            p5.rect(this.prev.currentX + DoublyLinkedList.ITEM_WIDTH - 3, this.prev.currentY + DoublyLinkedList.ELEMENT_HEIGHT *2/3 - 3, 6,6);\r\n        } else {\r\n            p5.line(this.currentX, this.currentY, this.currentX + DoublyLinkedList.POINTER_WIDTH, this.currentY + DoublyLinkedList.ELEMENT_HEIGHT);\r\n        }\r\n        if (this.next) {\r\n            p5.stroke(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.fill(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.circle(this.currentX + DoublyLinkedList.ITEM_WIDTH - DoublyLinkedList.POINTER_WIDTH / 2, this.currentY + DoublyLinkedList.ELEMENT_HEIGHT / 3, 5);\r\n            p5.line(this.currentX + DoublyLinkedList.ITEM_WIDTH - DoublyLinkedList.POINTER_WIDTH / 2, this.currentY + DoublyLinkedList.ELEMENT_HEIGHT / 3, this.next.currentX, this.next.currentY + DoublyLinkedList.ELEMENT_HEIGHT / 3)\r\n            p5.rect(this.next.currentX - 3, this.next.currentY + DoublyLinkedList.ELEMENT_HEIGHT / 3 - 3, 6,6);\r\n        } else {\r\n            p5.stroke(...this.color);\r\n            p5.line(this.currentX + DoublyLinkedList.POINTER_WIDTH + DoublyLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + DoublyLinkedList.ITEM_WIDTH, this.currentY + DoublyLinkedList.ELEMENT_HEIGHT);\r\n        }\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nimport AttractedDraggableObject from 'animation/AttractedDraggableObject';\r\nimport { Utils } from 'utils';\r\n\r\nexport default class CircularSinglyLinkedList extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n\r\n    static ELEMENT_HEIGHT = 35;\r\n    static ELEMENT_WIDTH = 50;\r\n    static POINTER_WIDTH = 15;\r\n    static ITEM_WIDTH = CircularSinglyLinkedList.ELEMENT_WIDTH + CircularSinglyLinkedList.POINTER_WIDTH;\r\n    static SPACING = 50;\r\n    static ELEMENT_SIZE = CircularSinglyLinkedList.ITEM_WIDTH + CircularSinglyLinkedList.SPACING;\r\n\r\n    static MAX_DIST_REMOVE = 300;\r\n\r\n    constructor(animator) {\r\n        super(animator);\r\n\r\n        this.reset();\r\n    }\r\n\r\n\r\n    reset() {\r\n        super.reset();\r\n        this.head = null;\r\n        this.size = 0;\r\n        this.nodes = [];\r\n        this.tempNode = null;\r\n        this.pinnedNode = null;\r\n    }\r\n\r\n\r\n    addAtIndex(index, data) {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        if (index < 0 || index > this.size) {\r\n            console.log(\"index out of bounds\");\r\n            return false;\r\n        }\r\n        if (data === null) {\r\n            console.log(\"Cannot add null to ArrayList.\");\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        if (this.size > 0 && (index === 0 || index === this.size)) {\r\n            animation.push({method:this.makeNode,params:[index === 0 ? 1 : index,this.head.data,],});\r\n            animation.push({method:this.setTempNodeBefore,params:[this.head.next,],});\r\n            animation.push({method:this.setTempNodePrev,params:[this.head,],});\r\n            animation.push({method:this.changeHeadData,params:[data],});\r\n            if (this.size >= 2) {\r\n                animation.push({method:this.shiftForNode,params:[this.head.next,],});\r\n            }\r\n            animation.push({method:this.insertTempNode,params:[1,],});\r\n            animation.push({method:this.sizeIncr,params:[],});\r\n            if (index === this.size) {\r\n                animation.push({method:this.customNodeShift,params:[this.head, this.head.currentX - 10, this.getNodePosition(this.size)[1] + CircularSinglyLinkedList.ELEMENT_HEIGHT * 2,],customEnd:true});\r\n                // animation.push({method:this.head.shift,scope:this.head,params:[this.head.currentX - 10, this.getNodePosition(this.size)[1] + CircularSinglyLinkedList.ELEMENT_HEIGHT * 2,],});\r\n                animation.push({method:this.resetHead,params:[],});\r\n            }\r\n        } else {\r\n            let node = null;\r\n            let nextNode = this.head;\r\n            for (let i = 0; i < index; i++) {\r\n                animation.push({method:this.moveHighlight,params:[node,nextNode,],});\r\n                node = nextNode;\r\n                nextNode = nextNode.next;\r\n            }\r\n            animation.push({method:this.makeNode,params:[index,data,],});\r\n            animation.push({method:this.moveHighlight,params:[node,null,],});\r\n            animation.push({method:this.setTempNodeBefore,params:[nextNode,],});\r\n            animation.push({method:this.setTempNodePrev,params:[node,],});\r\n            if (index < this.size) {\r\n                animation.push({method:this.shiftForNode,params:[nextNode,],});\r\n            }\r\n            animation.push({method:this.insertTempNode,params:[index,],});\r\n            animation.push({method:this.sizeIncr,params:[],});\r\n        }\r\n        this.addAnimation(animation);\r\n        this.animationHistory.push(animation);\r\n        return true;\r\n    }\r\n\r\n    addToFront(data) {\r\n        return this.addAtIndex(0,data);\r\n    }\r\n\r\n    addToBack(data) {\r\n        return this.addAtIndex(this.size,data);\r\n    }\r\n\r\n\r\n    removeFromIndex(index) {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        if (index < 0 || index >= this.size) {\r\n            console.log(`Index invalid: ${index} for ArrayList of length ${this.size}. Should be [0,${this.size-1}].`);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let data;\r\n        if (index === 0) {\r\n            data = this.head.data;\r\n            animation.push({method:this.moveHighlight,params:[null,this.head,],});\r\n            animation.push({method:this.changeHeadData,params:[this.head.next.data],});\r\n            if (this.size > 1) {\r\n                index = 1;\r\n            }\r\n        }\r\n        let prev;\r\n        let toDelete;\r\n        let next;\r\n        let node = this.head;\r\n        animation.push({method:this.moveHighlight,params:[null,node,],});\r\n        for (let i = 0; i < index - 1; i++) {\r\n            animation.push({method:this.moveHighlight,params:[node,node.next,],});\r\n            node = node.next;\r\n        }\r\n        prev = node;\r\n        toDelete = prev.next;\r\n        next = toDelete.next;\r\n        if (!data) {\r\n            data = toDelete.data;\r\n        }\r\n        animation.push({method:this.markNodeForDeletion,params:[prev,toDelete,],});\r\n        animation.push({method:this.unmakeNode,params:[toDelete,],customEnd:true,});\r\n        if (index < this.size - 1) {\r\n            animation.push({method:this.shiftIntoNode,params:[next,],});\r\n        }\r\n        animation.push({method:this.skipTempNode,params:[prev,],});\r\n        animation.push({method:this.sizeDecr,params:[],});\r\n        if (index === 0) {\r\n            animation.push({method:this.reset,params:[],});\r\n        }\r\n        this.addAnimation(animation);\r\n        this.animationHistory.push(animation)\r\n        return data;\r\n    }\r\n\r\n    removeFromFront() {\r\n        return this.removeFromIndex(0);\r\n    }\r\n\r\n    removeFromBack() {\r\n        return this.removeFromIndex(this.size-1);\r\n    }\r\n\r\n\r\n    makeNode(index, data) {\r\n        this.tempNode = new CircularSinglyLinkedListNode({data: data, index: index, x:20,y:20,},);\r\n    }\r\n\r\n    setTempNodeBefore(next) {\r\n        if (next) {\r\n            this.tempNode.next = next;\r\n        } else {\r\n            if (this.head) {\r\n                this.tempNode.next = this.head;\r\n            } else {\r\n                this.tempNode.next = this.tempNode;\r\n            }\r\n        }\r\n    }\r\n\r\n    setTempNodePrev(prev) {\r\n        if (prev) {\r\n            prev.next = this.tempNode;\r\n        } else {\r\n            // this.head = this.tempNode;\r\n        }\r\n    }\r\n\r\n    changeHeadData(data) {\r\n        this.head.data = data;\r\n    }\r\n\r\n    resetHead() {\r\n        this.head = this.head.next;\r\n        let node = this.head;\r\n        let i = 0;\r\n        while (node) {\r\n            node.index = i;\r\n            node.shift(...this.getNodePosition(i++));\r\n            node = node.next;\r\n            if (node === this.head) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    insertTempNode(index) {\r\n        this.nodes.splice(index, 0, this.tempNode);\r\n        if (index === 0) {\r\n            this.head = this.tempNode;\r\n        }\r\n        this.tempNode.shift(...this.getNodePosition(index));\r\n        this.tempNode = null;\r\n    }\r\n\r\n    moveHighlight(fromNode, toNode) {\r\n        if (fromNode) {\r\n            fromNode.unHighlight();\r\n        }\r\n        if (toNode) {\r\n            toNode.highlight();\r\n        }\r\n    }\r\n\r\n    markNodeForDeletion(highlighted, nodeToDelete) {\r\n        if (highlighted) {\r\n            highlighted.unHighlight();\r\n        }\r\n        nodeToDelete.markForDeletion();\r\n    }\r\n\r\n    unmakeNode(node) {\r\n        this.tempNode = node;//this.nodes.splice(node.index, 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        this.tempNode.addOnStop(() => {\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n\r\n    skipTempNode(prev) {\r\n        if (prev) {\r\n            prev.next = this.tempNode.next;\r\n        } else {\r\n            this.head = this.head.next;\r\n        }\r\n        this.tempNode = null;\r\n    }\r\n\r\n    shiftForNode(node) {\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            node = node.next;\r\n            if (node === this.head) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    shiftIntoNode(node) {\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            node = node.next;\r\n            if (node === this.head) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    shiftNode(node, direction = 0) {\r\n        node.shift(...this.getNodePosition(node.index + direction), direction);\r\n    }\r\n\r\n    customNodeShift(node, x, y) {\r\n        node.shift(x,y);\r\n        node.addOnStop(() => {\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n\r\n    getNodePosition(index) {\r\n        let maxPerRow = Math.max(1, Math.floor(this.width / CircularSinglyLinkedList.ELEMENT_SIZE));\r\n        let x = CircularSinglyLinkedList.ELEMENT_SIZE * index;\r\n        let y = 50 + Math.floor(index / maxPerRow) * 2 * CircularSinglyLinkedList.ELEMENT_HEIGHT;\r\n        x = (index % maxPerRow) * CircularSinglyLinkedList.ELEMENT_SIZE;\r\n        return [x + this.x,y + this.y];\r\n    }\r\n\r\n    getNodeAtPos(x,y) {\r\n        let node = this.head;\r\n        while (node) {\r\n            if (node.containsPos(x,y)) {\r\n                return node;\r\n            }\r\n            node = node.next;\r\n            if (node === this.head) {\r\n                break;\r\n            }\r\n        }\r\n        if (this.tempNode && this.tempNode.containsPos(x,y)) {\r\n            return this.tempNode;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    pin(node, x,y) {\r\n        this.pinnedNode = node;\r\n        node.pin(x,y);\r\n    }\r\n\r\n    unpin() {\r\n        if (this.pinnedNode.unpin() && this.animationQueue.length === 0) {\r\n            this.pinnedNode.markBroken();\r\n            this.removeFromIndex(this.pinnedNode.index);\r\n            if (this.pinnedNode.index === 0 && this.size > 1) {\r\n                this.animationQueue.push({method:this.pinnedNode.unfreeze,scope:this.pinnedNode,params:[],});\r\n                this.animationQueue.push({method:this.shiftNode,params:[this.pinnedNode,],});\r\n            }\r\n        }\r\n        this.pinnedNode = null;\r\n    }\r\n\r\n    updateNode(node, animationSpeed, p5) {\r\n        let update = node.update(animationSpeed, p5);\r\n        if (this.animationQueue.length === 0) {\r\n            if (update) {\r\n                node.highlightForDeletion();\r\n            } else if (node.pinnedToMouse && !node.toDelete) {\r\n                node.unHighlight();\r\n            }\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(() => {\r\n            let node = this.head;\r\n            while (node) {\r\n                this.updateNode(node, animationSpeed, p5);\r\n                node = node.next;\r\n                if (node === this.head) {\r\n                    break;\r\n                }\r\n            }\r\n            if (this.tempNode) {\r\n                this.updateNode(this.tempNode, animationSpeed, p5);\r\n            }\r\n        }, animationSpeed, p5);\r\n    }\r\n\r\n    draw(p5) {\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_WIDTH/3 - 2);\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.draw(p5, node.next === this.head);\r\n            node = node.next;\r\n            if (node === this.head) {\r\n                break;\r\n            }\r\n        }\r\n        if (this.tempNode) {\r\n            this.tempNode.draw(p5);\r\n        }\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    mousePressed(p5) {\r\n        let pressedNode = this.getNodeAtPos(p5.mouseX, p5.mouseY);\r\n        if (pressedNode) {\r\n            this.pin(pressedNode, p5.mouseX,p5.mouseY);\r\n        }\r\n        return !pressedNode;\r\n    }\r\n\r\n    touchMoved(p5) {\r\n        return this.pinnedNode === null;\r\n    }\r\n\r\n    mouseReleased(p5) {\r\n        if (this.pinnedNode) {\r\n            this.unpin();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, this.getNodePosition(this.size-1)[1] + CircularSinglyLinkedList.ELEMENT_HEIGHT);\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.shift(...this.getNodePosition(node.index));\r\n            node = node.next;\r\n            if (node === this.head) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\nclass CircularSinglyLinkedListNode extends AttractedDraggableObject {\r\n    static CAN_DRAG = true;\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        this.data = data;\r\n        this.index = index;\r\n        this.next = null;\r\n\r\n        this.toDelete = false;\r\n        this.handBroken = false;\r\n        this.frozen = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    containsPos(x,y) {\r\n        return ((this.currentX <= x && x <= (this.currentX + CircularSinglyLinkedList.ITEM_WIDTH)) && (this.currentY <= y && y <= (this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT)))\r\n    }\r\n\r\n    highlight() {\r\n        this.color = [255,165,0];\r\n    }\r\n\r\n    unHighlight() {\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        this.color[0] = 255;\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    markBroken() {\r\n        this.markForDeletion();\r\n        this.frozen = true;\r\n        this.handBroken = true;\r\n    }\r\n\r\n    unfreeze() {\r\n        this.frozen = false;\r\n        this.handBroken = false;\r\n    }\r\n\r\n    unpin() {\r\n        super.unpin();\r\n        return this.displacement() > CircularSinglyLinkedList.MAX_DIST_REMOVE;\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        let dist = super.update(animationSpeed, p5);\r\n        return this.pinnedToMouse && !this.handBroken && dist > CircularSinglyLinkedList.MAX_DIST_REMOVE;\r\n    }\r\n\r\n    draw(p5, pointsToHead = false) {\r\n        // console.log(this);\r\n        p5.push();\r\n        p5.fill(255);\r\n        p5.stroke(...this.color);\r\n        p5.rect(this.currentX, this.currentY, CircularSinglyLinkedList.ITEM_WIDTH, CircularSinglyLinkedList.ELEMENT_HEIGHT);\r\n        p5.line(this.currentX + CircularSinglyLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + CircularSinglyLinkedList.ELEMENT_WIDTH, this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.text(this.data.toString(), this.currentX,this.currentY, CircularSinglyLinkedList.ELEMENT_WIDTH,CircularSinglyLinkedList.ELEMENT_HEIGHT);\r\n        if (this.next) {\r\n            p5.stroke(...Utils.addArray(this.color, [0,0,255]));\r\n            p5.fill(...Utils.addArray(this.color, [0,0,255]));\r\n            p5.circle(this.currentX + CircularSinglyLinkedList.ELEMENT_WIDTH + CircularSinglyLinkedList.POINTER_WIDTH / 2, this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT / 2, 5);\r\n            if (pointsToHead) {\r\n                p5.push();\r\n                p5.noFill();\r\n                p5.curveTightness(0.8);\r\n                p5.beginShape();\r\n                p5.curveVertex(this.currentX + CircularSinglyLinkedList.ELEMENT_WIDTH + CircularSinglyLinkedList.POINTER_WIDTH / 2, this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT / 2);\r\n                p5.curveVertex(this.currentX + CircularSinglyLinkedList.ELEMENT_WIDTH + CircularSinglyLinkedList.POINTER_WIDTH / 2, this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT / 2);\r\n\r\n                p5.curveVertex(this.currentX + CircularSinglyLinkedList.ELEMENT_WIDTH + CircularSinglyLinkedList.POINTER_WIDTH / 2, this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT * 2);\r\n                p5.curveVertex(15, this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT * 2);\r\n\r\n                p5.curveVertex(this.next.currentX, this.next.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT / 2);\r\n                p5.curveVertex(this.next.currentX, this.next.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT / 2);\r\n                p5.endShape();\r\n                p5.pop();\r\n            } else {\r\n                p5.line(this.currentX + CircularSinglyLinkedList.ELEMENT_WIDTH + CircularSinglyLinkedList.POINTER_WIDTH / 2, this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT / 2, this.next.currentX, this.next.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT / 2);\r\n            }\r\n            p5.rect(this.next.currentX - 3, this.next.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT / 2 - 3, 6,6);\r\n        } else {\r\n            p5.line(this.currentX + CircularSinglyLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + CircularSinglyLinkedList.ITEM_WIDTH, this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT);\r\n        }\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nimport { AttractedHighlightableObject } from 'animation';\r\nimport { Colors } from 'utils';\r\n\r\nexport default class StackArray extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static SUPPORTS_NO_LOOP = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n    static SUPPORTS_TEXT = true;\r\n\r\n    static INITIAL_CAPACITY = 9;\r\n\r\n    static ELEMENT_SIZE = 50;\r\n    static TOP_LOCATION_X = 125;\r\n    static TOP_LOCATION_Y = 45;\r\n\r\n    constructor(animator) {\r\n        super(animator);\r\n\r\n        this.reset();\r\n        this.made = true;\r\n    }\r\n\r\n    reset() {\r\n        if (this.made) {\r\n            this.beginDrawLoop();\r\n        }\r\n        super.reset();\r\n        this.backingArray = new Array(StackArray.INITIAL_CAPACITY);\r\n        this.size = 0;\r\n        this.copyArray = null;\r\n        this.tempElement = null;\r\n        this.topPointerValue = 0;\r\n        this.topPointerHighlighter = new AttractedHighlightableObject(StackArray.TOP_LOCATION_X, StackArray.TOP_LOCATION_Y, {\r\n            highlightOuterRadius: 15//StackArray.ELEMENT_SIZE/2,\r\n        });\r\n\r\n        this.resizing = false;\r\n        if (this.made) {\r\n            this.updateText(\"Animation Ready\");\r\n            this.endDrawLoop();\r\n        }\r\n    }\r\n\r\n    push(data) {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot add null to Stack.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        if (this.size === this.backingArray.length) {\r\n            animation.push({method:this.showText,params:[`Stack full, resizing to length ${this.backingArray.length*2}`,],});\r\n            animation.push(...this.createCopyArray());\r\n        }\r\n        animation.push({method:this.makeElement,params:[this.size,data],explanation:`Create value: ${data}`,});\r\n        animation.push(...this.useTopPointer());\r\n        animation.push({method:this.highlightTemp,params:[],noAnim:true});\r\n        animation.push({method:this.insertElement,params:[this.size],customEnd:true,explanation:`Added ${data} to backingArray`});\r\n        animation.push({method:this.sizeIncr,params:[],noAnim:true});\r\n        animation.push(...this.updateTopPointer());\r\n        animation.push({method:this.showText,params:[`Successfully pushed ${data} to stack.`,Colors.GREEN,],});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        return true;\r\n    }\r\n\r\n    pop() {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (this.size === 0) {\r\n            this.updateText(\"Cannot pop empty Stack\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let data = this.backingArray[this.size - 1].value;\r\n        animation.push({method:this.sizeDecr,params:[],noAnim:true});\r\n        animation.push(...this.updateTopPointer());\r\n        animation.push(...this.useTopPointer());\r\n        animation.push({method:this.extractElement,params:[],explanation:`Pop value: ${data} from stack`,customEnd:true});\r\n        animation.push({method:this.unmakeElement,params:[],noAnim:true});\r\n        // animation.push({method:this.highlightTemp,params:[],noAnim:true});\r\n        // animation.push({method:this.insertElement,params:[this.size],customEnd:true,explanation:`Added ${data} to backingArray`});\r\n        // animation.push({method:this.makeElement,params:[this.size,data],explanation:`Create value: ${data}`});\r\n\r\n        // if (index === 0) {\r\n        //     data = this.head.data;\r\n        //     animation.push({method:this.moveHighlight,params:[null,this.head,],});\r\n        //     animation.push({method:this.changeHeadData,params:[this.head.next.data],});\r\n        //     index = 1;\r\n        // }\r\n        // let prev;\r\n        // let toDelete;\r\n        // let next;\r\n        // let node = this.head;\r\n        // animation.push({method:this.moveHighlight,params:[null,node,],});\r\n        // for (let i = 0; i < index - 1; i++) {\r\n        //     animation.push({method:this.moveHighlight,params:[node,node.next,],});\r\n        //     node = node.next;\r\n        // }\r\n        // prev = node;\r\n        // toDelete = prev.next;\r\n        // next = toDelete.next;\r\n        // if (!data) {\r\n        //     data = toDelete.data;\r\n        // }\r\n        // animation.push({method:this.markNodeForDeletion,params:[prev,toDelete,],});\r\n        // animation.push({method:this.unmakeNode,params:[toDelete,],customEnd:true,});\r\n        // if (index < this.size - 1) {\r\n        //     animation.push({method:this.shiftIntoNode,params:[next,],});\r\n        // }\r\n        // animation.push({method:this.skipTempNode,params:[prev,],});\r\n        // animation.push({method:this.sizeDecr,params:[],});\r\n        this.addAnimation(animation);\r\n        this.updateText(`Successfully popped ${data} from stack.`, Colors.GREEN);\r\n        this.endDrawLoop();\r\n        // this.animationHistory.push(animation)\r\n        return data;\r\n    }\r\n\r\n    createCopyArray() {\r\n        let animation = [];\r\n        animation.push({method:this.initCopyArray,params:[],noAnim:true});\r\n        for (let i = 0; i < this.size; i++) {\r\n            animation.push(...this.addItemToCopy(i));\r\n        }\r\n        animation.push(...this.useCopyArr());\r\n        return animation;\r\n    }\r\n\r\n    initCopyArray() {\r\n        this.copyArray = new Array(this.backingArray.length * 2);\r\n        for (let i = 0; i < this.size; i++) {\r\n            let pos = this.getElementPosition(i);\r\n            this.copyArray[i] = new StackArrayElement({data: this.backingArray[i].value, index: i, x:pos[0],y:pos[1],},);\r\n        }\r\n    }\r\n\r\n    addItemToCopy(index) {\r\n        let animation = [];\r\n        animation.push({method:this.customEndingElementShift,params:[index,...this.getElementPosition(index,true),true],customEnd:true});\r\n        return animation;\r\n    }\r\n\r\n    useCopyArr() {\r\n        let animation = [];\r\n        animation.push({method:this.assignCopyArray,params:[],noAnim:true});\r\n        for (let i = 0; i < this.size; i++) {\r\n            animation.push({method:this.shiftElementToBackingArray,params:[i,],noAnim:true});\r\n        }\r\n        return animation;\r\n    }\r\n\r\n    assignCopyArray() {\r\n        this.backingArray = this.copyArray;\r\n        this.copyArray = null;\r\n    }\r\n\r\n    shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(element.index));\r\n    }\r\n\r\n    makeElement(index, data, immediateHighlight = false) {\r\n        this.tempElement = new StackArrayElement({data: data, index: index, x:45,y:45,},);\r\n        if (immediateHighlight) {\r\n            this.tempElement.highlightForMovement();\r\n        }\r\n    }\r\n\r\n    useTopPointer() {\r\n        let animation = [];\r\n        animation.push({method:this.topPointerHighlighter.highlight,scope:this.topPointerHighlighter,params:[],noAnim:true});\r\n        animation.push({method:this.moveTopTracker,params:[],customEnd:true,explanation:`Top points to index |RETURN|`,explanationUsesReturn:true});\r\n        animation.push({method:this.topPointerHighlighter.unhighlight,scope:this.topPointerHighlighter,params:[],noAnim:true});\r\n        animation.push({method:this.topPointerHighlighter.goTo,scope:this.topPointerHighlighter,params:[StackArray.TOP_LOCATION_X,StackArray.TOP_LOCATION_Y,],noAnim:true});\r\n        return animation;\r\n    }\r\n\r\n    moveTopTracker() {\r\n        let pos = this.getElementPosition(this.topPointerValue);\r\n        this.topPointerHighlighter.shift(pos[0], pos[1] + StackArray.ELEMENT_SIZE);\r\n        this.topPointerHighlighter.addOnStop(() => {\r\n            this.doneAnimating(0);\r\n        });\r\n        return this.topPointerValue;\r\n    }\r\n\r\n    highlightTemp(color = Colors.BLUE) {\r\n        this.tempElement.highlight(color);\r\n    }\r\n\r\n    insertElement(index) {\r\n        this.backingArray[index] = this.tempElement;\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        this.tempElement = null;\r\n    }\r\n\r\n    extractElement() {\r\n        this.tempElement = this.backingArray[this.topPointerValue];\r\n        this.backingArray[this.topPointerValue] = null;\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(45,45);\r\n        this.tempElement.addOnStop(() => {\r\n            this.tempElement.unhighlight();\r\n            this.doneAnimating();\r\n        });\r\n    }\r\n\r\n    unmakeElement(index) {\r\n        this.tempElement = null;\r\n    }\r\n\r\n    shiftElement(element, direction = 0) {\r\n        element.shift(...this.getElementPosition(element.index + direction), direction);\r\n    }\r\n\r\n    customEndingElementShift(index, x, y, copy = false) {\r\n        let element = (copy ? this.copyArray : this.backingArray)[index];\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        element.addOnStop(() => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n\r\n    updateTopPointer() {\r\n        let animation = [];\r\n        animation.push({method:this.topPointerHighlighter.highlight,scope:this.topPointerHighlighter,params:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE]});\r\n        animation.push({method:this.changeTopPointerValue,params:[],explanation:`Update top pointer to |RETURN|`,explanationUsesReturn:true});\r\n        animation.push({method:this.topPointerHighlighter.unhighlight,scope:this.topPointerHighlighter,params:[],noAnim:true});\r\n        return animation;\r\n    }\r\n\r\n    changeTopPointerValue() {\r\n        this.topPointerValue = this.size;\r\n        return this.size;\r\n    }\r\n\r\n    getElementPosition(index, copy = false) {\r\n        let maxPerRow = Math.floor(this.width / StackArray.ELEMENT_SIZE);\r\n        let x = StackArray.ELEMENT_SIZE * index;\r\n        let y = 50 + Math.floor(index / maxPerRow) * 2 * StackArray.ELEMENT_SIZE;\r\n        x = (index % maxPerRow) * StackArray.ELEMENT_SIZE;\r\n        return [x + StackArray.ELEMENT_SIZE/2 + this.x,y + StackArray.ELEMENT_SIZE/2 + this.y + (copy ? (Math.ceil(this.backingArray.length / maxPerRow)*StackArray.ELEMENT_SIZE*2) : 0)];\r\n    }\r\n\r\n    allInPosition() {\r\n        let moving = false;\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i] && this.backingArray[i].displacement() > 0) {\r\n                moving = true;\r\n            }\r\n        }\r\n        if (this.copyArray) {\r\n            for (let i = 0; i < this.copyArray.length; i++) {\r\n                if (this.copyArray[i] && this.copyArray[i].displacement() > 0) {\r\n                    moving = true;\r\n                }\r\n            }\r\n        }\r\n        return !moving;\r\n    }\r\n\r\n    updateElement(element, animationSpeed, p5) {\r\n        if (element) {\r\n            element.update(animationSpeed, p5);\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(() => {\r\n            for (let i = 0; i < this.backingArray.length; i++) {\r\n                this.updateElement(this.backingArray[i], animationSpeed, p5);\r\n            }\r\n            if (this.copyArray) {\r\n                for (let i = 0; i < this.copyArray.length; i++) {\r\n                    this.updateElement(this.copyArray[i], animationSpeed, p5);\r\n                }\r\n            }\r\n            if (this.tempElement) {\r\n                this.updateElement(this.tempElement, animationSpeed, p5);\r\n            }\r\n            this.topPointerHighlighter.update(animationSpeed, p5);\r\n            if (this.resizing && this.allInPosition()) {\r\n                if (!this.animating && this.animationQueue.length === 0) {\r\n                    this.animator.noLoop();\r\n                }\r\n                this.resizing = false;\r\n            }\r\n        }, animationSpeed, p5);\r\n    }\r\n\r\n    draw(p5) {\r\n        super.draw(p5);\r\n        // console.log(\"draw\");\r\n        p5.push();\r\n        // let maxPerRow = Math.max(1, Math.floor((p5.width - 2 * this.x) / StackArray.ELEMENT_SIZE));\r\n        // let rows = Math.ceil(this.backingArray.length / maxPerRow);\r\n\r\n        // p5.translate(this.x,this.y+50);\r\n        //\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_SIZE/3 - 2);\r\n        //\r\n        // for (let row = 0; row < rows; row++) {\r\n        //     let numElements = row !== rows-1 ? maxPerRow\r\n        //             : (this.backingArray.length % maxPerRow === 0 ? maxPerRow : (this.backingArray.length % maxPerRow));\r\n        //     p5.noStroke();\r\n        //     p5.fill(200);\r\n        //     p5.rect(StackArray.ELEMENT_SIZE/10,StackArray.ELEMENT_SIZE/10 + (2 * StackArray.ELEMENT_SIZE * row),StackArray.ELEMENT_SIZE*numElements,StackArray.ELEMENT_SIZE,StackArray.ELEMENT_SIZE/20);\r\n        //\r\n        //     p5.stroke(0);\r\n        //     p5.fill(255);\r\n        //     p5.rect(0,(2 * StackArray.ELEMENT_SIZE * row), StackArray.ELEMENT_SIZE*numElements,StackArray.ELEMENT_SIZE);\r\n        // }\r\n        //\r\n        // let i = 0;\r\n        // for (let row = 0; row < rows; row++) {\r\n        //     let numElements = row !== rows-1 ? maxPerRow\r\n        //             : (this.backingArray.length % maxPerRow === 0 ? maxPerRow : (this.backingArray.length % maxPerRow));\r\n        //     let x = 0;\r\n        //     let y = 2 * row * StackArray.ELEMENT_SIZE;\r\n        //     for (let block = 0; block < numElements; block++) {\r\n        //         p5.stroke(0);\r\n        //         p5.line(x,y, x, y+StackArray.ELEMENT_SIZE);\r\n        //\r\n        //         p5.noStroke();\r\n        //         p5.fill(0,0,255);\r\n        //         p5.text(i.toString(), x,y+StackArray.ELEMENT_SIZE, StackArray.ELEMENT_SIZE,StackArray.ELEMENT_SIZE);\r\n        //         //\r\n        //         // let element = this.backingArray[i++];\r\n        //         i++;\r\n        //         let nextX = block < (numElements - 1) ? x + StackArray.ELEMENT_SIZE : 0;\r\n        //         let nextY = block < (numElements - 1) ? y : (y + (StackArray.ELEMENT_SIZE*2));\r\n        //         // if (element.data) {\r\n        //         //     element.draw(p5, x,y,nextX,nextY);\r\n        //         // }\r\n        //         x = nextX;\r\n        //         y = nextY;\r\n        //         // if (y >= document.querySelector(\".canvas-container\").getBoundingClientRect().height - StackArray.ELEMENT_SIZE) {\r\n        //         //     // this.windowResized(p5, document.querySelector(\".canvas-container\").getBoundingClientRect().height);\r\n        //         // }\r\n        //     }\r\n        // }\r\n        //\r\n        // p5.translate(-this.x, -this.y - 50);\r\n\r\n        p5.fill(0);\r\n        p5.text(\"Top: \", StackArray.TOP_LOCATION_X - 50, StackArray.TOP_LOCATION_Y, StackArray.ELEMENT_SIZE);\r\n\r\n        p5.text(this.topPointerValue.toString(), StackArray.TOP_LOCATION_X-25, StackArray.TOP_LOCATION_Y, StackArray.ELEMENT_SIZE);\r\n\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i]) {\r\n                this.backingArray[i].draw(p5);\r\n            }\r\n            let pos = this.getElementPosition(i);\r\n            p5.noFill();\r\n            p5.stroke(0);\r\n            p5.square(pos[0] - StackArray.ELEMENT_SIZE/2,pos[1] - StackArray.ELEMENT_SIZE/2, StackArray.ELEMENT_SIZE);\r\n            p5.fill(...Colors.BLUE);\r\n            p5.stroke(...Colors.BLUE);\r\n            p5.text(i.toString(), pos[0] - StackArray.ELEMENT_SIZE/2,pos[1] + StackArray.ELEMENT_SIZE/2, StackArray.ELEMENT_SIZE, StackArray.ELEMENT_SIZE);\r\n        }\r\n\r\n        if (this.copyArray) {\r\n            for (let i = 0; i < this.copyArray.length; i++) {\r\n                if (this.copyArray[i]) {\r\n                    this.copyArray[i].draw(p5);\r\n                }\r\n                let pos = this.getElementPosition(i, true);\r\n                p5.noFill();\r\n                p5.stroke(0);\r\n                p5.square(pos[0] - StackArray.ELEMENT_SIZE/2,pos[1] - StackArray.ELEMENT_SIZE/2, StackArray.ELEMENT_SIZE);\r\n                p5.fill(...Colors.BLUE);\r\n                p5.stroke(...Colors.BLUE);\r\n                p5.text(i.toString(), pos[0] - StackArray.ELEMENT_SIZE/2,pos[1] + StackArray.ELEMENT_SIZE/2, StackArray.ELEMENT_SIZE, StackArray.ELEMENT_SIZE);\r\n            }\r\n        }\r\n        if (this.tempElement) {\r\n            this.tempElement.draw(p5);\r\n        }\r\n        this.topPointerHighlighter.draw(p5);\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, (this.copyArray ? this.getElementPosition(this.copyArray.length-1, true)[1] : this.getElementPosition(this.backingArray.length-1)[1]) + StackArray.ELEMENT_SIZE);\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i]) {\r\n                this.backingArray[i].shift(...this.getElementPosition(i));\r\n            }\r\n        }\r\n        this.resizing = true;\r\n        this.animator.loop();\r\n    }\r\n}\r\n\r\n\r\nclass StackArrayElement extends AttractedHighlightableObject {\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        // this.highlightInnerRadius = StackArray.ELEMENT_SIZE/2 - 5;\r\n        this.highlightOuterRadius = StackArray.ELEMENT_SIZE/2;\r\n\r\n        this.value = data;\r\n        this.index = index;\r\n\r\n        this.toDelete = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    highlightForMovement() {\r\n        super.highlight(Colors.BLUE);\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        super.highlight(Colors.RED);\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5);\r\n    }\r\n\r\n    drawValue(p5) {\r\n        p5.push();\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.stroke(...this.color);\r\n        p5.text(this.value.toString(), this.currentX - StackArray.ELEMENT_SIZE/2,this.currentY - StackArray.ELEMENT_SIZE/2, StackArray.ELEMENT_SIZE, StackArray.ELEMENT_SIZE);\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nimport { AttractedHighlightableObject } from 'animation';\r\nimport { Colors } from 'utils';\r\n\r\nexport default class QueueArray extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static SUPPORTS_NO_LOOP = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n    static SUPPORTS_TEXT = true;\r\n    static SUPPORTS_ANIMATION_CONTROL = true;\r\n    static SUPPORTS_STOP_ID = true;\r\n\r\n    static INITIAL_CAPACITY = 9;\r\n\r\n    static ELEMENT_SIZE = 50;\r\n    static HEAD_LOCATION_X = 125;\r\n    static HEAD_LOCATION_Y = 35;\r\n    static TAIL_LOCATION_X = 125;\r\n    static TAIL_LOCATION_Y = 55;\r\n\r\n    constructor(animator) {\r\n        super(animator);\r\n\r\n        this.reset();\r\n        this.made = true;\r\n    }\r\n\r\n    reset() {\r\n        super.reset();\r\n        if (this.made) {\r\n            this.beginDrawLoop();\r\n        }\r\n\r\n        this.backingArray = new Array(QueueArray.INITIAL_CAPACITY);\r\n        this.size = 0;\r\n        this.copyArray = null;\r\n        this.tempElement = null;\r\n        this.headPointerValue = 0;\r\n        this.headPointerHighlighter = new AttractedHighlightableObject(QueueArray.HEAD_LOCATION_X, QueueArray.HEAD_LOCATION_Y, {\r\n            highlightOuterRadius: 15\r\n        });\r\n        this.tailPointerValue = 0;\r\n        this.tailPointerHighlighter = new AttractedHighlightableObject(QueueArray.TAIL_LOCATION_X, QueueArray.TAIL_LOCATION_Y, {\r\n            highlightOuterRadius: 15\r\n        });\r\n\r\n        if (this.made) {\r\n            // this.updateText(\"Animation Ready\");\r\n            this.endDrawLoop();\r\n        }\r\n    }\r\n\r\n    ensureDrawn(skipDraw = false) {\r\n        this.beginDrawLoop();\r\n        let furthestObject = this.headPointerHighlighter;\r\n        if (this.tailPointerHighlighter.displacement() > furthestObject.displacement()) {\r\n            furthestObject = this.tailPointerHighlighter;\r\n        }\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i] && this.backingArray[i].displacement() > furthestObject.displacement()) {\r\n                furthestObject = this.backingArray[i];\r\n            }\r\n        }\r\n        if (this.copyArray) {\r\n            for (let i = 0; i < this.copyArray.length; i++) {\r\n                if (this.copyArray[i] && this.copyArray[i].displacement() > furthestObject.displacement()) {\r\n                    furthestObject = this.copyArray[i];\r\n                }\r\n            }\r\n        }\r\n        if (furthestObject.displacement() > 0) {\r\n            let stopID = ++this.stopID;\r\n            furthestObject.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n            if (skipDraw) {\r\n                this.headPointerHighlighter.stop();\r\n                this.tailPointerHighlighter.stop();\r\n                for (let i = 0; i < this.backingArray.length; i++) {\r\n                    if (this.backingArray[i]) {\r\n                        this.backingArray[i].stop();\r\n                    }\r\n                }\r\n                if (this.copyArray) {\r\n                    for (let i = 0; i < this.copyArray.length; i++) {\r\n                        if (this.copyArray[i]) {\r\n                            this.copyArray[i].stop();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            this.stopDrawing(++this.stopID);\r\n        }\r\n    }\r\n\r\n\r\n    enqueue(data) {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot add null to Queue.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        animation.push({method:this.showText,params:[`Enqueuing at index ${this.tailPointerValue}.`]});\r\n        if (this.size === this.backingArray.length) {\r\n            animation.push(...this.createCopyArray());\r\n        }\r\n        animation.push({method:this.createElement,params:[data],explanation:`Create value: ${data}`,isAnimationStep:true,});\r\n        animation.push(...this.useTailPointer());\r\n        // animation.push({method:this.highlightTemp,params:[],noAnim:true});\r\n        animation.push({method:this.insertElement,params:[],customEnd:true,explanation:`Added ${data} to backingArray`,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push(...this.updateTailPointer());\r\n        animation.push({method:this.sizeIncr,params:[],noAnim:true});\r\n        animation.push({method:this.showText,params:[`Successfully pushed ${data} to queue.`,Colors.GREEN,],});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return true;\r\n    }\r\n\r\n    dequeue() {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (this.size === 0) {\r\n            this.updateText(\"Cannot pop empty Queue\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let data = this.backingArray[this.headPointerValue].value;\r\n        animation.push({method:this.showText,params:[`Dequeuing from index ${this.headPointerValue}.`]});\r\n        animation.push(...this.useHeadPointer());\r\n        animation.push({method:this.extractElement,params:[],explanation:`Pop value: ${data} from queue`,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.unmakeElement,params:[],noAnim:true,returnsUndoData:true});\r\n        animation.push(...this.updateHeadPointer());\r\n        animation.push({method:this.sizeDecr,params:[],noAnim:true});\r\n        animation.push({method:this.showText,params:[`Successfully popped ${data} from queue.`,Colors.GREEN],noAnim:true});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return data;\r\n    }\r\n\r\n    createCopyArray() {\r\n        let animation = [];\r\n        animation.push({method:this.initCopyArray,params:[],noAnim:true,explanation:`Queue full, resizing to length ${this.backingArray.length*2}`,isForwardStep:true,});\r\n        animation.push(...this.useHeadPointer());\r\n        for (let i = 0; i < this.size; i++) {\r\n            animation.push(...this.addItemToCopy(i));\r\n        }\r\n        animation.push(...this.useCopyArr());\r\n        animation.push(...this.updateHeadPointer(0));\r\n        animation.push(...this.updateTailPointer(this.size));\r\n        return animation;\r\n    }\r\n\r\n    initCopyArray() {\r\n        this.copyArray = new Array(this.backingArray.length * 2);\r\n        for (let i = 0; i < this.size; i++) {\r\n            let arrIndex = (i + this.headPointerValue) % this.backingArray.length;\r\n            let pos = this.getElementPosition(arrIndex);\r\n            this.copyArray[i] = new QueueArrayElement({data: this.backingArray[arrIndex].value, index: i, x:pos[0],y:pos[1],},);\r\n        }\r\n    }\r\n    undo_initCopyArray() {\r\n        this.copyArray = null;\r\n    }\r\n\r\n    addItemToCopy(index) {\r\n        let animation = [];\r\n        // animation.push({method:this.shiftElementToCopyArray,params:[index,...this.getElementPosition(index,true)],customEnd:true,isBackStep:(index === 0),isForwardStep:(index === this.size - 1),customUndoEnd:(index === 0),customRedoEnd:(index === this.size - 1),});\r\n        animation.push({method:this.shiftElementToCopyArray,params:[index,...this.getElementPosition(index,true)],customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n        return animation;\r\n    }\r\n\r\n    shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        let oldX = element.desiredX;\r\n        let oldY = element.desiredY;\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        element.addOnStop((el) => {\r\n            el.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        return [index, oldX, oldY];\r\n    }\r\n    undo_shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        if (true || index === 0) {\r\n            let stopID = ++this.stopID;\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n                this.stopDrawing(stopID);\r\n            });\r\n        } else {\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n            });\r\n        }\r\n    }\r\n    redo_shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        if (true || index === this.size - 1) {\r\n            let stopID = ++this.stopID;\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n                this.stopDrawing(stopID);\r\n            });\r\n        } else {\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n            });\r\n        }\r\n    }\r\n\r\n    useCopyArr() {\r\n        let animation = [];\r\n        animation.push({method:this.assignCopyArray,params:[],noAnim:true,isBackStep:true,customUndoEnd:true,returnsUndoData:true});\r\n        for (let i = 0; i < this.size; i++) {\r\n            animation.push({method:this.shiftElementToBackingArray,params:[i,],noAnim:true,isForwardStep:(i === this.size - 1),customUndoEnd:true,customRedoEnd:true});\r\n        }\r\n        animation.push({method:this.noAction,noAnim:true,isBackStep:true});\r\n        return animation;\r\n    }\r\n\r\n    assignCopyArray() {\r\n        let oldBacking = this.backingArray;\r\n        this.backingArray = this.copyArray;\r\n        this.copyArray = null;\r\n        return [oldBacking];\r\n    }\r\n    undo_assignCopyArray(oldBacking) {\r\n        this.copyArray = this.backingArray;\r\n        this.backingArray = oldBacking;\r\n    }\r\n\r\n    shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(element.index));\r\n    }\r\n    undo_shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(index,true));\r\n        if (index === 0) {\r\n            let stopID = ++this.stopID;\r\n            element.addOnStop((el) => {\r\n                this.stopDrawing(stopID);\r\n            })\r\n        }\r\n    }\r\n    redo_shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(element.index));\r\n        if (index === this.size - 1) {\r\n            let stopID = ++this.stopID;\r\n            element.addOnStop((el) => {\r\n                this.stopDrawing(stopID);\r\n            })\r\n        }\r\n    }\r\n\r\n    createElement(data) {\r\n        this.tempElement = new QueueArrayElement({data: data, index: this.tailPointerValue, x:45,y:45,},);\r\n    }\r\n    undo_createElement(data) {\r\n        this.tempElement = null;\r\n    }\r\n\r\n    useTailPointer() {\r\n        let animation = [];\r\n        animation.push({method:this.tailPointerHighlighter.highlight,scope:this.tailPointerHighlighter,params:[],noAnim:true,});\r\n        animation.push({method:this.moveTailTracker,params:[],customEnd:true,explanation:`Tail points to index |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.tailPointerHighlighter.unhighlight,scope:this.tailPointerHighlighter,params:[],noAnim:true,});\r\n        animation.push({method:this.tailPointerHighlighter.goTo,scope:this.tailPointerHighlighter,params:[QueueArray.TAIL_LOCATION_X,QueueArray.TAIL_LOCATION_Y,],noAnim:true,returnsUndoData:true});\r\n        return animation;\r\n    }\r\n\r\n    moveTailTracker() {\r\n        let pos = this.getElementPosition(this.tailPointerValue);\r\n        this.tailPointerHighlighter.highlight();\r\n        this.tailPointerHighlighter.shift(pos[0], pos[1] + QueueArray.ELEMENT_SIZE);\r\n        this.tailPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        return this.tailPointerValue;\r\n    }\r\n    undo_moveTailTracker() {\r\n        this.tailPointerHighlighter.shift(QueueArray.TAIL_LOCATION_X,QueueArray.TAIL_LOCATION_Y);\r\n        this.tailPointerHighlighter.highlight();\r\n        let stopID = ++this.stopID;\r\n        this.tailPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        return this.tailPointerValue;\r\n    }\r\n    redo_moveTailTracker() {\r\n        let pos = this.getElementPosition(this.tailPointerValue);\r\n        this.tailPointerHighlighter.highlight();\r\n        this.tailPointerHighlighter.shift(pos[0], pos[1] + QueueArray.ELEMENT_SIZE);\r\n        let stopID = ++this.stopID;\r\n        this.tailPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        return this.tailPointerValue;\r\n    }\r\n\r\n    highlightTemp(color = Colors.BLUE) {\r\n        this.tempElement.highlight(color);\r\n    }\r\n    undo_highlightTemp() {\r\n        this.tempElement.unhighlight();\r\n    }\r\n\r\n    insertElement() {\r\n        let index = this.tailPointerValue;\r\n        this.backingArray[index] = this.tempElement;\r\n        this.highlightTemp();\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        this.tempElement = null;\r\n    }\r\n    undo_insertElement() {\r\n        let index = this.tailPointerValue;// - 1;\r\n        // if (index < 0) {\r\n        //     index += this.backingArray.length;\r\n        // }\r\n        this.tempElement = this.backingArray[index];\r\n        this.highlightTemp();\r\n        this.tempElement.shift(45,45);\r\n        let stopID = ++this.stopID;\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.backingArray[index] = null;\r\n    }\r\n    redo_insertElement() {\r\n        let index = this.tailPointerValue;\r\n        this.backingArray[index] = this.tempElement;\r\n        this.highlightTemp();\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        let stopID = ++this.stopID;\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempElement = null;\r\n    }\r\n\r\n    useHeadPointer() {\r\n        let animation = [];\r\n        animation.push({method:this.headPointerHighlighter.highlight,scope:this.headPointerHighlighter,params:[],noAnim:true,});\r\n        animation.push({method:this.moveHeadTracker,params:[],customEnd:true,explanation:`Head points to index |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.headPointerHighlighter.unhighlight,scope:this.headPointerHighlighter,params:[],noAnim:true,});\r\n        animation.push({method:this.headPointerHighlighter.goTo,scope:this.headPointerHighlighter,params:[QueueArray.HEAD_LOCATION_X,QueueArray.HEAD_LOCATION_Y,],noAnim:true,returnsUndoData:true,});\r\n        return animation;\r\n    }\r\n\r\n    moveHeadTracker() {\r\n        let pos = this.getElementPosition(this.headPointerValue);\r\n        this.headPointerHighlighter.highlight();\r\n        this.headPointerHighlighter.shift(pos[0], pos[1] + QueueArray.ELEMENT_SIZE);\r\n        this.headPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        return this.headPointerValue;\r\n    }\r\n    undo_moveHeadTracker() {\r\n        this.headPointerHighlighter.shift(QueueArray.HEAD_LOCATION_X,QueueArray.HEAD_LOCATION_Y);\r\n        this.headPointerHighlighter.highlight();\r\n        let stopID = ++this.stopID;\r\n        this.headPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        return this.headPointerValue;\r\n    }\r\n    redo_moveHeadTracker() {\r\n        let pos = this.getElementPosition(this.headPointerValue);\r\n        this.headPointerHighlighter.highlight();\r\n        this.headPointerHighlighter.shift(pos[0], pos[1] + QueueArray.ELEMENT_SIZE);\r\n        let stopID = ++this.stopID;\r\n        this.headPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        return this.headPointerValue;\r\n    }\r\n\r\n    extractElement() {\r\n        this.tempElement = this.backingArray[this.headPointerValue];\r\n        this.backingArray[this.headPointerValue] = null;\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(45,45);\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n    undo_extractElement() {\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(...this.getElementPosition(this.headPointerValue));\r\n        let stopID = ++this.stopID;\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.backingArray[this.headPointerValue] = this.tempElement;\r\n        this.tempElement = null;\r\n    }\r\n    redo_extractElement() {\r\n        this.tempElement = this.backingArray[this.headPointerValue];\r\n        this.backingArray[this.headPointerValue] = null;\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(45,45);\r\n        let stopID = ++this.stopID;\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n\r\n    unmakeElement(index) {\r\n        let oldTemp = this.tempElement;\r\n        this.tempElement = null;\r\n        return [oldTemp];\r\n    }\r\n    undo_unmakeElement(oldTemp) {\r\n        this.tempElement = oldTemp;\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n    undo_sizeIncr() {\r\n        this.size--;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n    undo_sizeDecr() {\r\n        this.size++;\r\n    }\r\n\r\n    updateHeadPointer(newHead) {\r\n        let animation = [];\r\n        animation.push({method:this.headPointerHighlighter.highlight,scope:this.headPointerHighlighter,params:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],isForwardStep:true,});\r\n        animation.push({method:this.changeHeadPointerValue,params:[newHead],explanation:`Update head pointer to |RETURN|`,explanationUsesReturn:true,returnsUndoData:true,});\r\n        animation.push({method:this.headPointerHighlighter.unhighlight,scope:this.headPointerHighlighter,params:[],noAnim:true,isBackStep:true,undoData:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],});\r\n        return animation;\r\n    }\r\n\r\n    changeHeadPointerValue(newHead) {\r\n        let oldHead = this.headPointerValue;\r\n        if (newHead !== undefined) {\r\n            this.headPointerValue = newHead;\r\n        } else {\r\n            this.headPointerValue++;\r\n            this.headPointerValue %= this.backingArray.length;\r\n        }\r\n        return [this.headPointerValue,[oldHead]];\r\n    }\r\n    undo_changeHeadPointerValue(oldHead) {\r\n        this.headPointerValue = oldHead;\r\n        return this.headPointerValue;\r\n    }\r\n\r\n    updateTailPointer(newTail) {\r\n        let animation = [];\r\n        animation.push({method:this.tailPointerHighlighter.highlight,scope:this.tailPointerHighlighter,params:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],isForwardStep:true,});\r\n        animation.push({method:this.changeTailPointerValue,params:[newTail],explanation:`Update tail pointer to |RETURN|`,explanationUsesReturn:true,returnsUndoData:true,});\r\n        animation.push({method:this.tailPointerHighlighter.unhighlight,scope:this.tailPointerHighlighter,params:[],noAnim:true,isBackStep:true,undoData:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],});\r\n        return animation;\r\n    }\r\n\r\n    changeTailPointerValue(newTail) {\r\n        let oldTail = this.tailPointerValue;\r\n        if (newTail) {\r\n            this.tailPointerValue = newTail;\r\n        } else {\r\n            this.tailPointerValue++;\r\n            this.tailPointerValue %= this.backingArray.length;\r\n        }\r\n        return [this.tailPointerValue,[oldTail]];\r\n    }\r\n    undo_changeTailPointerValue(oldTail) {\r\n        this.tailPointerValue = oldTail;\r\n        return this.tailPointerValue;\r\n    }\r\n\r\n    getElementPosition(index, copy = false) {\r\n        let maxPerRow = Math.floor(this.width / QueueArray.ELEMENT_SIZE);\r\n        let x = QueueArray.ELEMENT_SIZE * index;\r\n        let y = 50 + Math.floor(index / maxPerRow) * 2 * QueueArray.ELEMENT_SIZE;\r\n        x = (index % maxPerRow) * QueueArray.ELEMENT_SIZE;\r\n        return [x + QueueArray.ELEMENT_SIZE/2 + this.x,y + QueueArray.ELEMENT_SIZE/2 + this.y + (copy ? (Math.ceil(this.backingArray.length / maxPerRow)*QueueArray.ELEMENT_SIZE*2) : 0)];\r\n    }\r\n\r\n    updateElement(element, animationSpeed, p5) {\r\n        if (element) {\r\n            element.update(animationSpeed, p5);\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(() => {\r\n            for (let i = 0; i < this.backingArray.length; i++) {\r\n                this.updateElement(this.backingArray[i], animationSpeed, p5);\r\n            }\r\n            if (this.copyArray) {\r\n                for (let i = 0; i < this.copyArray.length; i++) {\r\n                    this.updateElement(this.copyArray[i], animationSpeed, p5);\r\n                }\r\n            }\r\n            if (this.tempElement) {\r\n                this.updateElement(this.tempElement, animationSpeed, p5);\r\n            }\r\n            this.headPointerHighlighter.update(animationSpeed, p5);\r\n            this.tailPointerHighlighter.update(animationSpeed, p5);\r\n        }, animationSpeed, p5);\r\n    }\r\n\r\n    draw(p5) {\r\n        super.draw(p5);\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_SIZE/3 - 2);\r\n\r\n        p5.fill(0);\r\n        p5.text(\"Head: \", QueueArray.HEAD_LOCATION_X - 50, QueueArray.HEAD_LOCATION_Y, QueueArray.ELEMENT_SIZE);\r\n        p5.text(this.headPointerValue.toString(), QueueArray.HEAD_LOCATION_X-25, QueueArray.HEAD_LOCATION_Y, QueueArray.ELEMENT_SIZE);\r\n        p5.text(\"Tail: \", QueueArray.TAIL_LOCATION_X - 50, QueueArray.TAIL_LOCATION_Y, QueueArray.ELEMENT_SIZE);\r\n        p5.text(this.tailPointerValue.toString(), QueueArray.TAIL_LOCATION_X-25, QueueArray.TAIL_LOCATION_Y, QueueArray.ELEMENT_SIZE);\r\n\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i]) {\r\n                this.backingArray[i].draw(p5);\r\n            }\r\n            let pos = this.getElementPosition(i);\r\n            p5.noFill();\r\n            p5.stroke(0);\r\n            p5.square(pos[0] - QueueArray.ELEMENT_SIZE/2,pos[1] - QueueArray.ELEMENT_SIZE/2, QueueArray.ELEMENT_SIZE);\r\n            p5.fill(...Colors.BLUE);\r\n            p5.stroke(...Colors.BLUE);\r\n            p5.text(i.toString(), pos[0] - QueueArray.ELEMENT_SIZE/2,pos[1] + QueueArray.ELEMENT_SIZE/2, QueueArray.ELEMENT_SIZE, QueueArray.ELEMENT_SIZE);\r\n        }\r\n\r\n        if (this.copyArray) {\r\n            for (let i = 0; i < this.copyArray.length; i++) {\r\n                if (this.copyArray[i]) {\r\n                    this.copyArray[i].draw(p5);\r\n                }\r\n                let pos = this.getElementPosition(i, true);\r\n                p5.noFill();\r\n                p5.stroke(0);\r\n                p5.square(pos[0] - QueueArray.ELEMENT_SIZE/2,pos[1] - QueueArray.ELEMENT_SIZE/2, QueueArray.ELEMENT_SIZE);\r\n                p5.fill(...Colors.BLUE);\r\n                p5.stroke(...Colors.BLUE);\r\n                p5.text(i.toString(), pos[0] - QueueArray.ELEMENT_SIZE/2,pos[1] + QueueArray.ELEMENT_SIZE/2, QueueArray.ELEMENT_SIZE, QueueArray.ELEMENT_SIZE);\r\n            }\r\n        }\r\n        if (this.tempElement) {\r\n            this.tempElement.draw(p5);\r\n        }\r\n        this.headPointerHighlighter.draw(p5);\r\n        this.tailPointerHighlighter.draw(p5);\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, (this.copyArray ? this.getElementPosition(this.copyArray.length-1, true)[1] : this.getElementPosition(this.backingArray.length-1)[1]) + QueueArray.ELEMENT_SIZE, () => {\r\n            for (let i = 0; i < this.backingArray.length; i++) {\r\n                if (this.backingArray[i]) {\r\n                    this.backingArray[i].shift(...this.getElementPosition(i));\r\n                }\r\n            }\r\n            if (this.copyArray) {\r\n                for (let i = 0; i < this.copyArray.length; i++) {\r\n                    if (this.copyArray[i]) {\r\n                        this.copyArray[i].shift(...this.getElementPosition(i,true));\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\nclass QueueArrayElement extends AttractedHighlightableObject {\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        // this.highlightInnerRadius = QueueArray.ELEMENT_SIZE/2 - 5;\r\n        this.highlightOuterRadius = QueueArray.ELEMENT_SIZE/2;\r\n\r\n        this.value = data;\r\n        this.index = index;\r\n\r\n        this.toDelete = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    highlightForMovement() {\r\n        super.highlight(Colors.BLUE);\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        super.highlight(Colors.RED);\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5);\r\n    }\r\n\r\n    drawValue(p5) {\r\n        p5.push();\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.stroke(...this.color);\r\n        p5.text(this.value.toString(), this.currentX - QueueArray.ELEMENT_SIZE/2,this.currentY - QueueArray.ELEMENT_SIZE/2, QueueArray.ELEMENT_SIZE, QueueArray.ELEMENT_SIZE);\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nimport { AttractedHighlightableObject } from 'animation';\r\nimport { Colors } from 'utils';\r\n\r\nexport default class DequeArray extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static SUPPORTS_NO_LOOP = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n    static SUPPORTS_TEXT = true;\r\n    static SUPPORTS_ANIMATION_CONTROL = true;\r\n    static SUPPORTS_STOP_ID = true;\r\n\r\n    static INITIAL_CAPACITY = 9;\r\n\r\n    static ELEMENT_SIZE = 50;\r\n    static FRONT_LOCATION_X = 125;\r\n    static FRONT_LOCATION_Y = 35;\r\n    static SIZE_LOCATION_X = 125;\r\n    static SIZE_LOCATION_Y = 55;\r\n\r\n    constructor(animator) {\r\n        super(animator);\r\n\r\n        this.reset();\r\n        this.made = true;\r\n    }\r\n\r\n    reset() {\r\n        super.reset();\r\n        if (this.made) {\r\n            this.beginDrawLoop();\r\n        }\r\n\r\n        this.backingArray = new Array(DequeArray.INITIAL_CAPACITY);\r\n        this.size = 0;\r\n        this.copyArray = null;\r\n        this.tempElement = null;\r\n        this.frontPointerValue = 0;\r\n        this.frontPointerHighlighter = new AttractedHighlightableObject(DequeArray.FRONT_LOCATION_X, DequeArray.FRONT_LOCATION_Y, {\r\n            highlightOuterRadius: 15\r\n        });\r\n        this.sizePointerHighlighter = new AttractedHighlightableObject(DequeArray.SIZE_LOCATION_X, DequeArray.SIZE_LOCATION_Y, {\r\n            highlightOuterRadius: 15\r\n        });\r\n\r\n        if (this.made) {\r\n            // this.updateText(\"Animation Ready\");\r\n            this.endDrawLoop();\r\n        }\r\n    }\r\n\r\n    ensureDrawn(skipDraw = false) {\r\n        this.beginDrawLoop();\r\n        let furthestObject = this.tempElement || this.frontPointerHighlighter;\r\n        if (this.frontPointerHighlighter.displacement() > furthestObject.displacement()) {\r\n            furthestObject = this.frontPointerHighlighter;\r\n        }\r\n        if (this.sizePointerHighlighter.displacement() > furthestObject.displacement()) {\r\n            furthestObject = this.sizePointerHighlighter;\r\n        }\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i] && this.backingArray[i].displacement() > furthestObject.displacement()) {\r\n                furthestObject = this.backingArray[i];\r\n            }\r\n        }\r\n        if (this.copyArray) {\r\n            for (let i = 0; i < this.copyArray.length; i++) {\r\n                if (this.copyArray[i] && this.copyArray[i].displacement() > furthestObject.displacement()) {\r\n                    furthestObject = this.copyArray[i];\r\n                }\r\n            }\r\n        }\r\n        if (furthestObject.displacement() > 0) {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            furthestObject.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n            if (skipDraw) {\r\n                if (this.tempElement) {\r\n                    this.tempElement.stop();\r\n                }\r\n                this.frontPointerHighlighter.stop();\r\n                this.sizePointerHighlighter.stop();\r\n                for (let i = 0; i < this.backingArray.length; i++) {\r\n                    if (this.backingArray[i]) {\r\n                        this.backingArray[i].stop();\r\n                    }\r\n                }\r\n                if (this.copyArray) {\r\n                    for (let i = 0; i < this.copyArray.length; i++) {\r\n                        if (this.copyArray[i]) {\r\n                            this.copyArray[i].stop();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            this.stopDrawing(stopID);\r\n        }\r\n    }\r\n\r\n\r\n    add(data,front) {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot add null to Deque.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        if (this.size === this.backingArray.length) {\r\n            animation.push({method:this.showText,params:[`Deque full, resizing to length ${this.backingArray.length*2}`,Colors.GREEN,],});\r\n            animation.push(...this.createCopyArray());\r\n        }\r\n        animation.push({method:this.createElement,params:[data,front],explanation:`Create value: ${data}`,isAnimationStep:true,returnsRedoData:true,});\r\n        animation.push(...this.useFrontPointer());\r\n        if (front) {\r\n            animation.push(...this.useFrontDecrementPointer(true));\r\n        } else {\r\n            animation.push(...this.useFrontSizePointer(true));\r\n        }\r\n        animation.push({method:this.highlightTemp,noAnim:true});\r\n        animation.push({method:this.insertElement,customEnd:true,explanation:`Added ${data} to backingArray`,isAnimationStep:true,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true,});\r\n        if (front) {\r\n            // animation.push({method:this.noAction,noAnim:true,isBackStep:true});\r\n            animation.push(...this.updateFrontPointer(-1));\r\n        }\r\n        animation.push(...this.updateSizePointer(1));\r\n        animation.push({method:this.showText,params:[`Successfully added ${data} to ${front ? \"front\" : \"back\"} of deque.`,Colors.GREEN,],});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return true;\r\n    }\r\n\r\n    addFirst(data) {\r\n        return this.add(data, true);\r\n    }\r\n\r\n    addLast(data) {\r\n        return this.add(data, false);\r\n    }\r\n\r\n    remove(front) {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (this.size === 0) {\r\n            this.updateText(\"Cannot pop empty Deque\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let data = this.backingArray[front ? this.frontPointerValue : this.getIndex(this.frontPointerValue + this.size - 1)].value;\r\n        animation.push({method:this.showText,params:[`Dequeuing from index ${this.frontPointerValue}.`]});\r\n        animation.push(...this.useFrontPointer(front));\r\n        if (!front) {\r\n            animation.push(...this.useFrontSizePointer(false,false));\r\n            animation.push(...this.useFrontDecrementPointer(false));\r\n        }\r\n        animation.push({method:this.extractElement,params:[front],explanation:`Remove value: ${data} from deque`,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.unmakeElement,noAnim:true,returnsUndoData:true});\r\n        if (front) {\r\n            animation.push(...this.updateFrontPointer(1));\r\n        }\r\n        animation.push(...this.updateSizePointer(-1));\r\n        animation.push({method:this.showText,params:[`Successfully removed ${data} from ${front ? \"front of \" : \"back of\"} deque.`,Colors.GREEN],noAnim:true});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return data;\r\n    }\r\n\r\n    removeFirst() {\r\n        return this.remove(true);\r\n    }\r\n\r\n    removeLast() {\r\n        return this.remove(false);\r\n    }\r\n\r\n    createCopyArray() {\r\n        let animation = [];\r\n        animation.push({method:this.initCopyArray,noAnim:true,explanation:`Deque full, resizing to length ${this.backingArray.length*2}`,isForwardStep:true,});\r\n        animation.push(...this.useFrontPointer(true));\r\n        for (let i = 0; i < this.size; i++) {\r\n            animation.push(...this.addItemToCopy(i));\r\n        }\r\n        animation.push(...this.useCopyArr());\r\n        animation.push(...this.updateFrontPointer(0));\r\n        return animation;\r\n    }\r\n\r\n    initCopyArray() {\r\n        this.copyArray = new Array(this.backingArray.length * 2);\r\n        for (let i = 0; i < this.size; i++) {\r\n            let arrIndex = (i + this.frontPointerValue) % this.backingArray.length;\r\n            let pos = this.getElementPosition(arrIndex);\r\n            this.copyArray[i] = new DequeArrayElement({data: this.backingArray[arrIndex].value, index: i, x:pos[0],y:pos[1],},);\r\n        }\r\n    }\r\n    undo_initCopyArray() {\r\n        this.copyArray = null;\r\n    }\r\n\r\n    addItemToCopy(index) {\r\n        let animation = [];\r\n        // animation.push({method:this.shiftElementToCopyArray,params:[index,...this.getElementPosition(index,true)],customEnd:true,isBackStep:(index === 0),isForwardStep:(index === this.size - 1),customUndoEnd:(index === 0),customRedoEnd:(index === this.size - 1),});\r\n        animation.push({method:this.shiftElementToCopyArray,params:[index,...this.getElementPosition(index,true)],customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n        return animation;\r\n    }\r\n\r\n    shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        let oldX = element.desiredX;\r\n        let oldY = element.desiredY;\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        element.addOnStop((el) => {\r\n            el.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        return [index, oldX, oldY];\r\n    }\r\n    undo_shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        if (true || index === 0) {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n                this.stopDrawing(stopID);\r\n            });\r\n        } else {\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n            });\r\n        }\r\n    }\r\n    redo_shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        if (true || index === this.size - 1) {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n                this.stopDrawing(stopID);\r\n            });\r\n        } else {\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n            });\r\n        }\r\n    }\r\n\r\n    useCopyArr() {\r\n        let animation = [];\r\n        animation.push({method:this.assignCopyArray,noAnim:true,isBackStep:true,customUndoEnd:true,returnsUndoData:true});\r\n        for (let i = 0; i < this.size; i++) {\r\n            animation.push({method:this.shiftElementToBackingArray,params:[i,],noAnim:true,isForwardStep:(i === this.size - 1),customUndoEnd:true,customRedoEnd:true});\r\n        }\r\n        animation.push({method:this.noAction,noAnim:true,isBackStep:true});\r\n        return animation;\r\n    }\r\n\r\n    assignCopyArray() {\r\n        let oldBacking = this.backingArray;\r\n        this.backingArray = this.copyArray;\r\n        this.copyArray = null;\r\n        return [oldBacking];\r\n    }\r\n    undo_assignCopyArray(oldBacking) {\r\n        this.copyArray = this.backingArray;\r\n        this.backingArray = oldBacking;\r\n    }\r\n\r\n    shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(element.index));\r\n    }\r\n    undo_shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(index,true));\r\n        if (index === 0) {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            element.addOnStop((el) => {\r\n                this.stopDrawing(stopID);\r\n            })\r\n        }\r\n    }\r\n    redo_shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(element.index));\r\n        if (index === this.size - 1) {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            element.addOnStop((el) => {\r\n                this.stopDrawing(stopID);\r\n            })\r\n        }\r\n    }\r\n\r\n    createElement(data, front) {\r\n        this.tempElement = new DequeArrayElement({data: data, index: this.getIndex(front ? this.frontPointerValue - 1 : this.frontPointerValue + this.size), x:45,y:45,},);\r\n        return [this.tempElement];\r\n    }\r\n    undo_createElement() {\r\n        this.tempElement = null;\r\n    }\r\n    redo_createElement(newTemp) {\r\n        this.tempElement = newTemp;\r\n        this.tempElement.goTo(45,45);\r\n    }\r\n\r\n    useSizePointer() {\r\n        let animation = [];\r\n        animation.push({method:this.sizePointerHighlighter.highlight,scope:this.sizePointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.moveSizeTracker,customEnd:true,explanation:`Size points to index |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.sizePointerHighlighter.unhighlight,scope:this.sizePointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.sizePointerHighlighter.goTo,scope:this.sizePointerHighlighter,params:[DequeArray.SIZE_LOCATION_X,DequeArray.SIZE_LOCATION_Y,],noAnim:true,returnsUndoData:true});\r\n        return animation;\r\n    }\r\n\r\n    // moveSizeTracker() {\r\n    //     let pos = this.getElementPosition(this.size);\r\n    //     this.sizePointerHighlighter.highlight();\r\n    //     this.sizePointerHighlighter.shift(pos[0], pos[1] + DequeArray.ELEMENT_SIZE);\r\n    //     this.sizePointerHighlighter.addOnStop((element) => {\r\n    //         element.unhighlight();\r\n    //         this.doneAnimating(0);\r\n    //     });\r\n    //     return this.size;\r\n    // }\r\n    // undo_moveSizeTracker() {\r\n    //     this.sizePointerHighlighter.shift(DequeArray.SIZE_LOCATION_X,DequeArray.SIZE_LOCATION_Y);\r\n    //     this.sizePointerHighlighter.highlight();\r\n    //     let stopID = ++this.stopID;console.log(stopID);\r\n    //     this.sizePointerHighlighter.addOnStop((element) => {\r\n    //         element.unhighlight();\r\n    //         this.stopDrawing(stopID);\r\n    //     });\r\n    //     return this.size;\r\n    // }\r\n    // redo_moveSizeTracker() {\r\n    //     let pos = this.getElementPosition(this.size);\r\n    //     this.sizePointerHighlighter.highlight();\r\n    //     this.sizePointerHighlighter.shift(pos[0], pos[1] + DequeArray.ELEMENT_SIZE);\r\n    //     let stopID = ++this.stopID;console.log(stopID);\r\n    //     this.sizePointerHighlighter.addOnStop((element) => {\r\n    //         element.unhighlight();\r\n    //         this.stopDrawing(stopID);\r\n    //     });\r\n    //     return this.size;\r\n    // }\r\n\r\n    highlightTemp(color = Colors.BLUE) {\r\n        this.tempElement.highlight(color);\r\n    }\r\n    undo_highlightTemp() {\r\n        this.tempElement.unhighlight();\r\n    }\r\n\r\n    insertElement() {\r\n        let index = this.tempElement.index;\r\n        this.backingArray[index] = this.tempElement;\r\n        this.highlightTemp();\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        let oldTemp = this.tempElement;\r\n        this.tempElement = null;\r\n        return [oldTemp];\r\n    }\r\n    undo_insertElement(oldTemp) {\r\n        this.tempElement = oldTemp;\r\n        let index = this.tempElement.index;\r\n        this.highlightTemp();\r\n        this.tempElement.shift(45,45);\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.backingArray[index] = null;\r\n    }\r\n    redo_insertElement() {\r\n        let index = this.tempElement.index;\r\n        this.backingArray[index] = this.tempElement;\r\n        this.highlightTemp();\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        console.log(stopID);\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempElement = null;\r\n    }\r\n\r\n    useFrontPointer(end = false) {\r\n        let animation = [];\r\n        animation.push({method:this.frontPointerHighlighter.highlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.moveFrontTracker,params:[0,false],customEnd:true,explanation:`Front points to index |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.frontPointerHighlighter.unhighlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        if (end) {\r\n            animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[DequeArray.FRONT_LOCATION_X,DequeArray.FRONT_LOCATION_Y,],noAnim:true,returnsUndoData:true,});\r\n        }\r\n        return animation;\r\n    }\r\n    useFrontDecrementPointer(add) {\r\n        let animation = [];\r\n        // animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[...this.getElementPosition(this.frontPointerValue)],noAnim:true,returnsUndoData:true,});\r\n        animation.push({method:this.frontPointerHighlighter.highlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.moveFrontTracker,params:[-1,!add],customEnd:true,explanation:`${add ? \"Add at\" : \"Remove from\"} index (front${add ? \" \" : \" + size \"}- 1) % backingArray.length = |RETURN|`,explanationUsesReturn:true,isForwardStep:true,isBackStep:add,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.frontPointerHighlighter.unhighlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[DequeArray.FRONT_LOCATION_X,DequeArray.FRONT_LOCATION_Y,],noAnim:true,returnsUndoData:true,});\r\n        return animation;\r\n    }\r\n    useFrontSizePointer(add, end = true) {\r\n        let animation = [];\r\n        // animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[...this.getElementPosition(this.frontPointerValue)],noAnim:true,returnsUndoData:true,});\r\n        animation.push({method:this.frontPointerHighlighter.highlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.moveFrontTracker,params:[0,true],customEnd:true,explanation:`${add ? \"Add at\" : \"Remove from\"} index (front + size${add ? \"\" : \" - 1\"}) % backingArray.length = |RETURN|`,explanationUsesReturn:true,isForwardStep:end,isBackStep:true,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.frontPointerHighlighter.unhighlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        if (end) {\r\n            animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[DequeArray.FRONT_LOCATION_X,DequeArray.FRONT_LOCATION_Y,],noAnim:true,returnsUndoData:true,});\r\n        }\r\n        return animation;\r\n    }\r\n\r\n    moveFrontTracker(offset, fromSize) {\r\n        let oldX = this.frontPointerHighlighter.desiredX;\r\n        let oldY = this.frontPointerHighlighter.desiredY;\r\n        let index = this.getIndex(this.frontPointerValue + offset + (fromSize ? this.size : 0));\r\n        let pos = this.getElementPosition(index);\r\n        this.frontPointerHighlighter.highlight();\r\n        this.frontPointerHighlighter.shift(pos[0], pos[1] + DequeArray.ELEMENT_SIZE);\r\n        this.frontPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        return [index, [oldX,oldY]];\r\n    }\r\n    undo_moveFrontTracker(oldX,oldY) {\r\n        this.frontPointerHighlighter.highlight();\r\n        this.frontPointerHighlighter.shift(oldX, oldY);\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        this.frontPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n    redo_moveFrontTracker(offset, fromSize) {\r\n        let index = this.getIndex(this.frontPointerValue + offset + (fromSize ? this.size : 0));\r\n        let pos = this.getElementPosition(index);\r\n        this.frontPointerHighlighter.highlight();\r\n        this.frontPointerHighlighter.shift(pos[0], pos[1] + DequeArray.ELEMENT_SIZE);\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        this.frontPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n\r\n    extractElement(front) {\r\n        let index = this.getIndex(this.frontPointerValue + (front ? 0 : this.size - 1));\r\n        this.tempElement = this.backingArray[index];\r\n        this.backingArray[index] = null;\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(45,45);\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n    undo_extractElement(front) {\r\n        let index = this.getIndex(this.frontPointerValue + (front ? 0 : this.size - 1));\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.backingArray[index] = this.tempElement;\r\n        this.tempElement = null;\r\n    }\r\n    redo_extractElement(front) {\r\n        let index = this.getIndex(this.frontPointerValue + (front ? 0 : this.size - 1));\r\n        this.tempElement = this.backingArray[index];\r\n        this.backingArray[index] = null;\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(45,45);\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n\r\n    unmakeElement() {\r\n        let oldTemp = this.tempElement;\r\n        this.tempElement = null;\r\n        return [oldTemp];\r\n    }\r\n    undo_unmakeElement(oldTemp) {\r\n        this.tempElement = oldTemp;\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n    undo_sizeIncr() {\r\n        this.size--;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n    undo_sizeDecr() {\r\n        this.size++;\r\n    }\r\n\r\n    updateFrontPointer(offset) {\r\n        let animation = [];\r\n        animation.push({method:this.frontPointerHighlighter.highlight,scope:this.frontPointerHighlighter,params:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],isForwardStep:false,});\r\n        animation.push({method:this.changeFrontPointerValue,params:[offset],explanation:`Update front pointer to |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,returnsUndoData:true,});\r\n        animation.push({method:this.frontPointerHighlighter.unhighlight,scope:this.frontPointerHighlighter,noAnim:true,isBackStep:false,undoData:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],});\r\n        return animation;\r\n    }\r\n\r\n    changeFrontPointerValue(offset) {\r\n        let oldFront = this.frontPointerValue;\r\n        if (offset === 0) {\r\n            this.frontPointerValue = 0;\r\n        } else {\r\n            this.frontPointerValue = this.getIndex(this.frontPointerValue + offset);\r\n        }\r\n        return [this.frontPointerValue,[oldFront]];\r\n    }\r\n    undo_changeFrontPointerValue(oldFront) {\r\n        this.frontPointerValue = oldFront;\r\n        return this.frontPointerValue;\r\n    }\r\n\r\n    updateSizePointer(offset) {\r\n        let animation = [];\r\n        animation.push({method:this.sizePointerHighlighter.highlight,scope:this.sizePointerHighlighter,params:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],isForwardStep:false,});\r\n        animation.push({method:this.changeSizePointerValue,params:[offset],explanation:`Update size to |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,returnsUndoData:true,});\r\n        animation.push({method:this.sizePointerHighlighter.unhighlight,scope:this.sizePointerHighlighter,noAnim:true,isBackStep:false,undoData:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],});\r\n        return animation;\r\n    }\r\n\r\n    changeSizePointerValue(offset) {\r\n        let oldSize = this.size;\r\n        this.size += offset;\r\n        return [this.size,[oldSize]];\r\n    }\r\n    undo_changeSizePointerValue(oldSize) {\r\n        this.size = oldSize;\r\n        return this.size;\r\n    }\r\n\r\n\r\n    getIndex(index, copy = false) {\r\n        let array = copy ? this.copyArray : this.backingArray;\r\n        index %= array.length;\r\n        if (index < 0) {\r\n            index += array.length;\r\n        }\r\n        return index;\r\n    }\r\n\r\n    getElementPosition(index, copy = false) {\r\n        let maxPerRow = Math.floor(this.width / DequeArray.ELEMENT_SIZE);\r\n        let x = DequeArray.ELEMENT_SIZE * index;\r\n        let y = 50 + Math.floor(index / maxPerRow) * 2 * DequeArray.ELEMENT_SIZE;\r\n        x = (index % maxPerRow) * DequeArray.ELEMENT_SIZE;\r\n        return [x + DequeArray.ELEMENT_SIZE/2 + this.x,y + DequeArray.ELEMENT_SIZE/2 + this.y + (copy ? (Math.ceil(this.backingArray.length / maxPerRow)*DequeArray.ELEMENT_SIZE*2) : 0)];\r\n    }\r\n\r\n    updateElement(element, animationSpeed, p5) {\r\n        if (element) {\r\n            element.update(animationSpeed, p5);\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(() => {\r\n            for (let i = 0; i < this.backingArray.length; i++) {\r\n                this.updateElement(this.backingArray[i], animationSpeed, p5);\r\n            }\r\n            if (this.copyArray) {\r\n                for (let i = 0; i < this.copyArray.length; i++) {\r\n                    this.updateElement(this.copyArray[i], animationSpeed, p5);\r\n                }\r\n            }\r\n            if (this.tempElement) {\r\n                this.updateElement(this.tempElement, animationSpeed, p5);\r\n            }\r\n            this.frontPointerHighlighter.update(animationSpeed, p5);\r\n            this.sizePointerHighlighter.update(animationSpeed, p5);\r\n        }, animationSpeed, p5);\r\n    }\r\n\r\n    draw(p5) {\r\n        super.draw(p5);\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_SIZE/3 - 2);\r\n\r\n        p5.fill(0);\r\n        p5.text(\"Front: \", DequeArray.FRONT_LOCATION_X - 50, DequeArray.FRONT_LOCATION_Y, DequeArray.ELEMENT_SIZE);\r\n        p5.text(this.frontPointerValue.toString(), DequeArray.FRONT_LOCATION_X-25, DequeArray.FRONT_LOCATION_Y, DequeArray.ELEMENT_SIZE);\r\n        p5.text(\"Size: \", DequeArray.SIZE_LOCATION_X - 50, DequeArray.SIZE_LOCATION_Y, DequeArray.ELEMENT_SIZE);\r\n        p5.text(this.size.toString(), DequeArray.SIZE_LOCATION_X-25, DequeArray.SIZE_LOCATION_Y, DequeArray.ELEMENT_SIZE);\r\n\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i]) {\r\n                this.backingArray[i].draw(p5);\r\n            }\r\n            let pos = this.getElementPosition(i);\r\n            p5.noFill();\r\n            p5.stroke(0);\r\n            p5.square(pos[0] - DequeArray.ELEMENT_SIZE/2,pos[1] - DequeArray.ELEMENT_SIZE/2, DequeArray.ELEMENT_SIZE);\r\n            p5.fill(...Colors.BLUE);\r\n            p5.stroke(...Colors.BLUE);\r\n            p5.text(i.toString(), pos[0] - DequeArray.ELEMENT_SIZE/2,pos[1] + DequeArray.ELEMENT_SIZE/2, DequeArray.ELEMENT_SIZE, DequeArray.ELEMENT_SIZE);\r\n        }\r\n\r\n        if (this.copyArray) {\r\n            for (let i = 0; i < this.copyArray.length; i++) {\r\n                if (this.copyArray[i]) {\r\n                    this.copyArray[i].draw(p5);\r\n                }\r\n                let pos = this.getElementPosition(i, true);\r\n                p5.noFill();\r\n                p5.stroke(0);\r\n                p5.square(pos[0] - DequeArray.ELEMENT_SIZE/2,pos[1] - DequeArray.ELEMENT_SIZE/2, DequeArray.ELEMENT_SIZE);\r\n                p5.fill(...Colors.BLUE);\r\n                p5.stroke(...Colors.BLUE);\r\n                p5.text(i.toString(), pos[0] - DequeArray.ELEMENT_SIZE/2,pos[1] + DequeArray.ELEMENT_SIZE/2, DequeArray.ELEMENT_SIZE, DequeArray.ELEMENT_SIZE);\r\n            }\r\n        }\r\n        if (this.tempElement) {\r\n            this.tempElement.draw(p5);\r\n        }\r\n        this.frontPointerHighlighter.draw(p5);\r\n        this.sizePointerHighlighter.draw(p5);\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, (this.copyArray ? this.getElementPosition(this.copyArray.length-1, true)[1] : this.getElementPosition(this.backingArray.length-1)[1]) + DequeArray.ELEMENT_SIZE, () => {\r\n            for (let i = 0; i < this.backingArray.length; i++) {\r\n                if (this.backingArray[i]) {\r\n                    this.backingArray[i].shift(...this.getElementPosition(i));\r\n                }\r\n            }\r\n            if (this.copyArray) {\r\n                for (let i = 0; i < this.copyArray.length; i++) {\r\n                    if (this.copyArray[i]) {\r\n                        this.copyArray[i].shift(...this.getElementPosition(i,true));\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\nclass DequeArrayElement extends AttractedHighlightableObject {\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        // this.highlightInnerRadius = DequeArray.ELEMENT_SIZE/2 - 5;\r\n        this.highlightOuterRadius = DequeArray.ELEMENT_SIZE/2;\r\n\r\n        this.value = data;\r\n        this.index = index;\r\n\r\n        this.toDelete = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    highlightForMovement() {\r\n        super.highlight(Colors.BLUE);\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        super.highlight(Colors.RED);\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5);\r\n    }\r\n\r\n    drawValue(p5) {\r\n        p5.push();\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.stroke(...this.color);\r\n        p5.text(this.value.toString(), this.currentX - DequeArray.ELEMENT_SIZE/2,this.currentY - DequeArray.ELEMENT_SIZE/2, DequeArray.ELEMENT_SIZE, DequeArray.ELEMENT_SIZE);\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nimport { AttractedDraggableObject } from 'animation';\r\nimport { Utils, Colors } from 'utils';\r\n\r\nexport default class StackLinkedList extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static CAN_DRAG = true;\r\n    static SUPPORTS_NO_LOOP = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n    static SUPPORTS_TEXT = true;\r\n    static SUPPORTS_ANIMATION_CONTROL = true;\r\n    static SUPPORTS_STOP_ID = true;\r\n\r\n    static ELEMENT_HEIGHT = 35;\r\n    static ELEMENT_WIDTH = 50;\r\n    static POINTER_WIDTH = 15;\r\n    static ITEM_WIDTH = StackLinkedList.ELEMENT_WIDTH + StackLinkedList.POINTER_WIDTH;\r\n    static SPACING = 50;\r\n    static ELEMENT_SIZE = StackLinkedList.ITEM_WIDTH + StackLinkedList.SPACING;\r\n\r\n    constructor(animator) {\r\n        super(animator);\r\n\r\n        this.reset();\r\n        this.made = true;\r\n    }\r\n\r\n    reset() {\r\n        super.reset();\r\n        if (this.made) {\r\n            this.beginDrawLoop();\r\n        }\r\n\r\n        this.head = null;\r\n        this.size = 0;\r\n        this.nodes = [];\r\n        this.tempNode = null;\r\n        this.pinnedNode = null;\r\n\r\n        this.resizing = false;\r\n        if (this.made) {\r\n            this.endDrawLoop();\r\n        }\r\n    }\r\n\r\n    ensureDrawn(skipDraw = false) {\r\n        this.beginDrawLoop();\r\n        let maxNode = this.head;\r\n        let curr = this.head;\r\n        while (curr) {\r\n            if (curr.displacement() > maxNode.displacement()) {\r\n                maxNode = curr;\r\n            }\r\n            curr = curr.next;\r\n        }\r\n        if (maxNode && maxNode.displacement() > 0) {\r\n            let stopID = ++this.stopID;\r\n            maxNode.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n            if (skipDraw) {\r\n                let curr = this.head;\r\n                while (curr) {\r\n                    curr.stop();\r\n                    curr = curr.next;\r\n                }\r\n            }\r\n        } else {\r\n            this.stopDrawing(++this.stopID);\r\n        }\r\n    }\r\n\r\n\r\n    push(data) {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot add null to Stack.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        animation.push({method:this.makeNode,params:[data,],explanation:`Create value: ${data}`,isAnimationStep:true,});\r\n        if (this.size > 0) {\r\n            animation.push({method:this.setTempNodeBeforeHead,explanation:`Assign next pointer`,isAnimationStep:true,});\r\n            animation.push({method:this.shiftHeadForNode,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        }\r\n        animation.push({method:this.insertTempNode,explanation:`Reset top pointer to new head`,isAnimationStep:true,});\r\n        animation.push({method:this.shiftHead,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.sizeIncr,noAnim:true,});\r\n        animation.push({method:this.showText,params:[`Successfully pushed ${data} to stack.`, Colors.GREEN],noAnim:true,});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return true;\r\n    }\r\n\r\n\r\n    pop() {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (this.size === 0) {\r\n            this.updateText(\"Cannot pop empty Stack\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let data = this.head.data;\r\n        animation.push({method:this.markHeadForDeletion,noAnim:true,});\r\n        animation.push({method:this.unmakeHead,explanation:`Extract data`,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        if (this.size > 1) {\r\n            animation.push({method:this.shiftIntoNode,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        }\r\n        animation.push({method:this.skipTempNode,explanation:`Reset top pointer to new head`,isAnimationStep:true,undoData:[this.head.data,],});\r\n        animation.push({method:this.sizeDecr,noAnim:true,});\r\n        animation.push({method:this.showText,params:[`Successfully popped ${data} from stack.`, Colors.GREEN],noAnim:true,});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return data;\r\n    }\r\n\r\n\r\n    makeNode(data) {\r\n        this.tempNode = new StackLinkedListNode({data: data, index: 0, x:20,y:20,});\r\n    }\r\n    undo_makeNode(data) {\r\n        this.tempNode = null;\r\n    }\r\n\r\n    setTempNodeBeforeHead() {\r\n        this.tempNode.next = this.head;\r\n    }\r\n    undo_setTempNodeBeforeHead() {\r\n        this.tempNode.next = null;\r\n    }\r\n\r\n    insertTempNode() {\r\n        this.nodes.splice(0, 0, this.tempNode);\r\n        this.head = this.tempNode;\r\n    }\r\n    undo_insertTempNode() {\r\n        this.head = this.tempNode.next;\r\n        this.nodes.splice(0, 1);\r\n    }\r\n\r\n    shiftHead() {\r\n        this.tempNode.shift(...this.getNodePosition(0));\r\n        this.tempNode = null;\r\n    }\r\n    undo_shiftHead() {\r\n        this.tempNode = this.nodes[0];\r\n        this.tempNode.shift(20,20);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n    redo_shiftHead() {\r\n        this.tempNode.shift(...this.getNodePosition(0));\r\n        let temp = this.tempNode;\r\n        let stopID = ++this.stopID;\r\n        temp.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n\r\n    markHeadForDeletion() {\r\n        this.head.markForDeletion();\r\n    }\r\n    undo_markHeadForDeletion() {\r\n        this.head.unhighlight();\r\n    }\r\n\r\n    unmakeHead() {\r\n        this.tempNode = this.nodes.splice(0, 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        this.tempNode.addOnStop(() => {\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n    undo_unmakeHead() {\r\n        this.tempNode.shift(...this.getNodePosition(0));\r\n        this.nodes.splice(0, 0, this.tempNode);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n    redo_unmakeHead() {\r\n        this.tempNode = this.nodes.splice(0, 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n\r\n    skipTempNode() {\r\n        this.head = this.head.next;\r\n        this.tempNode = null;\r\n    }\r\n    undo_skipTempNode(oldData) {\r\n        this.tempNode = new StackLinkedListNode({data: oldData, index: 0, x:20,y:20,});\r\n        this.tempNode.next = this.head;\r\n        this.tempNode.markForDeletion();\r\n        this.head = this.tempNode;\r\n    }\r\n\r\n    shiftHeadForNode() {\r\n        let node = this.head;\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            node = node.next;\r\n        }\r\n    }\r\n    undo_shiftHeadForNode() {\r\n        let node = this.head;\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            if (!node.next) {\r\n                let stopID = ++this.stopID;\r\n                node.addOnStop(() => {\r\n                    this.stopDrawing(stopID);\r\n                });\r\n            }\r\n            node = node.next;\r\n        }\r\n    }\r\n    redo_shiftHeadForNode() {\r\n        let node = this.head;\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            if (!node.next) {\r\n                let stopID = ++this.stopID;\r\n                node.addOnStop(() => {\r\n                    this.stopDrawing(stopID);\r\n                });\r\n            }\r\n            node = node.next;\r\n        }\r\n    }\r\n\r\n    shiftIntoNode() {\r\n        let node = this.head.next;\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            node = node.next;\r\n        }\r\n    }\r\n    undo_shiftIntoNode() {\r\n        let node = this.head.next;\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            if (!node.next) {\r\n                let stopID = ++this.stopID;\r\n                node.addOnStop(() => {\r\n                    this.stopDrawing(stopID);\r\n                });\r\n            }\r\n            node = node.next;\r\n        }\r\n    }\r\n    redo_shiftIntoNode() {\r\n        let node = this.head.next;\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            if (!node.next) {\r\n                let stopID = ++this.stopID;\r\n                node.addOnStop(() => {\r\n                    this.stopDrawing(stopID);\r\n                });\r\n            }\r\n            node = node.next;\r\n        }\r\n    }\r\n\r\n    shiftNode(node, direction) {\r\n        node.shift(...this.getNodePosition(node.index + direction), direction);\r\n    }\r\n    undo_shiftNode(node, direction) {\r\n        // console.log(\"undo_shiftNode\");\r\n        this.shiftNode(node, -direction);\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n    undo_sizeIncr() {\r\n        this.size--;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n    undo_sizeDecr() {\r\n        this.size++;\r\n    }\r\n\r\n    getNodePosition(index) {\r\n        let maxPerRow = Math.max(1, Math.floor(this.width / StackLinkedList.ELEMENT_SIZE));\r\n        let x = StackLinkedList.ELEMENT_SIZE * index;\r\n        let y = 75 + Math.floor(index / maxPerRow) * 2 * StackLinkedList.ELEMENT_HEIGHT;\r\n        x = (index % maxPerRow) * StackLinkedList.ELEMENT_SIZE;\r\n        return [x + this.x,y + this.y];\r\n    }\r\n\r\n    getNodeAtPos(x,y) {\r\n        let node = this.head;\r\n        while (node) {\r\n            if (node.containsPos(x,y)) {\r\n                return node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode && this.tempNode.containsPos(x,y)) {\r\n            return this.tempNode;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    pin(node, x,y) {\r\n        this.pinnedNode = node;\r\n        node.pin(x,y);\r\n    }\r\n\r\n    unpin() {\r\n        this.pinnedNode.unpin();\r\n        this.pinnedNode = null;\r\n    }\r\n\r\n    updateNode(node, animationSpeed, p5) {\r\n        node.update(animationSpeed, p5);\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(() => {\r\n            let node = this.head;\r\n            while (node) {\r\n                this.updateNode(node, animationSpeed, p5);\r\n                node = node.next;\r\n            }\r\n            if (this.tempNode) {\r\n                this.updateNode(this.tempNode, animationSpeed, p5);\r\n            }\r\n        }, animationSpeed, p5);\r\n    }\r\n\r\n    draw(p5) {\r\n        // console.log(\"draw\");\r\n        super.draw(p5);\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_WIDTH/3 - 2);\r\n\r\n        // p5.noFill();\r\n        p5.stroke(0);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.text(\"Top:\",95,20,35,35);\r\n        p5.square(130,20,35);\r\n        if (this.head) {\r\n            p5.stroke(Colors.BLUE);\r\n            p5.fill(Colors.BLUE);\r\n            p5.circle(130 + 35 / 2, 20 + 35 / 2, 5);\r\n            p5.line(130 + 35 / 2, 20 + 35 / 2, this.head.currentX + StackLinkedList.ITEM_WIDTH / 2, this.head.currentY);\r\n            p5.rect(this.head.currentX + StackLinkedList.ITEM_WIDTH / 2 - 3, this.head.currentY - 3, 6,6);\r\n        } else {\r\n            p5.line(130,20,165,55);\r\n        }\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.draw(p5, node.next === this.head);\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode) {\r\n            this.tempNode.draw(p5);\r\n        }\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    mousePressed(p5) {\r\n        // this.drawingBeforeMouseDown = this.drawing;\r\n        let pressedNode = this.getNodeAtPos(p5.mouseX, p5.mouseY);\r\n        if (pressedNode) {\r\n            this.animator.loop();\r\n            this.pin(pressedNode, p5.mouseX,p5.mouseY);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    mouseReleased(p5) {\r\n        if (this.pinnedNode) {\r\n            this.pinnedNode.addOnStop(() => {\r\n                this.ensureDrawn();\r\n            });\r\n            this.unpin();\r\n        } else {\r\n            // this.ensureDrawn();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, this.getNodePosition(this.size-1)[1] + StackLinkedList.ELEMENT_HEIGHT,() => {\r\n            let node = this.head;\r\n            while (node) {\r\n                node.shift(...this.getNodePosition(node.index));\r\n                node = node.next;\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\nclass StackLinkedListNode extends AttractedDraggableObject {\r\n    static CAN_DRAG = true;\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        this.data = data;\r\n        this.index = index;\r\n        this.next = null;\r\n\r\n        this.toDelete = false;\r\n        this.handBroken = false;\r\n        this.frozen = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    containsPos(x,y) {\r\n        return ((this.currentX <= x && x <= (this.currentX + StackLinkedList.ITEM_WIDTH)) && (this.currentY <= y && y <= (this.currentY + StackLinkedList.ELEMENT_HEIGHT)))\r\n    }\r\n\r\n    highlight() {\r\n        this.color = [255,165,0];\r\n    }\r\n\r\n    unhighlight() {\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        this.color[0] = 255;\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    draw(p5) {\r\n        p5.push();\r\n        p5.fill(255);\r\n        p5.stroke(...this.color);\r\n        p5.rect(this.currentX, this.currentY, StackLinkedList.ITEM_WIDTH, StackLinkedList.ELEMENT_HEIGHT);\r\n        p5.line(this.currentX + StackLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + StackLinkedList.ELEMENT_WIDTH, this.currentY + StackLinkedList.ELEMENT_HEIGHT);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.text(this.data.toString(), this.currentX,this.currentY, StackLinkedList.ELEMENT_WIDTH,StackLinkedList.ELEMENT_HEIGHT);\r\n        if (this.next) {\r\n            p5.stroke(...Utils.addArray(this.color, [0,0,255]));\r\n            p5.fill(...Utils.addArray(this.color, [0,0,255]));\r\n            p5.circle(this.currentX + StackLinkedList.ELEMENT_WIDTH + StackLinkedList.POINTER_WIDTH / 2, this.currentY + StackLinkedList.ELEMENT_HEIGHT / 2, 5);\r\n            p5.line(this.currentX + StackLinkedList.ELEMENT_WIDTH + StackLinkedList.POINTER_WIDTH / 2, this.currentY + StackLinkedList.ELEMENT_HEIGHT / 2, this.next.currentX, this.next.currentY + StackLinkedList.ELEMENT_HEIGHT / 2);\r\n            p5.rect(this.next.currentX - 3, this.next.currentY + StackLinkedList.ELEMENT_HEIGHT / 2 - 3, 6,6);\r\n        } else {\r\n            p5.line(this.currentX + StackLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + StackLinkedList.ITEM_WIDTH, this.currentY + StackLinkedList.ELEMENT_HEIGHT);\r\n        }\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nimport { AttractedDraggableObject } from 'animation';\r\nimport { Utils, Colors } from 'utils';\r\n\r\nexport default class QueueLinkedList extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static CAN_DRAG = true;\r\n    static SUPPORTS_NO_LOOP = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n    static SUPPORTS_TEXT = true;\r\n    static SUPPORTS_ANIMATION_CONTROL = true;\r\n    static SUPPORTS_STOP_ID = true;\r\n\r\n    static ELEMENT_HEIGHT = 35;\r\n    static ELEMENT_WIDTH = 50;\r\n    static POINTER_WIDTH = 15;\r\n    static ITEM_WIDTH = QueueLinkedList.ELEMENT_WIDTH + QueueLinkedList.POINTER_WIDTH;\r\n    static SPACING = 50;\r\n    static ELEMENT_SIZE = QueueLinkedList.ITEM_WIDTH + QueueLinkedList.SPACING;\r\n\r\n    static HEAD_TAIL_SIZE = 35;\r\n    static HEAD_TAIL_X = 130;\r\n\r\n\r\n    constructor(animator) {\r\n        super(animator);\r\n\r\n        this.reset();\r\n        this.made = true;\r\n    }\r\n\r\n    reset() {\r\n        super.reset();\r\n        if (this.made) {\r\n            this.beginDrawLoop();\r\n        }\r\n\r\n        this.head = null;\r\n        this.tail = null;\r\n        this.size = 0;\r\n        this.nodes = [];\r\n        this.tempNode = null;\r\n        this.pinnedNode = null;\r\n\r\n        this.resizing = false;\r\n        if (this.made) {\r\n            this.endDrawLoop();\r\n        }\r\n    }\r\n\r\n    ensureDrawn(skipDraw = false) {\r\n        this.beginDrawLoop();\r\n        let maxNode = this.tempNode || this.head;\r\n        let curr = this.head;\r\n        while (curr) {\r\n            if (curr.displacement() > maxNode.displacement()) {\r\n                maxNode = curr;\r\n            }\r\n            curr = curr.next;\r\n        }\r\n        if (maxNode && maxNode.displacement() > 0) {\r\n            let stopID = ++this.stopID;\r\n            maxNode.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n            if (skipDraw) {\r\n                let curr = this.head;\r\n                while (curr) {\r\n                    curr.stop();\r\n                    curr = curr.next;\r\n                }\r\n                if (this.tempNode) {\r\n                    this.tempNode.stop();\r\n                }\r\n            }\r\n        } else {\r\n            this.stopDrawing(++this.stopID);\r\n        }\r\n    }\r\n\r\n\r\n    enqueue(data) {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot add null to Queue.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        animation.push({method:this.makeNode,params:[data,],explanation:`Create value: ${data}`,isAnimationStep:true,returnsRedoData:true});\r\n        if (this.size > 0) {\r\n            animation.push({method:this.setTempNodeAfterTail,explanation:`Assign next pointer`,isAnimationStep:true,});\r\n        }\r\n        animation.push({method:this.insertTempNode,explanation:`Reset tail pointer`,isAnimationStep:true,returnsUndoData:true,});\r\n        animation.push({method:this.shiftTail,customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.sizeIncr,noAnim:true,});\r\n        animation.push({method:this.showText,params:[`Successfully enqueued ${data} to queue.`, Colors.GREEN],noAnim:true,});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return true;\r\n    }\r\n\r\n\r\n    dequeue() {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (this.size === 0) {\r\n            this.updateText(\"Cannot dequeue empty Queue\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let data = this.head.data;\r\n        animation.push({method:this.markHeadForDeletion,noAnim:true,});\r\n        animation.push({method:this.unmakeHead,explanation:`Extract data`,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        if (this.size > 1) {\r\n            animation.push({method:this.shiftIntoNode,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        }\r\n        animation.push({method:this.skipTempNode,explanation:`Reset head pointer to new head`,isAnimationStep:true,returnsUndoData:true,});\r\n        animation.push({method:this.sizeDecr,noAnim:true,});\r\n        animation.push({method:this.showText,params:[`Successfully dequeued ${data} from queue.`, Colors.GREEN],noAnim:true,});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return data;\r\n    }\r\n\r\n\r\n    makeNode(data) {\r\n        this.tempNode = new QueueLinkedListNode({data: data, index: this.size, x:20,y:20,});\r\n        return [this.tempNode];\r\n    }\r\n    undo_makeNode(data) {\r\n        this.tempNode = null;\r\n    }\r\n    redo_makeNode(newTemp) {\r\n        this.tempNode = newTemp;\r\n    }\r\n\r\n    setTempNodeAfterTail() {\r\n        this.tail.next = this.tempNode;\r\n    }\r\n    undo_setTempNodeAfterTail() {\r\n        this.tail.next = null;\r\n    }\r\n\r\n    insertTempNode() {\r\n        let oldTail = this.tail;\r\n        this.nodes.splice(this.size, 0, this.tempNode);\r\n        this.tail = this.tempNode;\r\n        if (!oldTail) {\r\n            this.head = this.tempNode;\r\n        }\r\n        return [oldTail];\r\n    }\r\n    undo_insertTempNode(oldTail) {\r\n        this.tail = oldTail;\r\n        if (!oldTail) {\r\n            this.head = null;\r\n        }\r\n        this.nodes.splice(this.size, 1);\r\n    }\r\n\r\n    shiftTail() {\r\n        this.tempNode.shift(...this.getNodePosition(this.size));\r\n        this.tempNode.addOnStop((element) => {\r\n            this.doneAnimating(0);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n    undo_shiftTail() {\r\n        this.tempNode = this.tail;\r\n        this.tempNode.shift(20,20);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n    redo_shiftTail() {\r\n        this.tempNode.shift(...this.getNodePosition(this.size));\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n\r\n    markHeadForDeletion() {\r\n        this.head.markForDeletion();\r\n    }\r\n    undo_markHeadForDeletion() {\r\n        this.head.unhighlight();\r\n    }\r\n\r\n    unmakeHead() {\r\n        this.tempNode = this.nodes.splice(0, 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        this.tempNode.addOnStop(() => {\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n    undo_unmakeHead() {\r\n        this.tempNode.shift(...this.getNodePosition(0));\r\n        this.nodes.splice(0, 0, this.tempNode);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n    redo_unmakeHead() {\r\n        this.tempNode = this.nodes.splice(0, 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n\r\n    skipTempNode() {\r\n        let oldTemp = this.tempNode;\r\n        this.head = this.head.next;\r\n        this.tempNode = null;\r\n        return [oldTemp]\r\n    }\r\n    undo_skipTempNode(oldTemp) {\r\n        this.tempNode = oldTemp;\r\n        this.tempNode.next = this.head;\r\n        this.tempNode.markForDeletion();\r\n        this.head = this.tempNode;\r\n    }\r\n\r\n    shiftIntoNode() {\r\n        let node = this.head.next;\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            node = node.next;\r\n        }\r\n    }\r\n    undo_shiftIntoNode() {\r\n        let node = this.head.next;\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            if (!node.next) {\r\n                let stopID = ++this.stopID;\r\n                node.addOnStop(() => {\r\n                    this.stopDrawing(stopID);\r\n                });\r\n            }\r\n            node = node.next;\r\n        }\r\n    }\r\n    redo_shiftIntoNode() {\r\n        let node = this.head.next;\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            if (!node.next) {\r\n                let stopID = ++this.stopID;\r\n                node.addOnStop(() => {\r\n                    this.stopDrawing(stopID);\r\n                });\r\n            }\r\n            node = node.next;\r\n        }\r\n    }\r\n\r\n    shiftNode(node, direction) {\r\n        node.shift(...this.getNodePosition(node.index + direction), direction);\r\n    }\r\n    undo_shiftNode(node, direction) {\r\n        // console.log(\"undo_shiftNode\");\r\n        this.shiftNode(node, -direction);\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n    undo_sizeIncr() {\r\n        this.size--;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n    undo_sizeDecr() {\r\n        this.size++;\r\n    }\r\n\r\n    getNodePosition(index) {\r\n        let maxPerRow = Math.max(1, Math.floor(this.width / QueueLinkedList.ELEMENT_SIZE));\r\n        let x = QueueLinkedList.ELEMENT_SIZE * index;\r\n        let y = 75 + Math.floor(index / maxPerRow) * 2 * QueueLinkedList.ELEMENT_HEIGHT;\r\n        x = (index % maxPerRow) * QueueLinkedList.ELEMENT_SIZE;\r\n        return [x + this.x,y + this.y];\r\n    }\r\n\r\n    getNodeAtPos(x,y) {\r\n        let node = this.head;\r\n        while (node) {\r\n            if (node.containsPos(x,y)) {\r\n                return node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode && this.tempNode.containsPos(x,y)) {\r\n            return this.tempNode;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    getTailY() {\r\n        return this.getNodePosition(this.size-1)[1] + QueueLinkedList.ELEMENT_HEIGHT + QueueLinkedList.HEAD_TAIL_SIZE;\r\n    }\r\n\r\n    pin(node, x,y) {\r\n        this.pinnedNode = node;\r\n        node.pin(x,y);\r\n    }\r\n\r\n    unpin() {\r\n        this.pinnedNode.unpin();\r\n        this.pinnedNode = null;\r\n    }\r\n\r\n    updateNode(node, animationSpeed, p5) {\r\n        node.update(animationSpeed, p5);\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(() => {\r\n            let node = this.head;\r\n            while (node) {\r\n                this.updateNode(node, animationSpeed, p5);\r\n                node = node.next;\r\n            }\r\n            if (this.tempNode) {\r\n                this.updateNode(this.tempNode, animationSpeed, p5);\r\n            }\r\n        }, animationSpeed, p5);\r\n    }\r\n\r\n    draw(p5) {\r\n        // console.log(\"draw\");\r\n        super.draw(p5);\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_WIDTH/3 - 2);\r\n\r\n        p5.noFill();\r\n        p5.stroke(0);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        let headY = 20;\r\n        p5.text(\"Head:\",95-5,headY,QueueLinkedList.HEAD_TAIL_SIZE + 10,QueueLinkedList.HEAD_TAIL_SIZE);\r\n        p5.square(QueueLinkedList.HEAD_TAIL_X,headY,QueueLinkedList.HEAD_TAIL_SIZE);\r\n        if (this.head) {\r\n            p5.stroke(Colors.BLUE);\r\n            p5.fill(Colors.BLUE);\r\n            p5.circle(QueueLinkedList.HEAD_TAIL_X + QueueLinkedList.HEAD_TAIL_SIZE / 2, headY + QueueLinkedList.HEAD_TAIL_SIZE / 2, 5);\r\n            p5.line(QueueLinkedList.HEAD_TAIL_X + QueueLinkedList.HEAD_TAIL_SIZE / 2, headY + QueueLinkedList.HEAD_TAIL_SIZE / 2, this.head.currentX + QueueLinkedList.ITEM_WIDTH / 2, this.head.currentY);\r\n            p5.rect(this.head.currentX + QueueLinkedList.ITEM_WIDTH / 2 - 3, this.head.currentY - 3, 6,6);\r\n        } else {\r\n            p5.line(QueueLinkedList.HEAD_TAIL_X,headY,QueueLinkedList.HEAD_TAIL_X + QueueLinkedList.HEAD_TAIL_SIZE,headY + QueueLinkedList.HEAD_TAIL_SIZE);\r\n        }\r\n        p5.noFill();\r\n        p5.stroke(0);\r\n        let tailY = this.getTailY();\r\n        p5.text(\"Tail:\",95,tailY,QueueLinkedList.HEAD_TAIL_SIZE,QueueLinkedList.HEAD_TAIL_SIZE);\r\n        p5.square(QueueLinkedList.HEAD_TAIL_X,tailY,QueueLinkedList.HEAD_TAIL_SIZE);\r\n        if (this.tail) {\r\n            p5.stroke(Colors.BLUE);\r\n            p5.fill(Colors.BLUE);\r\n            p5.circle(QueueLinkedList.HEAD_TAIL_X + QueueLinkedList.HEAD_TAIL_SIZE / 2, tailY + QueueLinkedList.HEAD_TAIL_SIZE / 2, 5);\r\n            p5.line(QueueLinkedList.HEAD_TAIL_X + QueueLinkedList.HEAD_TAIL_SIZE / 2, tailY + QueueLinkedList.HEAD_TAIL_SIZE / 2, this.tail.currentX + QueueLinkedList.ITEM_WIDTH / 2, this.tail.currentY + QueueLinkedList.ELEMENT_HEIGHT);\r\n            p5.rect(this.tail.currentX + QueueLinkedList.ITEM_WIDTH / 2 - 3, this.tail.currentY + QueueLinkedList.ELEMENT_HEIGHT - 3, 6,6);\r\n        } else {\r\n            p5.line(QueueLinkedList.HEAD_TAIL_X,tailY,QueueLinkedList.HEAD_TAIL_X + QueueLinkedList.HEAD_TAIL_SIZE,tailY + QueueLinkedList.HEAD_TAIL_SIZE);\r\n        }\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.draw(p5, node.next === this.head);\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode) {\r\n            this.tempNode.draw(p5);\r\n        }\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    mousePressed(p5) {\r\n        // this.drawingBeforeMouseDown = this.drawing;\r\n        let pressedNode = this.getNodeAtPos(p5.mouseX, p5.mouseY);\r\n        if (pressedNode) {\r\n            this.animator.loop();\r\n            this.pin(pressedNode, p5.mouseX,p5.mouseY);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    mouseReleased(p5) {\r\n        if (this.pinnedNode) {\r\n            this.pinnedNode.addOnStop(() => {\r\n                this.ensureDrawn();\r\n            });\r\n            this.unpin();\r\n        } else {\r\n            // this.ensureDrawn();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, this.getTailY() + QueueLinkedList.HEAD_TAIL_SIZE + 20,() => {\r\n            let shiftTemp = this.tempNode && this.tempNode.desiredX === 20 && this.tempNode.desiredY === 20;\r\n            let node = this.head;\r\n            while (node) {\r\n                node.shift(...this.getNodePosition(node.index));\r\n                node = node.next;\r\n            }\r\n            if (shiftTemp) {\r\n                this.tempNode.shift(20,20);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\nclass QueueLinkedListNode extends AttractedDraggableObject {\r\n    static CAN_DRAG = true;\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        this.data = data;\r\n        this.index = index;\r\n        this.next = null;\r\n\r\n        this.toDelete = false;\r\n        this.handBroken = false;\r\n        this.frozen = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    containsPos(x,y) {\r\n        return ((this.currentX <= x && x <= (this.currentX + QueueLinkedList.ITEM_WIDTH)) && (this.currentY <= y && y <= (this.currentY + QueueLinkedList.ELEMENT_HEIGHT)))\r\n    }\r\n\r\n    highlight() {\r\n        this.color = [255,165,0];\r\n    }\r\n\r\n    unhighlight() {\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        this.color[0] = 255;\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    draw(p5) {\r\n        p5.push();\r\n        p5.fill(255);\r\n        p5.stroke(...this.color);\r\n        p5.rect(this.currentX, this.currentY, QueueLinkedList.ITEM_WIDTH, QueueLinkedList.ELEMENT_HEIGHT);\r\n        p5.line(this.currentX + QueueLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + QueueLinkedList.ELEMENT_WIDTH, this.currentY + QueueLinkedList.ELEMENT_HEIGHT);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.text(this.data.toString(), this.currentX,this.currentY, QueueLinkedList.ELEMENT_WIDTH,QueueLinkedList.ELEMENT_HEIGHT);\r\n        if (this.next) {\r\n            p5.stroke(...Utils.addArray(this.color, [0,0,255]));\r\n            p5.fill(...Utils.addArray(this.color, [0,0,255]));\r\n            p5.circle(this.currentX + QueueLinkedList.ELEMENT_WIDTH + QueueLinkedList.POINTER_WIDTH / 2, this.currentY + QueueLinkedList.ELEMENT_HEIGHT / 2, 5);\r\n            p5.line(this.currentX + QueueLinkedList.ELEMENT_WIDTH + QueueLinkedList.POINTER_WIDTH / 2, this.currentY + QueueLinkedList.ELEMENT_HEIGHT / 2, this.next.currentX, this.next.currentY + QueueLinkedList.ELEMENT_HEIGHT / 2);\r\n            p5.rect(this.next.currentX - 3, this.next.currentY + QueueLinkedList.ELEMENT_HEIGHT / 2 - 3, 6,6);\r\n        } else {\r\n            p5.line(this.currentX + QueueLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + QueueLinkedList.ITEM_WIDTH, this.currentY + QueueLinkedList.ELEMENT_HEIGHT);\r\n        }\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nimport { AttractedDraggableObject } from 'animation';\r\nimport { Utils, Colors } from 'utils';\r\n\r\nexport default class DequeLinkedList extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static CAN_DRAG = true;\r\n    static SUPPORTS_NO_LOOP = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n    static SUPPORTS_TEXT = true;\r\n    static SUPPORTS_ANIMATION_CONTROL = true;\r\n    static SUPPORTS_STOP_ID = true;\r\n\r\n    static ELEMENT_HEIGHT = 35;\r\n    static ELEMENT_WIDTH = 50;\r\n    static POINTER_WIDTH = 15;\r\n    static ITEM_WIDTH = DequeLinkedList.ELEMENT_WIDTH + 2 * DequeLinkedList.POINTER_WIDTH;\r\n    static SPACING = 50;\r\n    static ELEMENT_SIZE = DequeLinkedList.ITEM_WIDTH + DequeLinkedList.SPACING;\r\n\r\n    static HEAD_TAIL_SIZE = 35;\r\n    static HEAD_TAIL_X = 130;\r\n\r\n\r\n    constructor(animator) {\r\n        super(animator);\r\n\r\n        this.reset();\r\n        this.made = true;\r\n    }\r\n\r\n    reset() {\r\n        super.reset();\r\n        if (this.made) {\r\n            this.beginDrawLoop();\r\n        }\r\n\r\n        this.head = null;\r\n        this.tail = null;\r\n        this.size = 0;\r\n        this.nodes = [];\r\n        this.tempNode = null;\r\n        this.pinnedNode = null;\r\n\r\n        this.resizing = false;\r\n        if (this.made) {\r\n            this.endDrawLoop();\r\n        }\r\n    }\r\n\r\n    ensureDrawn(skipDraw = false) {\r\n        this.beginDrawLoop();\r\n        let maxNode = this.tempNode || this.head;\r\n        let curr = this.head;\r\n        while (curr) {\r\n            if (curr.displacement() > maxNode.displacement()) {\r\n                maxNode = curr;\r\n            }\r\n            curr = curr.next;\r\n        }\r\n        if (maxNode && maxNode.displacement() > 0) {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            maxNode.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n            if (skipDraw) {\r\n                let curr = this.head;\r\n                while (curr) {\r\n                    curr.stop();\r\n                    curr = curr.next;\r\n                }\r\n                if (this.tempNode) {\r\n                    this.tempNode.stop();\r\n                }\r\n            }\r\n        } else {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            this.stopDrawing(stopID);\r\n        }\r\n    }\r\n\r\n\r\n    add(data,front) {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot add null to Deque.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        animation.push({method:this.makeNode,params:[data,front],explanation:`Create value: ${data}`,isAnimationStep:true,returnsRedoData:true,});\r\n        if (this.size > 0) {\r\n            if (front) {\r\n                animation.push({method:this.setTempNodeBeforeHead,explanation:`Assign next pointer`,isAnimationStep:true,});\r\n                animation.push({method:this.setHeadAfterTempNode,explanation:`Assign prev pointer`,isAnimationStep:true,});\r\n                animation.push({method:this.shiftHeadForNode,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n            } else {\r\n                animation.push({method:this.setTempNodeAfterTail,explanation:`Assign next pointer`,isAnimationStep:true,});\r\n                animation.push({method:this.setTailBeforeTempNode,explanation:`Assign prev pointer`,isAnimationStep:true,});\r\n            }\r\n        }\r\n        animation.push({method:this.insertTempNode,params:[front],explanation:`Reset ${front ? \"head\" : \"tail\"} pointer`,quick:true,isAnimationStep:true,returnsUndoData:true,});\r\n        if (front) {\r\n            animation.push({method:this.shiftNewHead,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        } else {\r\n            animation.push({method:this.shiftNewTail,customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        }\r\n        animation.push({method:this.sizeIncr,noAnim:true,});\r\n        animation.push({method:this.showText,params:[`Successfully added ${data} to ${front ? \"front\" : \"back\"} of deque.`, Colors.GREEN],noAnim:true,});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return true;\r\n    }\r\n\r\n    addFirst(data) {\r\n        return this.add(data,true);\r\n    }\r\n\r\n    addLast(data) {\r\n        return this.add(data,false);\r\n    }\r\n\r\n    remove(front) {\r\n        if (this.animating) {\r\n            console.log(\"animation in progress\");\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (this.size === 0) {\r\n            this.updateText(\"Cannot dedeque empty Deque\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let data = (front ? this.head : this.tail).data;\r\n        animation.push({method:this.markNodeForDeletion,params:[front],quick:true,});\r\n        animation.push({method:this.unmakeNode,params:[front],explanation:`Extract data`,customEnd:true,isForwardStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        if (front && this.size > 1) {\r\n            animation.push({method:this.shiftIntoNode,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        }\r\n        animation.push({method:this.skipTempNode,params:[front],explanation:`Reset ${front ? \"head\" : \"tail\"} pointer`,quick:true,isBackStep:true,returnsUndoData:true,});\r\n        animation.push({method:this.sizeDecr,noAnim:true,});\r\n        animation.push({method:this.showText,params:[`Successfully removed ${data} from ${front ? \"front of \" : \"back of\"} deque.`, Colors.GREEN],noAnim:true,});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return data;\r\n    }\r\n\r\n    removeFirst() {\r\n        return this.remove(true);\r\n    }\r\n\r\n    removeLast() {\r\n        return this.remove(false);\r\n    }\r\n\r\n    makeNode(data,front) {\r\n        this.tempNode = new DequeLinkedListNode({data: data, index: front ? 0 : this.size, x:20,y:20,});\r\n        return [this.tempNode];\r\n    }\r\n    undo_makeNode(data) {\r\n        this.tempNode = null;\r\n    }\r\n    redo_makeNode(newTemp) {\r\n        this.tempNode = newTemp;\r\n    }\r\n\r\n    setTempNodeBeforeHead() {\r\n        this.tempNode.next = this.head;\r\n    }\r\n    undo_setTempNodeBeforeHead() {\r\n        this.tempNode.next = null;\r\n    }\r\n\r\n    setHeadAfterTempNode() {\r\n        this.head.prev = this.tempNode;\r\n    }\r\n    undo_setHeadAfterTempNode() {\r\n        this.head.prev = null;\r\n    }\r\n\r\n    setTempNodeAfterTail() {\r\n        this.tail.next = this.tempNode;\r\n    }\r\n    undo_setTempNodeAfterTail() {\r\n        this.tail.next = null;\r\n    }\r\n\r\n    setTailBeforeTempNode() {\r\n        this.tempNode.prev = this.tail;\r\n    }\r\n    undo_setTailBeforeTempNode() {\r\n        this.tempNode.prev = null;\r\n    }\r\n\r\n    insertTempNode(atHead) {\r\n        let oldTail = this.tail;\r\n        if (atHead) {\r\n            this.nodes.splice(0, 0, this.tempNode);\r\n            if (!oldTail) {\r\n                this.tail = this.tempNode;\r\n            }\r\n            this.head = this.tempNode;\r\n        } else {\r\n            this.nodes.splice(this.size, 0, this.tempNode);\r\n            this.tail = this.tempNode;\r\n            if (!oldTail) {\r\n                this.head = this.tempNode;\r\n            }\r\n        }\r\n        return [atHead, oldTail];\r\n    }\r\n    undo_insertTempNode(atHead, oldTail) {\r\n        if (atHead) {\r\n            this.head = this.tempNode.next;\r\n            this.nodes.splice(0, 1);\r\n        } else {\r\n            this.tail = oldTail;\r\n            if (!oldTail) {\r\n                this.head = null;\r\n            }\r\n            this.nodes.splice(this.size, 1);\r\n        }\r\n    }\r\n\r\n    shiftNewHead() {\r\n        this.tempNode.shift(...this.getNodePosition(0));\r\n        this.tempNode = null;\r\n    }\r\n    undo_shiftNewHead() {\r\n        this.tempNode = this.nodes[0];\r\n        this.tempNode.shift(20,20);\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n    redo_shiftNewHead() {\r\n        this.tempNode.shift(...this.getNodePosition(0));\r\n        let temp = this.tempNode;\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        temp.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n\r\n    shiftNewTail() {\r\n        this.tempNode.shift(...this.getNodePosition(this.size));\r\n        this.tempNode.addOnStop((element) => {\r\n            this.doneAnimating(0);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n    undo_shiftNewTail() {\r\n        this.tempNode = this.tail;\r\n        this.tempNode.shift(20,20);\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n    redo_shiftNewTail() {\r\n        this.tempNode.shift(...this.getNodePosition(this.size));\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n\r\n    markNodeForDeletion(front) {\r\n        (front ? this.head : this.tail).markForDeletion();\r\n    }\r\n    undo_markNodeForDeletion(front) {\r\n        (front ? this.head : this.tail).unhighlight();\r\n    }\r\n\r\n    unmakeNode(front) {\r\n        this.tempNode = this.nodes.splice(front ? 0 : (this.size - 1), 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        this.tempNode.addOnStop(() => {\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n    undo_unmakeNode(front) {\r\n        this.tempNode.shift(...this.getNodePosition(front ? 0 : (this.size - 1)));\r\n        this.nodes.splice(front ? 0 : (this.size - 1), 0, this.tempNode);\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n    redo_unmakeNode(front) {\r\n        this.tempNode = this.nodes.splice(front ? 0 : (this.size - 1), 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n\r\n    skipTempNode(front) {\r\n        let oldTemp = this.tempNode;\r\n        if (front) {\r\n            this.head = this.head.next;\r\n            this.head.prev = null;\r\n        } else {\r\n            this.tail = this.tail.prev;\r\n            this.tail.next = null;\r\n        }\r\n\r\n        this.tempNode = null;\r\n        return [front,oldTemp]\r\n    }\r\n    undo_skipTempNode(front,oldTemp) {\r\n        this.tempNode = oldTemp;\r\n        if (front) {\r\n            this.tempNode.next = this.head;\r\n            this.head.prev = this.tempNode;\r\n            this.head = this.tempNode;\r\n        } else {\r\n            this.tempNode.prev = this.tail;\r\n            this.tail.next = this.tempNode;\r\n            this.tail = this.tempNode;\r\n        }\r\n        this.tempNode.markForDeletion();\r\n    }\r\n\r\n    shiftHeadForNode() {\r\n        let node = this.head;\r\n        let furthest = node;\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            if (node.displacement() > furthest.displacement()) {\r\n                furthest = node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (furthest) {\r\n            furthest.addOnStop(() => {\r\n                this.doneAnimating(0);\r\n            });\r\n        }\r\n    }\r\n    undo_shiftHeadForNode() {\r\n        let node = this.head;\r\n        let furthest = node;\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            if (node.displacement() > furthest.displacement()) {\r\n                furthest = node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (furthest) {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            furthest.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n        }\r\n    }\r\n    redo_shiftHeadForNode() {\r\n        let node = this.head;\r\n        let furthest = node;\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            if (node.displacement() > furthest.displacement()) {\r\n                furthest = node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (furthest) {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            furthest.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n        }\r\n    }\r\n\r\n    shiftIntoNode() {\r\n        let node = this.head.next;\r\n        let furthest = node;\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            if (node.displacement() > furthest.displacement()) {\r\n                furthest = node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (furthest) {\r\n            furthest.addOnStop((element) => {\r\n                this.doneAnimating(0);\r\n            });\r\n        }\r\n    }\r\n    undo_shiftIntoNode() {\r\n        let node = this.head.next;\r\n        let furthest = node;\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            if (node.displacement() > furthest.displacement()) {\r\n                furthest = node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (furthest) {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            furthest.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n        }\r\n    }\r\n    redo_shiftIntoNode() {\r\n        let node = this.head.next;\r\n        let furthest = node;\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            if (node.displacement() > furthest.displacement()) {\r\n                furthest = node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (furthest) {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            furthest.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n        }\r\n    }\r\n\r\n    shiftNode(node, direction) {\r\n        node.shift(...this.getNodePosition(node.index + direction), direction);\r\n    }\r\n    undo_shiftNode(node, direction) {\r\n        // console.log(\"undo_shiftNode\");\r\n        this.shiftNode(node, -direction);\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n    undo_sizeIncr() {\r\n        this.size--;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n    undo_sizeDecr() {\r\n        this.size++;\r\n    }\r\n\r\n    getNodePosition(index) {\r\n        let maxPerRow = Math.max(1, Math.floor(this.width / DequeLinkedList.ELEMENT_SIZE));\r\n        let x = DequeLinkedList.ELEMENT_SIZE * index;\r\n        let y = 75 + Math.floor(index / maxPerRow) * 2 * DequeLinkedList.ELEMENT_HEIGHT;\r\n        x = (index % maxPerRow) * DequeLinkedList.ELEMENT_SIZE;\r\n        return [x + this.x,y + this.y];\r\n    }\r\n\r\n    getNodeAtPos(x,y) {\r\n        let node = this.head;\r\n        while (node) {\r\n            if (node.containsPos(x,y)) {\r\n                return node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode && this.tempNode.containsPos(x,y)) {\r\n            return this.tempNode;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    getTailY() {\r\n        return this.getNodePosition(this.size)[1] + DequeLinkedList.ELEMENT_HEIGHT + DequeLinkedList.HEAD_TAIL_SIZE;\r\n    }\r\n\r\n    pin(node, x,y) {\r\n        this.pinnedNode = node;\r\n        node.pin(x,y);\r\n    }\r\n\r\n    unpin() {\r\n        this.pinnedNode.unpin();\r\n        this.pinnedNode = null;\r\n    }\r\n\r\n    updateNode(node, animationSpeed, p5) {\r\n        node.update(animationSpeed, p5);\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(() => {\r\n            let node = this.head;\r\n            while (node) {\r\n                this.updateNode(node, animationSpeed, p5);\r\n                node = node.next;\r\n            }\r\n            if (this.tempNode) {\r\n                this.updateNode(this.tempNode, animationSpeed, p5);\r\n            }\r\n        }, animationSpeed, p5);\r\n    }\r\n\r\n    draw(p5) {\r\n        // console.log(\"draw\");\r\n        super.draw(p5);\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_WIDTH/3 - 2);\r\n\r\n        p5.noFill();\r\n        p5.stroke(0);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        let headY = 20;\r\n        p5.text(\"Head:\",95-5,headY,DequeLinkedList.HEAD_TAIL_SIZE + 10,DequeLinkedList.HEAD_TAIL_SIZE);\r\n        p5.square(DequeLinkedList.HEAD_TAIL_X,headY,DequeLinkedList.HEAD_TAIL_SIZE);\r\n        if (this.head) {\r\n            p5.stroke(Colors.BLUE);\r\n            p5.fill(Colors.BLUE);\r\n            p5.circle(DequeLinkedList.HEAD_TAIL_X + DequeLinkedList.HEAD_TAIL_SIZE / 2, headY + DequeLinkedList.HEAD_TAIL_SIZE / 2, 5);\r\n            p5.line(DequeLinkedList.HEAD_TAIL_X + DequeLinkedList.HEAD_TAIL_SIZE / 2, headY + DequeLinkedList.HEAD_TAIL_SIZE / 2, this.head.currentX + DequeLinkedList.ITEM_WIDTH / 2, this.head.currentY);\r\n            p5.rect(this.head.currentX + DequeLinkedList.ITEM_WIDTH / 2 - 3, this.head.currentY - 3, 6,6);\r\n        } else {\r\n            p5.line(DequeLinkedList.HEAD_TAIL_X,headY,DequeLinkedList.HEAD_TAIL_X + DequeLinkedList.HEAD_TAIL_SIZE,headY + DequeLinkedList.HEAD_TAIL_SIZE);\r\n        }\r\n        p5.noFill();\r\n        p5.stroke(0);\r\n        let tailY = this.getTailY();\r\n        p5.text(\"Tail:\",95,tailY,DequeLinkedList.HEAD_TAIL_SIZE,DequeLinkedList.HEAD_TAIL_SIZE);\r\n        p5.square(DequeLinkedList.HEAD_TAIL_X,tailY,DequeLinkedList.HEAD_TAIL_SIZE);\r\n        if (this.tail) {\r\n            p5.stroke(Colors.BLUE);\r\n            p5.fill(Colors.BLUE);\r\n            p5.circle(DequeLinkedList.HEAD_TAIL_X + DequeLinkedList.HEAD_TAIL_SIZE / 2, tailY + DequeLinkedList.HEAD_TAIL_SIZE / 2, 5);\r\n            p5.line(DequeLinkedList.HEAD_TAIL_X + DequeLinkedList.HEAD_TAIL_SIZE / 2, tailY + DequeLinkedList.HEAD_TAIL_SIZE / 2, this.tail.currentX + DequeLinkedList.ITEM_WIDTH / 2, this.tail.currentY + DequeLinkedList.ELEMENT_HEIGHT);\r\n            p5.rect(this.tail.currentX + DequeLinkedList.ITEM_WIDTH / 2 - 3, this.tail.currentY + DequeLinkedList.ELEMENT_HEIGHT - 3, 6,6);\r\n        } else {\r\n            p5.line(DequeLinkedList.HEAD_TAIL_X,tailY,DequeLinkedList.HEAD_TAIL_X + DequeLinkedList.HEAD_TAIL_SIZE,tailY + DequeLinkedList.HEAD_TAIL_SIZE);\r\n        }\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.draw(p5, node.next === this.head);\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode) {\r\n            this.tempNode.draw(p5);\r\n        }\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    mousePressed(p5) {\r\n        // this.drawingBeforeMouseDown = this.drawing;\r\n        let pressedNode = this.getNodeAtPos(p5.mouseX, p5.mouseY);\r\n        if (pressedNode) {\r\n            this.animator.loop();\r\n            this.pin(pressedNode, p5.mouseX,p5.mouseY);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    mouseReleased(p5) {\r\n        if (this.pinnedNode) {\r\n            this.pinnedNode.addOnStop(() => {\r\n                this.ensureDrawn();\r\n            });\r\n            this.unpin();\r\n        } else {\r\n            // this.ensureDrawn();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, this.getTailY() + DequeLinkedList.HEAD_TAIL_SIZE + 20,() => {\r\n            let shiftTemp = this.tempNode && this.tempNode.desiredX === 20 && this.tempNode.desiredY === 20;\r\n            let node = this.head;\r\n            while (node) {\r\n                node.shift(...this.getNodePosition(node.index));\r\n                node = node.next;\r\n            }\r\n            if (shiftTemp) {\r\n                this.tempNode.shift(20,20);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\nclass DequeLinkedListNode extends AttractedDraggableObject {\r\n    static CAN_DRAG = true;\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        this.data = data;\r\n        this.index = index;\r\n        this.next = null;\r\n        this.prev = null;\r\n\r\n        this.toDelete = false;\r\n        this.handBroken = false;\r\n        this.frozen = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    containsPos(x,y) {\r\n        return ((this.currentX <= x && x <= (this.currentX + DequeLinkedList.ITEM_WIDTH)) && (this.currentY <= y && y <= (this.currentY + DequeLinkedList.ELEMENT_HEIGHT)))\r\n    }\r\n\r\n    highlight() {\r\n        this.color = [255,165,0];\r\n    }\r\n\r\n    unhighlight() {\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        this.color[0] = 255;\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    draw(p5) {\r\n        p5.push();\r\n        p5.fill(255);\r\n        p5.stroke(...this.color);\r\n        p5.rect(this.currentX, this.currentY, DequeLinkedList.ITEM_WIDTH, DequeLinkedList.ELEMENT_HEIGHT);\r\n        p5.line(this.currentX + DequeLinkedList.POINTER_WIDTH, this.currentY, this.currentX + DequeLinkedList.POINTER_WIDTH, this.currentY + DequeLinkedList.ELEMENT_HEIGHT);\r\n        p5.line(this.currentX + DequeLinkedList.POINTER_WIDTH + DequeLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + DequeLinkedList.POINTER_WIDTH + DequeLinkedList.ELEMENT_WIDTH, this.currentY + DequeLinkedList.ELEMENT_HEIGHT);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.text(this.data.toString(), this.currentX + DequeLinkedList.POINTER_WIDTH,this.currentY, DequeLinkedList.ELEMENT_WIDTH,DequeLinkedList.ELEMENT_HEIGHT);\r\n        if (this.prev) {\r\n            p5.stroke(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.fill(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.circle(this.currentX + DequeLinkedList.POINTER_WIDTH / 2, this.currentY + DequeLinkedList.ELEMENT_HEIGHT *2/3, 5);\r\n            p5.line(this.currentX + DequeLinkedList.POINTER_WIDTH / 2, this.currentY + DequeLinkedList.ELEMENT_HEIGHT *2/3, this.prev.currentX + DequeLinkedList.ITEM_WIDTH, this.prev.currentY + DequeLinkedList.ELEMENT_HEIGHT *2/3)\r\n            p5.rect(this.prev.currentX + DequeLinkedList.ITEM_WIDTH - 3, this.prev.currentY + DequeLinkedList.ELEMENT_HEIGHT *2/3 - 3, 6,6);\r\n        } else {\r\n            p5.line(this.currentX, this.currentY, this.currentX + DequeLinkedList.POINTER_WIDTH, this.currentY + DequeLinkedList.ELEMENT_HEIGHT);\r\n        }\r\n        if (this.next) {\r\n            p5.stroke(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.fill(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.circle(this.currentX + DequeLinkedList.ITEM_WIDTH - DequeLinkedList.POINTER_WIDTH / 2, this.currentY + DequeLinkedList.ELEMENT_HEIGHT / 3, 5);\r\n            p5.line(this.currentX + DequeLinkedList.ITEM_WIDTH - DequeLinkedList.POINTER_WIDTH / 2, this.currentY + DequeLinkedList.ELEMENT_HEIGHT / 3, this.next.currentX, this.next.currentY + DequeLinkedList.ELEMENT_HEIGHT / 3)\r\n            p5.rect(this.next.currentX - 3, this.next.currentY + DequeLinkedList.ELEMENT_HEIGHT / 3 - 3, 6,6);\r\n        } else {\r\n            p5.stroke(...this.color);\r\n            p5.line(this.currentX + DequeLinkedList.POINTER_WIDTH + DequeLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + DequeLinkedList.ITEM_WIDTH, this.currentY + DequeLinkedList.ELEMENT_HEIGHT);\r\n        }\r\n        p5.pop();\r\n    }\r\n}\r\n","import React, { PureComponent } from 'react';\r\nimport Sketch from 'react-p5';\r\nimport './visualizer.scss';\r\n\r\nimport ControlBar from './controlBar';\r\n\r\nimport { ControlBuilder, Utils } from 'utils';\r\nimport { Animator } from 'animation';\r\n\r\nexport default class Visualizer extends PureComponent {\r\n\r\n    static INITIAL_SPEED = 50;\r\n    static MAX_SPEED = 20;\r\n    static SPEED_SLIDER_DEGREE = 1.5;\r\n\r\n    static maxAnimationSpeed() {\r\n        return Math.pow(Visualizer.MAX_SPEED, Visualizer.SPEED_SLIDER_DEGREE);\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        //FUNCTION BINDING\r\n        this.setup = this.setup.bind(this);\r\n        this.draw = this.draw.bind(this);\r\n        this.mousePressed = this.mousePressed.bind(this);\r\n        this.touchMoved = this.touchMoved.bind(this);\r\n        this.mouseReleased = this.mouseReleased.bind(this);\r\n        this.windowResized = this.windowResized.bind(this);\r\n\r\n\r\n        this.controlBarRef = React.createRef();\r\n\r\n        this.controlGroups = [];\r\n        this.defaultControlGroups = [];\r\n        this.controls = [];\r\n\r\n        // this.animationSpeed = Visualizer.INITIAL_SPEED;\r\n\r\n        this.onAnimStart = this.onAnimStart.bind(this);\r\n        this.onAnimEnd = this.onAnimEnd.bind(this);\r\n        this.animating = false;\r\n\r\n        this.focusedElement = null;\r\n\r\n        this.animator = new Proxy(new Animator(), {\r\n            get: function (target, propertyName, receiver) {\r\n                if (target[propertyName]) {\r\n                    return target[propertyName];\r\n                } else {\r\n                    return (param) => target.emit(propertyName + (param ? (\"-\" + param) : \"\"));\r\n                }\r\n            }\r\n        });\r\n        this.animator.on(\"anim-start\", this.onAnimStart);\r\n        this.animator.on(\"anim-end\", this.onAnimEnd);\r\n\r\n        this.addDefaultControls();\r\n    }\r\n\r\n    addDefaultControls() {\r\n        this.speedSlider = ControlBuilder.createSlider(1, Visualizer.MAX_SPEED, Math.pow(Visualizer.INITIAL_SPEED,1/Visualizer.SPEED_SLIDER_DEGREE), 0);\r\n        let sliderLabel = ControlBuilder.createLabel(\"Animation Speed\", this.speedSlider);\r\n        let speedSliderGroup = ControlBuilder.createControlGroup(\"speedSliderGroup\", this.speedSlider, sliderLabel);\r\n        let extraGroups = []\r\n        if (this.constructor.VISUALIZATION_CLASS.SUPPORTS_ANIMATION_CONTROL) {\r\n            let skipBackButton = ControlBuilder.createButton(\"Skip Back\");\r\n            skipBackButton.addEventListener(\"click\", () => {\r\n                this.visualization.skipBack();\r\n            });\r\n            skipBackButton.disabled = true;\r\n            this.animator.on(\"disable-skipBack\", () => {\r\n                skipBackButton.disabled = true;\r\n            });\r\n            this.animator.on(\"enable-skipBack\", () => {\r\n                skipBackButton.disabled = false;\r\n            });\r\n            let stepBackButton = ControlBuilder.createButton(\"Step Back\");\r\n            stepBackButton.addEventListener(\"click\", () => {\r\n                this.visualization.stepBack();\r\n            });\r\n            stepBackButton.disabled = true;\r\n            this.animator.on(\"disable-stepBack\", () => {\r\n                stepBackButton.disabled = true;\r\n            });\r\n            this.animator.on(\"enable-stepBack\", () => {\r\n                stepBackButton.disabled = false;\r\n            });\r\n            let playPauseButton = ControlBuilder.createButton(\"Pause\");\r\n            playPauseButton.addEventListener(\"click\", () => {\r\n                this.visualization.playPause();\r\n                playPauseButton.setAttribute(\"value\", this.visualization.paused ? \"Play\" : \"Pause\");\r\n            });\r\n            this.animator.on(\"enable-playPause\", () => {\r\n                playPauseButton.setAttribute(\"value\", this.visualization.paused ? \"Play\" : \"Pause\");\r\n            });\r\n            let stepForwardButton = ControlBuilder.createButton(\"Step Forward\");\r\n            stepForwardButton.addEventListener(\"click\", () => {\r\n                this.visualization.stepForward();\r\n            });\r\n            stepForwardButton.disabled = true;\r\n            this.animator.on(\"disable-stepForward\", () => {\r\n                stepForwardButton.disabled = true;\r\n            });\r\n            this.animator.on(\"enable-stepForward\", () => {\r\n                stepForwardButton.disabled = false;\r\n            });\r\n            let skipForwardButton = ControlBuilder.createButton(\"Skip Forward\");\r\n            skipForwardButton.addEventListener(\"click\", () => {\r\n                this.visualization.skipForward();\r\n            });\r\n            skipForwardButton.disabled = true;\r\n            this.animator.on(\"disable-skipForward\", () => {\r\n                skipForwardButton.disabled = true;\r\n            });\r\n            this.animator.on(\"enable-skipForward\", () => {\r\n                skipForwardButton.disabled = false;\r\n            });\r\n\r\n            extraGroups.push(ControlBuilder.createControlGroup(\"stepButtonGroup\",skipBackButton,stepBackButton,playPauseButton,stepForwardButton,skipForwardButton));\r\n            let animationControls = ControlBuilder.createControlGroup(\"animationControls\",...extraGroups);\r\n            ControlBuilder.applyStyle(animationControls,\"width\",\"441px\");\r\n            this.defaultControlGroups.push(animationControls);\r\n        }\r\n        this.defaultControlGroups.push(speedSliderGroup);\r\n        this.defaultsLabel = \"Animation controls\";\r\n    }\r\n\r\n    addControlLabel(label) {\r\n        this.mainLabel = label;\r\n    }\r\n\r\n    addControlGroups(...controlGroups) {\r\n        // console.log(\"control added\");\r\n        this.controlGroups.push(...controlGroups);\r\n        controlGroups.forEach((controlGroup) => {\r\n            if (controlGroup.tagName === \"INPUT\") {\r\n                this.controls.push(controlGroup);\r\n            } else {\r\n                this.registerControlGroup(controlGroup);\r\n            }\r\n        });\r\n    }\r\n\r\n    registerControlGroup(controlGroup) {\r\n        controlGroup.childNodes.forEach((child) => {\r\n            if (child.tagName === \"INPUT\") {\r\n                this.controls.push(child);\r\n            } else {\r\n                this.registerControlGroup(child);\r\n            }\r\n        });\r\n    }\r\n\r\n    onAnimStart() {\r\n        this.disableUI();\r\n        if (this.constructor.VISUALIZATION_CLASS.SUPPORTS_NO_LOOP) {\r\n            // this.animator.loop();\r\n        }\r\n        this.animating = true;\r\n    }\r\n\r\n    onAnimEnd() {\r\n        this.enableUI();\r\n        if (this.constructor.VISUALIZATION_CLASS.SUPPORTS_NO_LOOP) {\r\n            // this.animator.noLoop();\r\n        }\r\n        this.animating = false;\r\n    }\r\n\r\n    disableUI() {\r\n        // console.log(\"disable\");\r\n        this.controls.forEach((control) => {\r\n            if (control === document.activeElement) {\r\n                this.focusedElement = control;\r\n            }\r\n            control.disabled = true;\r\n        });\r\n    }\r\n\r\n    enableUI() {\r\n        // console.log(\"enable\");\r\n        this.controls.forEach((control) => {\r\n            control.disabled = false;\r\n            if (control === this.focusedElement) {\r\n                control.focus();\r\n            }\r\n        });\r\n    }\r\n\r\n    componentDidMount(callForward) {\r\n        callForward();\r\n        if (Utils.isDev()) {\r\n            window.vis = this.visualization;\r\n        } else {\r\n            console.log = () => {};\r\n        }\r\n        this.controlBar = this.controlBarRef.current;\r\n        this.controlBar.setMainLabel(this.mainLabel);\r\n        this.controlBar.setDefaultsLabel(this.defaultsLabel);\r\n        this.defaultControlGroups.forEach((defaultGroup) => {\r\n            this.controlBar.addDefaultGroup(defaultGroup);\r\n        });\r\n        this.controlGroups.forEach((controlGroup) => {\r\n            this.controlBar.addControlGroup(controlGroup);\r\n        });\r\n        this.mounted = true;\r\n        this.forceUpdate();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        // console.log(\"update\");\r\n    }\r\n\r\n    setup(p5, canvasParentRef) {\r\n        // let width = this.controlBar.controlBar.current.getBoundingClientRect().width;\r\n        let height = document.querySelector(\".app-content\").getBoundingClientRect().height\r\n                - document.querySelector(\"#main-control\").getBoundingClientRect().height\r\n                - document.querySelector(\"#default-control\").getBoundingClientRect().height;\r\n\r\n        this.mobile = window.ontouchstart !== undefined;\r\n        if (this.mobile) {\r\n            height = 1000;\r\n            // document.querySelector(\".canvas-container\").style.height = height + \"px\";\r\n            document.querySelector(\".canvas-container\").classList.add(\"mobile\");\r\n        }\r\n\r\n        //config\r\n        let canvas = p5.createCanvas(p5.windowWidth\r\n            ,height);\r\n        canvas.parent(canvasParentRef);\r\n        //\r\n        // canvas.touchStarted((event) => {\r\n        //     console.log(\"touchdown\");\r\n        //     if (!this.mousePressed(p5)) {\r\n        //         event.preventDefault();\r\n        //     }\r\n        //     // event.preventDefault();\r\n        // });\r\n        //\r\n        // canvas.touchMoved((event) => {\r\n        //     console.log(\"touchmove\");\r\n        //     if (!this.touchMoved(p5)) {\r\n        //         // event.preventDefault();\r\n        //     }\r\n        //     return true;\r\n        //     // event.preventDefault();\r\n        // });\r\n        //\r\n        // canvas.touchEnded(() => {\r\n        //     console.log(\"touchup\");\r\n        //     this.mouseReleased(p5);\r\n        //     // event.preventDefault();\r\n        // });\r\n        // canvas.mousePressed(() => {\r\n        //     console.log(\"mousedown\");\r\n        //     if (!this.mousePressed(p5)) {\r\n        //         // event.preventDefault();\r\n        //     }\r\n        // });\r\n        // canvas.mouseReleased(() => {\r\n        //     console.log(\"mouseup\");\r\n        //     this.mouseReleased(p5);\r\n        //     // event.preventDefault();\r\n        // });\r\n        // p5.background(200);\r\n        // p5.frameRate(8);\r\n\r\n        // document.addEventListener(\"resize\", (event) => {\r\n        //     console.log(\"resize\");\r\n        // });\r\n        this.animator.on(\"noLoop\", () => {\r\n            // console.log(\"noLoop\");\r\n            p5.noLoop();\r\n        });\r\n        this.animator.on(\"loop\", () => {\r\n            // console.log(\"loop\");\r\n            p5.loop();\r\n        });\r\n        this.windowResized(p5);\r\n\r\n        if (this.constructor.VISUALIZATION_CLASS.SUPPORTS_NO_LOOP) {\r\n            this.animator.noLoop();\r\n        }\r\n    }\r\n    draw(p5) {\r\n        //inputs\r\n        let animationSpeed = Math.pow(this.speedSlider.value,Visualizer.SPEED_SLIDER_DEGREE);\r\n\r\n        p5.background(255);\r\n\r\n        //objects\r\n        this.visualization.update(animationSpeed, p5);\r\n        this.visualization.draw(p5);\r\n        // if (!this.animating) {\r\n        //     if (this.constructor.VISUALIZATION_CLASS.SUPPORTS_NO_LOOP) {\r\n        //         this.animator.noLoop();\r\n        //     }\r\n        // }\r\n    }\r\n    mousePressed(p5) {\r\n        if (this.visualization.mousePressed) {\r\n            // console.log(\"down\");\r\n            //let pressed =\r\n            this.visualization.mousePressed(p5);\r\n            // console.log(pressed);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    touchMoved(p5) {\r\n        if (this.visualization.touchMoved) {\r\n            // console.log(\"move\");\r\n            return this.visualization.touchMoved();\r\n        }\r\n        return true;\r\n    }\r\n    mouseReleased(p5) {\r\n        if (this.visualization.mouseReleased) {\r\n            // console.log(\"up\");\r\n            //let released =\r\n            this.visualization.mouseReleased(p5);\r\n            // console.log(released);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    windowResized(p5) {\r\n        // console.log(\"resize\");\r\n        //config\r\n        let height = document.querySelector(\".app-content\").getBoundingClientRect().height\r\n                - document.querySelector(\"#main-control\").getBoundingClientRect().height\r\n                - document.querySelector(\"#default-control\").getBoundingClientRect().height;\r\n        if (this.mobile) {\r\n            // height = 1000;\r\n        }\r\n        // height = document.querySelector(\".react-p5\").getBoundingClientRect().height;\r\n        document.querySelector(\".canvas-container\").style.height = height+\"px\";\r\n        height = document.querySelector(\".canvas-container\").getBoundingClientRect().height;\r\n        // console.log(height);\r\n        // p5.resizeCanvas(p5.windowWidth, p5.height);\r\n\r\n        //objects\r\n        let numScrollbars = this.controlBar.windowResized();\r\n        this.visualization.windowResized(p5, height, numScrollbars);\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n                <div className={`visualizer ${this.class}`}>\r\n                    <ControlBar ref={this.controlBarRef}/>\r\n                    {\r\n                        this.constructor.VISUALIZATION_CLASS.USE_CANVAS ?\r\n                                <div className=\"canvas-container\">\r\n                                    {\r\n                                        this.mounted ?\r\n                                                <Sketch setup={this.setup} draw={this.draw} windowResized={this.windowResized} mousePressed={this.mousePressed} mouseReleased={this.mouseReleased} touchStarted={this.mousePressed} touchEnded={this.mouseReleased} touchMoved={this.touchMoved}/>\r\n                                            :\r\n                                                <p>Loading Sketch</p>\r\n                                    }\r\n                                </div>\r\n                            :\r\n                                <this.visualization.VISUALIZATION_CLASS />\r\n                    }\r\n                </div>\r\n            );\r\n    }\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class ListVisualizer extends Visualizer {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        //FUNCTION BINDING\r\n        this.addAtIndexButtonCallback = this.addAtIndexButtonCallback.bind(this);\r\n        this.addToFrontButtonCallback = this.addToFrontButtonCallback.bind(this);\r\n        this.addToBackButtonCallback = this.addToBackButtonCallback.bind(this);\r\n        this.removeFromIndexButtonCallback = this.removeFromIndexButtonCallback.bind(this);\r\n        this.removeFromFrontButtonCallback = this.removeFromFrontButtonCallback.bind(this);\r\n        this.removeFromBackButtonCallback = this.removeFromBackButtonCallback.bind(this);\r\n        this.resetButtonCallback = this.resetButtonCallback.bind(this);\r\n        this.elementFieldCallback = this.elementFieldCallback.bind(this);\r\n        this.indexFieldCallback = this.indexFieldCallback.bind(this);\r\n\r\n        this.list = null;\r\n\r\n        this.addControls();\r\n    }\r\n\r\n    addControls() {\r\n        this.valueField = ControlBuilder.createField(\"value\", ControlBuilder.validatorIntOnly(), ControlBuilder.validatorMaxLength(4));\r\n        this.indexField = ControlBuilder.createField(\"index\", ControlBuilder.validatorIntOnly(), ControlBuilder.validatorMaxLength(4));\r\n        ControlBuilder.addSubmit(this.valueField, this.elementFieldCallback);\r\n        ControlBuilder.addSubmit(this.indexField, this.indexFieldCallback);\r\n\r\n        this.addAtIndexButton = ControlBuilder.createButton(\"addAtIndex\");\r\n        this.addAtIndexButton.addEventListener(\"click\",this.addAtIndexButtonCallback);\r\n\r\n        this.addToFrontButton = ControlBuilder.createButton(\"addToFront\");\r\n        this.addToFrontButton.addEventListener(\"click\",this.addToFrontButtonCallback);\r\n\r\n        this.addToBackButton = ControlBuilder.createButton(\"addToBack\");\r\n        this.addToBackButton.addEventListener(\"click\",this.addToBackButtonCallback);\r\n\r\n        this.removeFromIndexButton = ControlBuilder.createButton(\"removeFromIndex\");\r\n        this.removeFromIndexButton.addEventListener(\"click\",this.removeFromIndexButtonCallback);\r\n\r\n        this.removeFromFrontButton = ControlBuilder.createButton(\"removeFromFront\");\r\n        this.removeFromFrontButton.addEventListener(\"click\",this.removeFromFrontButtonCallback);\r\n\r\n        this.removeFromBackButton = ControlBuilder.createButton(\"removeFromBack\");\r\n        this.removeFromBackButton.addEventListener(\"click\",this.removeFromBackButtonCallback);\r\n\r\n        this.resetButton = ControlBuilder.createButton(\"reset\");\r\n        this.resetButton.addEventListener(\"click\",this.resetButtonCallback);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.valueField, this.indexField);\r\n        ControlBuilder.setTabControl(this.indexField, this.addToFrontButton);\r\n        ControlBuilder.setTabControl(this.removeFromBackButton, this.addAtIndexButton);\r\n        ControlBuilder.setTabControl(this.resetButton, this.valueField);\r\n\r\n        // build groups\r\n        let addFrontBackGroup = ControlBuilder.createControlGroup(\"addFrontBack\", this.addToFrontButton, this.addToBackButton);\r\n        let removeFrontBackGroup = ControlBuilder.createControlGroup(\"removeFrontBack\", this.removeFromFrontButton, this.removeFromBackButton);\r\n        let valueFrontBackGroup = ControlBuilder.createControlGroup(\"valueFrontBack\", this.valueField, addFrontBackGroup, removeFrontBackGroup);\r\n\r\n        let indexGroup = ControlBuilder.createControlGroup(\"indexAddRemove\", this.indexField, this.addAtIndexButton, this.removeFromIndexButton);\r\n\r\n        let resetGroup = ControlBuilder.createControlGroup(\"reset\", this.resetButton);\r\n\r\n        super.addControlGroups(valueFrontBackGroup, indexGroup, resetGroup);\r\n    }\r\n\r\n    componentDidMount(callForward) {\r\n        super.componentDidMount(() => {\r\n            callForward();\r\n            super.visualization = this.list;\r\n        });\r\n    }\r\n\r\n\r\n    addAtIndexButtonCallback() {\r\n        let index = parseInt(this.indexField.value);\r\n        let value = this.valueField.value;\r\n        if (value !== \"\" && !isNaN(index)) {\r\n            if (this.list.addAtIndex(index, value)) {\r\n                this.valueField.value = \"\";\r\n                this.indexField.value = \"\";\r\n            }\r\n        }\r\n    }\r\n\r\n    elementFieldCallback() {\r\n        let index = parseInt(this.indexField.value);\r\n        let value = this.valueField.value;\r\n        if (value !== \"\") {\r\n            if (!isNaN(index)) {\r\n                if (this.list.addAtIndex(index, value)) {\r\n                    this.valueField.value = \"\";\r\n                }\r\n            } else {\r\n                if (this.list.addToBack(value)) {\r\n                    this.valueField.value = \"\";\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    indexFieldCallback() {\r\n        let index = parseInt(this.indexField.value);\r\n        let value = this.valueField.value;\r\n        if (value !== \"\" && !isNaN(index)) {\r\n            if (this.list.addAtIndex(index, value)) {\r\n                this.indexField.value = \"\";\r\n            }\r\n        }\r\n    }\r\n\r\n    addToFrontButtonCallback() {\r\n        let value = this.valueField.value;\r\n        if (value !== \"\") {\r\n            this.list.addToFront(value);\r\n            this.valueField.value = \"\";\r\n            this.valueField.focus();\r\n        }\r\n    }\r\n\r\n    addToBackButtonCallback() {\r\n        let value = this.valueField.value;\r\n        if (value !== \"\") {\r\n            this.list.addToBack(value);\r\n            this.valueField.value = \"\";\r\n            this.valueField.focus();\r\n        }\r\n    }\r\n\r\n\r\n    removeFromIndexButtonCallback() {\r\n        let index = parseInt(this.indexField.value);\r\n        if (!isNaN(index)) {\r\n            this.list.removeFromIndex(index);\r\n            this.indexField.value = \"\";\r\n        }\r\n    }\r\n\r\n    removeFromFrontButtonCallback() {\r\n        this.list.removeFromFront();\r\n    }\r\n\r\n    removeFromBackButtonCallback() {\r\n        this.list.removeFromBack();\r\n    }\r\n\r\n\r\n    resetButtonCallback() {\r\n        this.list.reset();\r\n        this.valueField.value = \"\";\r\n        this.indexField.value = \"\";\r\n        this.valueField.focus();\r\n    }\r\n}\r\n","import { ListVisualizer } from '../';\r\nimport { ArrayList } from 'animation';\r\nimport './arraylist.scss';\r\n\r\n\r\nexport default class ArrayListVisualizer extends ListVisualizer {\r\n    static VISUALIZATION_CLASS = ArrayList;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        super.class = 'arraylist';\r\n        super.addControlLabel(\"ArrayList\");\r\n    }\r\n\r\n    componentDidMount() {\r\n        super.componentDidMount(() => {\r\n            this.list = new ArrayList(this.animator);\r\n        });\r\n    }\r\n}\r\n","import { ListVisualizer } from '../';\r\nimport { SinglyLinkedList } from 'animation';\r\nimport './singly-linked-list.scss';\r\n\r\n\r\nexport default class SinglyLinkedListVisualizer extends ListVisualizer {\r\n    static VISUALIZATION_CLASS = SinglyLinkedList;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        super.class = 'singlylinkedlist';\r\n        super.addControlLabel(\"SinglyLinkedList\");\r\n    }\r\n\r\n    componentDidMount() {\r\n        super.componentDidMount(() => {\r\n            this.list = new SinglyLinkedList(this.animator);\r\n        });\r\n    }\r\n}\r\n","import { ListVisualizer } from '../';\r\nimport { DoublyLinkedList } from 'animation';\r\nimport './doubly-linked-list.scss';\r\n\r\n\r\nexport default class DoublyLinkedListVisualizer extends ListVisualizer {\r\n    static VISUALIZATION_CLASS = DoublyLinkedList;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        super.class = 'doublylinkedlist';\r\n        super.addControlLabel(\"DoublyLinkedList\");\r\n    }\r\n\r\n    componentDidMount() {\r\n        super.componentDidMount(() => {\r\n            this.list = new DoublyLinkedList(this.animator);\r\n        });\r\n    }\r\n}\r\n","import { ListVisualizer } from '../';\r\nimport { CircularSinglyLinkedList } from 'animation';\r\nimport './circular-singly-linked-list.scss';\r\n\r\nexport default class CircularSinglyLinkedListVisualizer extends ListVisualizer {\r\n    static VISUALIZATION_CLASS = CircularSinglyLinkedList;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        super.class = 'circularsinglylinkedlist';\r\n        super.addControlLabel(\"CircularSinglyLinkedList\");\r\n    }\r\n\r\n    componentDidMount() {\r\n        super.componentDidMount(() => {\r\n            this.list = new CircularSinglyLinkedList(this.animator);\r\n        });\r\n    }\r\n}\r\n","import React from 'react';\r\nimport { Switch, Route, useRouteMatch, Link } from \"react-router-dom\";\r\nimport './lists.scss';\r\n\r\nimport ArrayListVisualizer from './arraylist';\r\nimport SinglyLinkedListVisualizer from './singly-linked-list';\r\nimport DoublyLinkedListVisualizer from './doubly-linked-list';\r\nimport CircularSinglyLinkedListVisualizer from './circular-singly-linked-list';\r\n\r\nexport default function Lists(props) {\r\n    let { path, url } = useRouteMatch();\r\n    return (\r\n            <Switch>\r\n                <Route exact path={path} component={props => <ListView url={url} />} />\r\n                <Route path={`${path}/arraylist`} component={ArrayListVisualizer} />\r\n                <Route path={`${path}/sll`} component={SinglyLinkedListVisualizer} />\r\n                <Route path={`${path}/dll`} component={DoublyLinkedListVisualizer} />\r\n                <Route path={`${path}/c-sll`} component={CircularSinglyLinkedListVisualizer} />\r\n            </Switch>\r\n        );\r\n}\r\n\r\nfunction ListView(props) {\r\n    let path = props.url;\r\n    return (\r\n            <div className=\"list-view\">\r\n                <h1 id=\"title\">Lists</h1>\r\n                <div className=\"links\">\r\n                    <Link to={`${path}/arraylist`}>ArrayList</Link>\r\n                    <Link to={`${path}/sll`}>SinglyLinkedList</Link>\r\n                    <Link to={`${path}/dll`}>DoublyLinkedList</Link>\r\n                    <Link to={`${path}/c-sll`}>CircularSinglyLinkedList</Link>\r\n                </div>\r\n            </div>\r\n        );\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class StackVisualizer extends Visualizer {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        //FUNCTION BINDING\r\n        this.pushButtonCallback = this.pushButtonCallback.bind(this);\r\n        this.popButtonCallback = this.popButtonCallback.bind(this);\r\n        this.resetButtonCallback = this.resetButtonCallback.bind(this);\r\n        this.elementFieldCallback = this.elementFieldCallback.bind(this);\r\n\r\n        this.stack = null;\r\n\r\n        this.addControls();\r\n    }\r\n\r\n    addControls() {\r\n        this.valueField = ControlBuilder.createField(\"value\", ControlBuilder.validatorIntOnly(), ControlBuilder.validatorMaxLength(4));\r\n        ControlBuilder.addSubmit(this.valueField, this.elementFieldCallback);\r\n\r\n        this.pushButton = ControlBuilder.createButton(\"push\");\r\n        this.pushButton.addEventListener(\"click\",this.pushButtonCallback);\r\n\r\n        this.popButton = ControlBuilder.createButton(\"pop\");\r\n        this.popButton.addEventListener(\"click\",this.popButtonCallback);\r\n\r\n        this.resetButton = ControlBuilder.createButton(\"reset\");\r\n        this.resetButton.addEventListener(\"click\",this.resetButtonCallback);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.valueField);\r\n\r\n        // build groups\r\n        let interactionButtonGroup = ControlBuilder.createControlGroup(\"interactionButtons\", this.pushButton, this.popButton);\r\n        let mainControlGroup = ControlBuilder.createControlGroup(\"mainControl\", this.valueField, interactionButtonGroup);\r\n        let resetGroup = ControlBuilder.createControlGroup(\"resetGroup\", this.resetButton);\r\n\r\n        super.addControlGroups(mainControlGroup, resetGroup);\r\n    }\r\n\r\n    componentDidMount(callForward) {\r\n        super.componentDidMount(() => {\r\n            callForward();\r\n            super.visualization = this.stack;\r\n        });\r\n    }\r\n\r\n\r\n    pushButtonCallback() {\r\n        let value = this.valueField.value;\r\n        if (value !== \"\") {\r\n            if (this.stack.push(value)) {\r\n                this.valueField.value = \"\";\r\n                this.valueField.focus();\r\n            }\r\n        }\r\n    }\r\n\r\n    elementFieldCallback() {\r\n        let value = this.valueField.value;\r\n        if (value !== \"\") {\r\n            if (this.stack.push(value)) {\r\n                this.valueField.value = \"\";\r\n            }\r\n        }\r\n    }\r\n\r\n    popButtonCallback() {\r\n        this.stack.pop();\r\n    }\r\n\r\n    peekButtonCallback() {\r\n        this.stack.peek();\r\n    }\r\n\r\n    resetButtonCallback() {\r\n        this.stack.reset();\r\n        this.valueField.value = \"\";\r\n        this.valueField.focus();\r\n    }\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class QueueVisualizer extends Visualizer {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        //FUNCTION BINDING\r\n        this.enqueueButtonCallback = this.enqueueButtonCallback.bind(this);\r\n        this.dequeueButtonCallback = this.dequeueButtonCallback.bind(this);\r\n        this.resetButtonCallback = this.resetButtonCallback.bind(this);\r\n        this.elementFieldCallback = this.elementFieldCallback.bind(this);\r\n\r\n        this.queue = null;\r\n\r\n        this.addControls();\r\n    }\r\n\r\n    addControls() {\r\n        this.valueField = ControlBuilder.createField(\"value\", ControlBuilder.validatorIntOnly(), ControlBuilder.validatorMaxLength(4));\r\n        ControlBuilder.addSubmit(this.valueField, this.elementFieldCallback);\r\n\r\n        this.enqueueButton = ControlBuilder.createButton(\"enqueue\");\r\n        this.enqueueButton.addEventListener(\"click\",this.enqueueButtonCallback);\r\n\r\n        this.dequeueButton = ControlBuilder.createButton(\"dequeue\");\r\n        this.dequeueButton.addEventListener(\"click\",this.dequeueButtonCallback);\r\n\r\n        this.resetButton = ControlBuilder.createButton(\"reset\");\r\n        this.resetButton.addEventListener(\"click\",this.resetButtonCallback);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.valueField);\r\n\r\n        // build groups\r\n        let interactionButtonGroup = ControlBuilder.createControlGroup(\"interactionButtons\", this.enqueueButton, this.dequeueButton);\r\n        let mainControlGroup = ControlBuilder.createControlGroup(\"mainControl\", this.valueField, interactionButtonGroup);\r\n        let resetGroup = ControlBuilder.createControlGroup(\"resetGroup\", this.resetButton);\r\n\r\n        super.addControlGroups(mainControlGroup, resetGroup);\r\n    }\r\n\r\n    componentDidMount(callForward) {\r\n        super.componentDidMount(() => {\r\n            callForward();\r\n            super.visualization = this.queue;\r\n        });\r\n    }\r\n\r\n\r\n    enqueueButtonCallback() {\r\n        let value = this.valueField.value;\r\n        if (value !== \"\") {\r\n            if (this.queue.enqueue(value)) {\r\n                this.valueField.value = \"\";\r\n                this.valueField.focus();\r\n            }\r\n        }\r\n    }\r\n\r\n    elementFieldCallback() {\r\n        let value = this.valueField.value;\r\n        if (value !== \"\") {\r\n            if (this.queue.enqueue(value)) {\r\n                this.valueField.value = \"\";\r\n            }\r\n        }\r\n    }\r\n\r\n    dequeueButtonCallback() {\r\n        this.queue.dequeue();\r\n    }\r\n\r\n    peekButtonCallback() {\r\n        this.queue.peek();\r\n    }\r\n\r\n    resetButtonCallback() {\r\n        this.queue.reset();\r\n        this.valueField.value = \"\";\r\n        this.valueField.focus();\r\n    }\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class DequeVisualizer extends Visualizer {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        //FUNCTION BINDING\r\n        this.addLastButtonCallback = this.addLastButtonCallback.bind(this);\r\n        this.addFirstButtonCallback = this.addFirstButtonCallback.bind(this);\r\n        this.removeFirstButtonCallback = this.removeFirstButtonCallback.bind(this);\r\n        this.removeLastButtonCallback = this.removeLastButtonCallback.bind(this);\r\n        this.resetButtonCallback = this.resetButtonCallback.bind(this);\r\n        this.elementFieldCallback = this.elementFieldCallback.bind(this);\r\n\r\n        this.deque = null;\r\n\r\n        this.addControls();\r\n    }\r\n\r\n    addControls() {\r\n        this.valueField = ControlBuilder.createField(\"value\", ControlBuilder.validatorIntOnly(), ControlBuilder.validatorMaxLength(4));\r\n        ControlBuilder.addSubmit(this.valueField, this.elementFieldCallback);\r\n\r\n        this.addLastButton = ControlBuilder.createButton(\"addLast (enqueue)\");\r\n        this.addLastButton.addEventListener(\"click\",this.addLastButtonCallback);\r\n\r\n        this.addFirstButton = ControlBuilder.createButton(\"addFirst (push)\");\r\n        this.addFirstButton.addEventListener(\"click\",this.addFirstButtonCallback);\r\n\r\n        this.removeFirstButton = ControlBuilder.createButton(\"removeFirst (dequeue/pop)\");\r\n        this.removeFirstButton.addEventListener(\"click\",this.removeFirstButtonCallback);\r\n\r\n        this.removeLastButton = ControlBuilder.createButton(\"removeLast\");\r\n        this.removeLastButton.addEventListener(\"click\",this.removeLastButtonCallback);\r\n\r\n        this.resetButton = ControlBuilder.createButton(\"reset\");\r\n        this.resetButton.addEventListener(\"click\",this.resetButtonCallback);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.valueField);\r\n\r\n        // build groups\r\n        let addButtonGroup = ControlBuilder.createControlGroup(\"addButtons\", this.addFirstButton, this.addLastButton);\r\n        let removeButtonGroup = ControlBuilder.createControlGroup(\"removeButtons\", this.removeFirstButton, this.removeLastButton);\r\n        let interactionGroup = ControlBuilder.createControlGroup(\"interactions\", this.valueField, addButtonGroup, removeButtonGroup);\r\n        let resetGroup = ControlBuilder.createControlGroup(\"resetGroup\", this.resetButton);\r\n\r\n        super.addControlGroups(interactionGroup, resetGroup);\r\n    }\r\n\r\n    componentDidMount(callForward) {\r\n        super.componentDidMount(() => {\r\n            callForward();\r\n            super.visualization = this.deque;\r\n        });\r\n    }\r\n\r\n\r\n    addLastButtonCallback() {\r\n        let value = this.valueField.value;\r\n        if (value !== \"\") {\r\n            if (this.deque.addLast(value)) {\r\n                this.valueField.value = \"\";\r\n                this.valueField.focus();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    addFirstButtonCallback() {\r\n        let value = this.valueField.value;\r\n        if (value !== \"\") {\r\n            if (this.deque.addFirst(value)) {\r\n                this.valueField.value = \"\";\r\n                this.valueField.focus();\r\n            }\r\n        }\r\n    }\r\n\r\n    elementFieldCallback() {\r\n        let value = this.valueField.value;\r\n        if (value !== \"\") {\r\n            if (this.deque.addLast(value)) {\r\n                this.valueField.value = \"\";\r\n            }\r\n        }\r\n    }\r\n\r\n    removeFirstButtonCallback() {\r\n        this.deque.removeFirst();\r\n    }\r\n\r\n    removeLastButtonCallback() {\r\n        this.deque.removeLast();\r\n    }\r\n\r\n    resetButtonCallback() {\r\n        this.deque.reset();\r\n        this.valueField.value = \"\";\r\n        this.valueField.focus();\r\n    }\r\n}\r\n","import { StackVisualizer } from '../';\r\nimport { StackArray } from 'animation';\r\nimport './stack-array.scss';\r\n\r\n\r\nexport default class StackArrayVisualizer extends StackVisualizer {\r\n    static VISUALIZATION_CLASS = StackArray;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        super.class = 'stack-array';\r\n        super.addControlLabel(\"Stack (Array)\");\r\n    }\r\n\r\n    componentDidMount() {\r\n        super.componentDidMount(() => {\r\n            this.stack = new StackArray(this.animator);\r\n        });\r\n    }\r\n}\r\n","import { QueueVisualizer } from '../';\r\nimport { QueueArray } from 'animation';\r\nimport './queue-array.scss';\r\n\r\n\r\nexport default class QueueArrayVisualizer extends QueueVisualizer {\r\n    static VISUALIZATION_CLASS = QueueArray;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        super.class = 'queue-array';\r\n        super.addControlLabel(\"Queue (Array)\");\r\n    }\r\n\r\n    componentDidMount() {\r\n        super.componentDidMount(() => {\r\n            this.queue = new QueueArray(this.animator);\r\n        });\r\n    }\r\n}\r\n","import { DequeVisualizer } from '../';\r\nimport { DequeArray } from 'animation';\r\nimport './deque-array.scss';\r\n\r\n\r\nexport default class DequeArrayVisualizer extends DequeVisualizer {\r\n    static VISUALIZATION_CLASS = DequeArray;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        super.class = 'deque-array';\r\n        super.addControlLabel(\"Deque (Array)\");\r\n    }\r\n\r\n    componentDidMount() {\r\n        super.componentDidMount(() => {\r\n            this.deque = new DequeArray(this.animator);\r\n        });\r\n    }\r\n}\r\n","import { StackVisualizer } from '../';\r\nimport { StackLinkedList } from 'animation';\r\nimport './stack-linked-list.scss';\r\n\r\n\r\nexport default class StackLinkedListVisualizer extends StackVisualizer {\r\n    static VISUALIZATION_CLASS = StackLinkedList;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        super.class = 'stack-linkedlist';\r\n        super.addControlLabel(\"Stack (LinkedList)\");\r\n    }\r\n\r\n    componentDidMount() {\r\n        super.componentDidMount(() => {\r\n            this.stack = new StackLinkedList(this.animator);\r\n        });\r\n    }\r\n}\r\n","import { QueueVisualizer } from '../';\r\nimport { QueueLinkedList } from 'animation';\r\nimport './queue-linked-list.scss';\r\n\r\n\r\nexport default class QueueLinkedListVisualizer extends QueueVisualizer {\r\n    static VISUALIZATION_CLASS = QueueLinkedList;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        super.class = 'queue-linkedlist';\r\n        super.addControlLabel(\"Queue (LinkedList)\");\r\n    }\r\n\r\n    componentDidMount() {\r\n        super.componentDidMount(() => {\r\n            this.queue = new QueueLinkedList(this.animator);\r\n        });\r\n    }\r\n}\r\n","import { DequeVisualizer } from '../';\r\nimport { DequeLinkedList } from 'animation';\r\nimport './deque-linked-list.scss';\r\n\r\n\r\nexport default class DequeLinkedListVisualizer extends DequeVisualizer {\r\n    static VISUALIZATION_CLASS = DequeLinkedList;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        super.class = 'deque-linkedlist';\r\n        super.addControlLabel(\"Deque (LinkedList)\");\r\n    }\r\n\r\n    componentDidMount() {\r\n        super.componentDidMount(() => {\r\n            this.deque = new DequeLinkedList(this.animator);\r\n        });\r\n    }\r\n}\r\n","import React from 'react';\r\nimport { Switch, Route, useRouteMatch, Link } from \"react-router-dom\";\r\nimport './stacks-queues-deques.scss';\r\n\r\nimport StackArrayVisualizer from './stack-array';\r\nimport QueueArrayVisualizer from './queue-array';\r\nimport DequeArrayVisualizer from './deque-array';\r\nimport StackLinkedListVisualizer from './stack-linked-list';\r\nimport QueueLinkedListVisualizer from './queue-linked-list';\r\nimport DequeLinkedListVisualizer from './deque-linked-list';\r\n\r\nexport default function StacksQueuesDeques(props) {\r\n    let { path, url } = useRouteMatch();\r\n    return (\r\n            <Switch>\r\n                <Route exact path={path} component={props => <StackQueueDequeView url={url} />} />\r\n                <Route path={`${path}/stack-array`} component={StackArrayVisualizer} />\r\n                <Route path={`${path}/queue-array`} component={QueueArrayVisualizer} />\r\n                <Route path={`${path}/deque-array`} component={DequeArrayVisualizer} />\r\n                <Route path={`${path}/stack-linkedlist`} component={StackLinkedListVisualizer} />\r\n                <Route path={`${path}/queue-linkedlist`} component={QueueLinkedListVisualizer} />\r\n                <Route path={`${path}/deque-linkedlist`} component={DequeLinkedListVisualizer} />\r\n            </Switch>\r\n        );\r\n}\r\n\r\nfunction StackQueueDequeView(props) {\r\n    let path = props.url;\r\n    return (\r\n            <div className=\"list-view\">\r\n                <Link to={`${path}/stack-array`}>StackArray</Link>\r\n                <Link to={`${path}/queue-array`}>QueueArray</Link>\r\n                <Link to={`${path}/deque-array`}>DequeArray</Link>\r\n                <Link to={`${path}/stack-linkedlist`}>StackLinkedList</Link>\r\n                <Link to={`${path}/queue-linkedlist`}>QueueLinkedList</Link>\r\n                <Link to={`${path}/deque-linkedlist`}>DequeLinkedList</Link>\r\n            </div>\r\n        );\r\n}\r\n","import React from 'react';\r\nimport { Switch, Route, useRouteMatch } from \"react-router-dom\";\r\nimport './datastructures.scss';\r\n\r\nimport Lists from 'components/lists';\r\nimport StacksQueuesDeques from 'components/stacks-queues-deques'\r\n\r\nexport default function DataStructures() {\r\n    let { path, url } = useRouteMatch();\r\n    return (\r\n            <Switch>\r\n                <Route exact path={path} component={props => <DataStructureView url={url} />} />\r\n                <Route path={`${path}/lists`} component={Lists} />\r\n                <Route path={`${path}/stacks-queues-deques`} component={StacksQueuesDeques} />\r\n            </Switch>\r\n        );\r\n}\r\n\r\nfunction DataStructureView(props) {\r\n    return (\r\n            <div className=\"datastructure-view\">\r\n            </div>\r\n        );\r\n}\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport MainComponent from './components';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<MainComponent />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","import React from 'react';\r\nimport { HashRouter, Switch, Route } from \"react-router-dom\";\r\nimport './app.scss';\r\nimport './universal.scss';\r\n\r\nimport AppHeader from './app-header';\r\nimport AppFooter from './app-footer';\r\nimport Home from 'components/home';\r\nimport About from 'components/about';\r\nimport DataStructures from 'components/datastructures';\r\n\r\nexport default function App() {\r\n    return (\r\n            <HashRouter basename='/'>\r\n                <div className=\"app\">\r\n                    <AppHeader />\r\n                    <div className=\"app-content\">\r\n                        <Switch>\r\n                            <Route exact path=\"/\" component={Home} />\r\n                            <Route path=\"/about\" component={About} />\r\n                            <Route path=\"/datastructures\" component={DataStructures} />\r\n                        </Switch>\r\n                    </div>\r\n                    <AppFooter />\r\n                </div>\r\n            </HashRouter>\r\n        );\r\n}\r\n"],"sourceRoot":""}